(this["webpackJsonpapp.renegociacao"]=this["webpackJsonpapp.renegociacao"]||[]).push([[0],{281:function(e,n){},283:function(e,n){},319:function(e,n){},320:function(e,n){},525:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t(2),c=t.n(r),i=t(79),o=t.n(i),s=t(16),l=t(4),d=t(5);function u(){var e=Object(l.a)(["\n  *{\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n  }\n\n  body {\n    background: #FFFFFF;\n    color: #A3A3A3;\n    -webkit-font-smoothing: antialiased;\n\n    overflow: auto;\n\n    ::-webkit-scrollbar {\n    width: 10px;\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n      background: #e5e5e5;\n      border-radius: 10px;\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n      background: #a3a3a3;\n    }\n  }\n\n  body, input, button {\n    font-family: 'Roboto', sans-serif;\n    font-size: 16px;\n    font-size-adjust: 0.5;\n    outline: 0;\n  }\n\n  h1, h2, h3, h4, h5, h6, strong {\n    font-weight: 500;\n  }\n\n  button {\n    cursor: pointer;\n  }\n"]);return u=function(){return e},e}var b=Object(d.a)(u()),j=t(10),p=t.n(j),x=t(15),f=t(3),O=t(162),h=t.n(O),m=t(163),g=t.n(m),v=h.a.create({baseURL:"http://api.renegociacao"}),y=h.a.create({baseURL:"http://api.timesharing"});v.interceptors.request.use(function(){var e=Object(x.a)(p.a.mark((function e(n){var t,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=localStorage.getItem("@Renegociacao:token"))&&g.a.decode(t)&&(a=g.a.decode(t),(r=Date.now()>1e3*a.exp)&&(console.log("token expired: ".concat(r)),localStorage.removeItem("@Renegociacao:token"),localStorage.removeItem("@Renegociacao:user"),localStorage.setItem("@Renegociacao:expired","session expired"),window.location.pathname="/")),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),(function(e){console.log("error in getting ",e)}));var w=t(25),k=t(531),C=t(116),_=t(24);function N(){var e=Object(l.a)(["\n      align-items: center;\n\n      svg {\n        margin-top: 0;\n      }\n    "]);return N=function(){return e},e}function S(){var e=Object(l.a)(["\n  width: 360px;\n  position: relative;\n  padding: 16px 30px 16px 16px;\n  border-radius: 10px;\n  box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.2);\n\n  display: flex;\n\n  & + div {\n    margin-top: 8px;\n  }\n\n  ","\n\n  > svg {\n    margin: 4px 12px 0 0;\n  }\n\n  div {\n    flex: 1;\n\n    p {\n      margin-top: 4px;\n      font-size: 14px;\n      opacity: 0.8;\n      line-height: 20px;\n    }\n  }\n\n  button {\n    position: absolute;\n    right: 16px;\n    top: 19px;\n    opacity: 0.6;\n    border: 0;\n    background: transparent;\n    color: inherit;\n  }\n\n  ","\n"]);return S=function(){return e},e}function D(){var e=Object(l.a)(["\n    background: #fddede;\n    color: #c53030;\n  "]);return D=function(){return e},e}function R(){var e=Object(l.a)(["\n    background: #e6fffa;\n    color: #2e656a;\n  "]);return R=function(){return e},e}function F(){var e=Object(l.a)(["\n    background: #ebf8ff;\n    color: #3172b7;\n  "]);return F=function(){return e},e}var P={info:Object(d.b)(F()),success:Object(d.b)(R()),error:Object(d.b)(D())},E=Object(d.c)(C.a.div)(S(),(function(e){return P[e.type||"info"]}),(function(e){return!e.$hasDescription&&Object(d.b)(N())})),T={info:Object(a.jsx)(_.e,{size:24}),error:Object(a.jsx)(_.a,{size:24}),success:Object(a.jsx)(_.c,{size:24})},z=function(e){var n=e.message,t=e.style,c=L().removeToast;return Object(r.useEffect)((function(){var e=setTimeout((function(){c(n.id)}),4e3);return function(){clearTimeout(e)}}),[c,n.id]),Object(a.jsxs)(E,{type:n.type,$hasDescription:!!n.description,style:t,children:[T[n.type||"info"],Object(a.jsxs)("div",{children:[Object(a.jsx)("strong",{children:n.title}),n.description&&Object(a.jsx)("p",{children:n.description})]}),Object(a.jsx)("button",{onClick:function(){return c(n.id)},type:"button",children:Object(a.jsx)(_.h,{size:18})})]})};function M(){var e=Object(l.a)(["\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: 999;\n  padding: 30px;\n  overflow: hidden;\n"]);return M=function(){return e},e}var I=d.c.div(M()),q=function(e){var n=e.messages,t=Object(C.b)(n,(function(e){return e.id}),{from:{right:"-120%"},enter:{right:"0%"},leave:{right:"-120%"}});return Object(a.jsx)(I,{children:t.map((function(e){var n=e.item,t=e.key,r=e.props;return Object(a.jsx)(z,{message:n,style:r},t)}))})},A=Object(r.createContext)({}),V=function(e){var n=e.children,t=Object(r.useState)([]),c=Object(f.a)(t,2),i=c[0],o=c[1],s=Object(r.useCallback)((function(e){var n=e.type,t=e.title,a=e.description,r={id:Object(k.a)(),type:n,title:t,description:a};o((function(e){return[].concat(Object(w.a)(e),[r])}))}),[]),l=Object(r.useCallback)((function(e){o((function(n){return n.filter((function(n){return n.id!==e}))}))}),[]);return Object(a.jsxs)(A.Provider,{value:{addToast:s,removeToast:l},children:[n,Object(a.jsx)(q,{messages:i})]})};function L(){var e=Object(r.useContext)(A);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}var Y,U=Object(r.createContext)({}),B=function(e){var n=e.children,t=L().addToast,c=Object(r.useState)((function(){var e=localStorage.getItem("@Renegociacao:token"),n=localStorage.getItem("@Renegociacao:user");return e&&n?(v.defaults.headers.authorization="Bearer ".concat(e),{token:e,user:JSON.parse(n)}):{}})),i=Object(f.a)(c,2),o=i[0],s=i[1],l=Object(r.useCallback)((function(){localStorage.removeItem("@Renegociacao:token"),localStorage.removeItem("@Renegociacao:user"),Y.postMessage("signOut"),s({})}),[]);Object(r.useEffect)((function(){(Y=new BroadcastChannel("auth")).onmessage=function(e){switch(e.data){case"signOut":l()}}}),[l]);var d=Object(r.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(n){var a,r,c,i,o,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.email,r=n.password,e.next=3,v.post("sessions",{email:a,password:r});case 3:c=e.sent,i=c.data,o=i.token,l=i.user,localStorage.setItem("@Renegociacao:token",o),localStorage.setItem("@Renegociacao:user",JSON.stringify(l)),v.defaults.headers.authorization="Bearer ".concat(o),l&&!Number(l.reset_password)&&t({type:"success",title:"Ol\xe1 ".concat(l.primeiro_nome," Bem Vindo(a)!")}),s({token:o,user:l});case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[t]),u=Object(r.useCallback)((function(e){localStorage.setItem("@Renegociacao:user",JSON.stringify(e)),s({token:o.token,user:e})}),[s,o.token]);return Object(a.jsx)(U.Provider,{value:{user:o.user,token:o.token,signIn:d,signOut:l,updateUser:u},children:n})};function $(){var e=Object(r.useContext)(U);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}var H=t(27),J=t(530),W=Object(r.createContext)({}),G=function(e){var n=e.children,t=Object(r.useState)(!1),c=Object(f.a)(t,2),i=c[0],o=c[1],s=Object(r.useState)(!1),l=Object(f.a)(s,2),d=l[0],u=l[1],b=Object(r.useState)(!1),j=Object(f.a)(b,2),O=j[0],h=j[1],m=Object(r.useState)(!1),g=Object(f.a)(m,2),y=g[0],w=g[1],k=Object(r.useState)(!1),C=Object(f.a)(k,2),_=C[0],N=C[1],S=Object(r.useState)({}),D=Object(f.a)(S,2),R=D[0],F=D[1],P=Object(r.useCallback)((function(){o(!i)}),[i]),E=Object(r.useCallback)((function(){u(!d)}),[d]),T=Object(r.useCallback)((function(){h(!O)}),[O]),z=Object(r.useCallback)((function(e){"16"===e.value?h(!O):(F(e),w(!y))}),[O,y]),M=Object(r.useCallback)((function(){w(!y)}),[y]),I=Object(r.useCallback)((function(){N(!_)}),[_]),q=Object(r.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(n,t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={negotiation:{situacao_id:6,tipo_contato_id:n.tipo_contato_id,valor_primeira_parcela:n.valor_primeira_parcela,observacao:n.observacao},retention:{valor_financiado:n.valor_financiado}},e.next=3,v.post("/negotiations/".concat(t,"/retention"),a);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[]),A=Object(r.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(n,t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={negotiation:{situacao_id:7,tipo_contato_id:n.tipo_contato_id,reembolso:n.reembolso,numero_pc:n.numero_pc,taxas_extras:n.taxas_extras,valor_primeira_parcela:n.valor_primeira_parcela,observacao:n.observacao},downgrade:{produto_id:n.produto_id,numerocontrato:n.numerocontrato,valor_venda:n.valor_venda}},e.next=3,v.post("/negotiations/".concat(t,"/downgrade-contract"),a);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[]),V=Object(r.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(n,t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={negotiation:{situacao_id:2,tipo_contato_id:n.tipo_contato_id,reembolso:n.reembolso,numero_pc:n.numero_pc,taxas_extras:n.taxas_extras,observacao:n.observacao},cancel:{multa:n.multa}},e.next=3,v.post("/negotiations/".concat(t,"/cancel-contract"),a);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[]),L=Object(r.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(n,t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={negotiation:{situacao_id:n.situacao_id,tipo_contato_id:n.tipo_contato_id,observacao:n.observacao}},e.next=3,v.post("/negotiations/".concat(t,"/default"),a);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[]),Y=Object(r.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(n,t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={origem_id:n.origem_id,tipo_solicitacao_id:n.tipo_solicitacao_id,motivo_id:n.motivo_id},e.next=3,v.post("/occurrences/".concat(t,"/register"),a);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[]),U=Object(r.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(n,t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={negotiation:{origem_id:n.origem_id,tipo_solicitacao_id:n.tipo_solicitacao_id,motivo_id:n.motivo_id,reembolso:n.reembolso,numero_pc:n.numero_pc,taxas_extras:n.taxas_extras,multa:n.multa,valor_primeira_parcela:n.valor_primeira_parcela,data_finalizacao:n.data_finalizacao?Object(H.a)(Object(J.a)(n.data_finalizacao,"dd/MM/yyyy",new Date),"yyyy-MM-dd"):void 0}},e.next=3,v.put("/negotiations/".concat(t),a);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[]);return Object(a.jsx)(W.Provider,{value:{showModalRetentionContract:i,showModalDowngradeContract:d,showModalCancelContract:O,showModalDefaultNegotiationClose:y,showModalNegotiationRegister:_,optionModalOutrosSelected:R,toggleModalRetentionContract:P,toggleModalDowngradeContract:E,toggleModalCancelContract:T,toggleModalDefaultNegotiationClose:M,toggleModalNegotiationRegister:I,toggleModalOutrosSelected:z,retentionContract:q,downgradeContract:A,cancelContract:V,defaultNegotiationClose:L,negotiationRegister:Y,negotiationUpdate:U},children:n})};function X(){var e=Object(r.useContext)(W);if(!e)throw new Error("useNegotiation must be used within an NegotiationProvider");return e}var K=function(e){var n=e.children;return Object(a.jsx)(V,{children:Object(a.jsx)(B,{children:Object(a.jsx)(G,{children:n})})})},Q=t(33),Z=t(7),ee=t(50);function ne(e){var n,t=e.permissions,a=e.roles,r=$().user;if(!r)return!1;if(t&&(null===t||void 0===t?void 0:t.length)>0&&!(null===t||void 0===t?void 0:t.every((function(e){return r.permissions.includes(e)}))))return!1;if(a&&(null===a||void 0===a?void 0:a.length)>0&&!(null===(n=r.roles)||void 0===n?void 0:n.some((function(e){return a.includes(e.name)}))))return!1;return!0}var te=function(e){var n=e.isPrivate,t=void 0!==n&&n,r=e.permissions,c=e.roles,i=e.component,o=Object(ee.a)(e,["isPrivate","permissions","roles","component"]),s=$().user,l=ne({permissions:r,roles:c});return s&&!l?Object(a.jsx)(Q.a,{to:{pathname:t?"/":"/dashboard"}}):Object(a.jsx)(Q.b,Object(Z.a)(Object(Z.a)({},o),{},{render:function(e){var n=e.location;return t===!!s?Object(a.jsx)(i,{}):Object(a.jsx)(Q.a,{to:{pathname:t?"/":"/dashboard",state:{from:n}}})}}))},ae=t(28),re=t(6);function ce(e){var n={};return e.inner.forEach((function(e){e.path&&(n[e.path]=e.message)})),n}var ie=t.p+"static/media/logo_vacation.8d634615.svg",oe=t(71);function se(){var e=Object(l.a)(["\n  position: relative;\n\n  span {\n    width: 160px;\n    background: #ff9000;\n    padding: 8px;\n    border-radius: 4px;\n    font-size: 14px;\n    font-weight: 500;\n    opacity: 0;\n    transition: opacity 0.4s;\n    visibility: hidden;\n\n    position: absolute;\n    bottom: calc(100% + 12px);\n    left: 50%;\n    transform: translateX(-50%);\n\n    color: #312e38;\n\n    &::before {\n      content: '';\n      border-style: solid;\n      border-color: #ff9000 transparent;\n      border-width: 6px 6px 0 6px;\n      top: 100%;\n      position: absolute;\n      left: 50%;\n      transform: translateX(-50%);\n    }\n  }\n\n  &:hover span {\n    opacity: 1;\n    visibility: visible;\n  }\n"]);return se=function(){return e},e}var le=d.c.div(se()),de=function(e){var n=e.title,t=e.className,r=e.children;return Object(a.jsxs)(le,{className:t,children:[r,Object(a.jsx)("span",{children:n})]})};function ue(){var e=Object(l.a)(["\n  height: 20px;\n  margin-left: 16px;\n\n  svg {\n    margin-right: 0;\n  }\n\n  span {\n    background: #c53030;\n    color: #fff;\n\n    &::before {\n      border-color: #c53030 transparent;\n    }\n  }\n"]);return ue=function(){return e},e}function be(){var e=Object(l.a)(["\n      color: #003379;\n    "]);return be=function(){return e},e}function je(){var e=Object(l.a)(["\n      border: 3px solid #003379;\n      color: #003379;\n    "]);return je=function(){return e},e}function pe(){var e=Object(l.a)(["\n      border-color: #c53030;\n    "]);return pe=function(){return e},e}function xe(){var e=Object(l.a)(["\n  background: #fff;\n  border-radius: 10px;\n  padding: 16px;\n  width: 100%;\n\n  border: 3px solid #f0f0f0;\n  color: #666360;\n\n  display: flex;\n  align-items: center;\n\n  & + div {\n    margin-top: 8px;\n  }\n\n  ","\n\n  ","\n\n  ","\n\n  input {\n    flex: 1;\n    background: transparent;\n    border: 0;\n    color: #000000;\n\n    &::placeholder {\n      color: #b7b7cc;\n    }\n  }\n\n  svg {\n    margin-right: 16px;\n  }\n"]);return xe=function(){return e},e}var fe=d.c.div(xe(),(function(e){return e.isErrored&&Object(d.b)(pe())}),(function(e){return e.isFocused&&Object(d.b)(je())}),(function(e){return e.isFilled&&Object(d.b)(be())})),Oe=Object(d.c)(de)(ue());function he(e){e.currentTarget.maxLength=10;var n=e.currentTarget.value;return n=(n=(n=n.replace(/^(\d\d)(\d)$/g,"$1/$2")).replace(/^(\d\d\/\d\d)(\d+)$/g,"$1/$2")).replace(/[^\d/]/g,""),e.currentTarget.value=n,e}var me=function(e,n){var t=e.name,c=e.containerStyle,i=void 0===c?{}:c,o=e.mask,s=e.autoComplete,l=e.icon,d=e.dataTestId,u=Object(ee.a)(e,["name","containerStyle","mask","autoComplete","icon","dataTestId"]),b=Object(r.useRef)(null),j=Object(r.useState)(!1),p=Object(f.a)(j,2),x=p[0],O=p[1],h=Object(r.useState)(!1),m=Object(f.a)(h,2),g=m[0],v=m[1],y=Object(oe.c)(t),w=y.fieldName,k=y.defaultValue,C=y.error,N=y.registerField;Object(r.useImperativeHandle)(n,(function(){var e;return{inputValue:null===(e=b.current)||void 0===e?void 0:e.value}}));var S=Object(r.useCallback)((function(){O(!0)}),[]),D=Object(r.useCallback)((function(){var e;O(!1),v(!!(null===(e=b.current)||void 0===e?void 0:e.value))}),[]);Object(r.useEffect)((function(){N({name:w,ref:b.current,path:"value"})}),[w,N]);var R=Object(r.useCallback)((function(e){"cep"===o&&function(e){e.currentTarget.maxLength=9;var n=e.currentTarget.value;n=(n=n.replace(/\D/g,"")).replace(/^(\d{5})(\d)/,"$1-$2"),e.currentTarget.value=n}(e),"currency"===o&&function(e){var n=e.currentTarget.value;n=(n=(n=n.replace(/\D/g,"")).replace(/(\d)(\d{2})$/,"$1,$2")).replace(/(?=(\d{3})+(\D))\B/g,"."),e.currentTarget.value=n}(e),"cpf"===o&&function(e){e.currentTarget.maxLength=14;var n=e.currentTarget.value;n.match(/^(\d{3}).(\d{3}).(\d{3})-(\d{2})$/)||(n=(n=(n=(n=n.replace(/\D/g,"")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d{2})$/,"$1-$2"),e.currentTarget.value=n)}(e),"number"===o&&function(e){var n=e.currentTarget.value;n=n.replace(/\D/g,""),e.currentTarget.value=n}(e),"date"===o&&he(e),"toUpper"===o&&function(e){var n=e.currentTarget.value;e.currentTarget.value=n.toUpperCase()}(e)}),[o]);return Object(a.jsxs)(fe,{style:i,isErrored:!!C,isFilled:g,isFocused:x,"data-test-id":d,children:[l&&Object(a.jsx)(l,{size:20}),Object(a.jsx)("input",Object(Z.a)({onFocus:S,onBlur:D,defaultValue:k,ref:b,onKeyUp:R,autoComplete:s},u)),C&&Object(a.jsx)(Oe,{className:"logoErrorInput",title:C,children:Object(a.jsx)(_.a,{color:"#c53030",size:20})})]})},ge=Object(r.forwardRef)(me),ve=(t(56),t(37)),ye=t.n(ve),we=t(26);function ke(){var e=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 20px;\n  background: #182390;\n  height: 56px;\n  border-radius: 10px;\n  border: 0;\n  padding: 0 16px;\n  color: #fff;\n  width: 100%;\n  font-weight: 500;\n  margin-top: 16px;\n  transition: background-color 0.2s;\n\n  &:hover {\n    /* background: ","; */\n    opacity: 0.8;\n  }\n"]);return ke=function(){return e},e}var Ce=d.c.button(ke(),Object(we.a)(.2,"#182390")),_e=function(e){var n=e.children,t=e.loading,r=Object(ee.a)(e,["children","loading"]);return Object(a.jsx)(Ce,Object(Z.a)(Object(Z.a)({type:"button"},r),{},{children:t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ye.a,{type:"Oval",color:"#FFF",height:24,width:24}),Object(a.jsx)("p",{children:"Carregando..."})]}):n}))},Ne=t.p+"static/media/beachpark.7c4bb9d6.png";function Se(){var e=Object(l.a)(["\n  flex: 1;\n  background: url(",") no-repeat center;\n  background-size: cover;\n"]);return Se=function(){return e},e}function De(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  animation: "," 1s;\n\n  h1 {\n    margin-top: 24px;\n    color: #182390;\n  }\n\n  form {\n    margin: 80px 0;\n    width: 340px;\n    text-align: center;\n\n    h1 {\n      margin-bottom: 24px;\n    }\n\n    a {\n      color: #f4ede8;\n      display: block;\n      margin-top: 24px;\n      text-decoration: none;\n      transition: color 0.2s;\n\n      &:hover {\n        color: ",";\n      }\n    }\n  }\n\n  > a {\n    color: #003379;\n    display: block;\n    margin-top: 24px;\n    text-decoration: none;\n    transition: color 0.2s;\n\n    display: flex;\n    align-items: center;\n\n    &:hover {\n      color: ",";\n    }\n\n    svg {\n      margin-right: 16px;\n    }\n  }\n"]);return De=function(){return e},e}function Re(){var e=Object(l.a)(["\n  from{\n    opacity: 0;\n    transform: translateX(-50px);\n  }\n  to{\n    opacity: 1;\n    transform: translateX(0);\n  }\n\n"]);return Re=function(){return e},e}function Fe(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  max-width: 700px;\n"]);return Fe=function(){return e},e}function Pe(){var e=Object(l.a)(["\n  height: 100vh;\n\n  display: flex;\n  align-items: stretch;\n"]);return Pe=function(){return e},e}var Ee=d.c.div(Pe()),Te=d.c.div(Fe()),ze=Object(d.d)(Re()),Me=d.c.div(De(),ze,Object(we.a)(.2,"#f4EDE8"),Object(we.a)(.2,"#003379")),Ie=d.c.div(Se(),Ne),qe=function(){var e=Object(r.useRef)(null),n=Object(Q.g)(),t=$().signIn,c=L().addToast,i=Object(r.useState)(!1),o=Object(f.a)(i,2),s=o[0],l=o[1];Object(r.useEffect)((function(){localStorage.getItem("@Renegociacao:expired")&&(c({type:"info",title:"Sess\xe3o expirou",description:"Sua sess\xe3o expirou! Por favor, fa\xe7a login novamente."}),localStorage.removeItem("@Renegociacao:expired"))}),[c]);var d=Object(r.useCallback)(function(){var a=Object(x.a)(p.a.mark((function a(r){var i,o,s,d,u;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,null===(i=e.current)||void 0===i||i.setErrors({}),o=re.c().shape({email:re.e().required("E-mail obrigat\xf3rio").email("Digite um e-mail v\xe1lido"),password:re.e().required("Senha \xe9 obrigat\xf3ria")}),a.next=5,o.validate(r,{abortEarly:!1});case 5:return l(!0),a.next=8,t({email:r.email,password:r.password});case 8:n.push("/dashboard"),a.next=19;break;case 11:if(a.prev=11,a.t0=a.catch(0),!(a.t0 instanceof re.a)){a.next=17;break}return u=ce(a.t0),null===(d=e.current)||void 0===d||d.setErrors(u),a.abrupt("return");case 17:l(!1),c({type:"error",title:"Erro na autentica\xe7\xe3o",description:(null===(s=a.t0.response)||void 0===s?void 0:s.data.message)?a.t0.response.data.message:"Erro na solicita\xe7\xe3o"});case 19:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}(),[t,c,n]);return Object(a.jsxs)(Ee,{children:[Object(a.jsx)(Te,{children:Object(a.jsxs)(Me,{children:[Object(a.jsx)("img",{src:ie,alt:"RenegociacaoWeb"}),Object(a.jsx)("h1",{children:"Renegocia\xe7\xe3o Web"}),Object(a.jsxs)(ae.a,{ref:e,onSubmit:d,children:[Object(a.jsx)("h1",{children:"Fa\xe7a seu login"}),Object(a.jsx)(ge,{name:"email",icon:_.g,placeholder:"E-mail",autoComplete:"on"}),Object(a.jsx)(ge,{name:"password",icon:_.f,type:"password",placeholder:"Senha"}),Object(a.jsx)(_e,{type:"submit",loading:s,children:"Entrar"})]})]})}),Object(a.jsx)(Ie,{})]})};function Ae(){var e=Object(l.a)(["\n  flex: 1;\n  background: url(",") no-repeat center;\n  background-size: cover;\n"]);return Ae=function(){return e},e}function Ve(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  animation: "," 1s;\n\n  form {\n    margin: 80px 0;\n    width: 340px;\n    text-align: center;\n\n    h1 {\n      margin-bottom: 24px;\n      color: #182390;\n    }\n\n    p.resetPasswordMessage {\n      padding: 10px;\n      margin-bottom: 24px;\n      background: #ffc7ce;\n      color: #ff365f;\n      border: 3px solid #ff365f;\n      border-radius: 8px;\n    }\n\n    a {\n      color: #f4ede8;\n      display: block;\n      margin-top: 24px;\n      text-decoration: none;\n      transition: color 0.2s;\n\n      &:hover {\n        color: ",";\n      }\n    }\n  }\n\n  > a {\n    color: #003379;\n    display: block;\n    margin-top: 24px;\n    text-decoration: none;\n    transition: color 0.2s;\n\n    display: flex;\n    align-items: center;\n\n    &:hover {\n      color: ",";\n    }\n\n    svg {\n      margin-right: 16px;\n    }\n  }\n\n  button.backLogon {\n    display: flex;\n    align-items: center;\n\n    color: #003379;\n    background: transparent;\n    border: 0;\n    padding: 8px;\n    border-radius: 10px;\n    transition: 0.2s;\n\n    &:hover {\n      background-color: #98c1d8;\n      transform: scale(1.05);\n    }\n\n    svg {\n      margin-right: 10px;\n    }\n  }\n"]);return Ve=function(){return e},e}function Le(){var e=Object(l.a)(["\n  from{\n    opacity: 0;\n    transform: translateX(50px);\n  }\n  to{\n    opacity: 1;\n    transform: translateX(0);\n  }\n\n"]);return Le=function(){return e},e}function Ye(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  max-width: 700px;\n"]);return Ye=function(){return e},e}function Ue(){var e=Object(l.a)(["\n  height: 100vh;\n\n  display: flex;\n  align-items: stretch;\n"]);return Ue=function(){return e},e}var Be=d.c.div(Ue()),$e=d.c.div(Ye()),He=Object(d.d)(Le()),Je=d.c.div(Ve(),He,Object(we.a)(.2,"#f4EDE8"),Object(we.a)(.2,"#003379")),We=d.c.div(Ae(),Ne),Ge=function(){var e=Object(r.useState)(!1),n=Object(f.a)(e,2),t=n[0],c=n[1],i=Object(r.useRef)(null),o=$(),s=o.user,l=o.signOut,d=L().addToast,u=Object(r.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(n){var t,a,r,o,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null===(t=i.current)||void 0===t||t.setErrors({}),a=re.c().shape({password:re.e().min(6,"No m\xednimo 6 digitos"),password_confirmation:re.e().oneOf([re.d("password"),null],"Confirma\xe7\xe3o incorreta")}),e.next=5,a.validate(n,{abortEarly:!1});case 5:return r=n.password,c(!0),e.next=9,v.put("/users/".concat(null===s||void 0===s?void 0:s.id,"/create-password"),{password:r});case 9:l(),d({type:"success",title:"Senha alterada com sucesso!",description:"Voc\xea j\xe1 pode realizar o login no sistema!"}),e.next=21;break;case 13:if(e.prev=13,e.t0=e.catch(0),!(e.t0 instanceof re.a)){e.next=19;break}return u=ce(e.t0),null===(o=i.current)||void 0===o||o.setErrors(u),e.abrupt("return");case 19:c(!1),d({type:"error",title:"Erro na altera\xe7\xe3o da senha",description:e.t0.response.data.message?e.t0.response.data.message:"Erro na solicita\xe7\xe3o"});case 21:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(n){return e.apply(this,arguments)}}(),[d,null===s||void 0===s?void 0:s.id,l]);return Object(a.jsxs)(Be,{children:[Object(a.jsx)(We,{}),Object(a.jsx)($e,{children:Object(a.jsxs)(Je,{children:[Object(a.jsx)("img",{src:ie,alt:"RenegociacaoWeb"}),Object(a.jsxs)(ae.a,{ref:i,onSubmit:u,children:[Object(a.jsx)("h1",{children:"Alterar Senha"}),Object(a.jsx)("p",{className:"resetPasswordMessage",children:"Voc\xea esta acessando o sistema pela primeira vez ou sua senha foi redefinida. Por favor registre uma nova senha"}),Object(a.jsx)(ge,{name:"password",icon:_.f,type:"password",placeholder:"Nova senha"}),Object(a.jsx)(ge,{name:"password_confirmation",icon:_.f,type:"password",placeholder:"Confirma\xe7\xe3o de senha"}),Object(a.jsx)(_e,{type:"submit",loading:t,children:"Alterar senha"})]}),Object(a.jsxs)("button",{className:"backLogon",type:"button",title:"Log out",onClick:l,children:[Object(a.jsx)(_.b,{size:20}),"Voltar para logon"]})]})})]})},Xe=t(12),Ke=t(35),Qe=t(252);function Ze(){var e=Object(l.a)(["\n  div.row {\n    display: flex;\n    padding: 8px 0;\n  }\n\n  span {\n    margin-right: 10px;\n  }\n"]);return Ze=function(){return e},e}function en(){var e=Object(l.a)([""]);return en=function(){return e},e}function nn(){var e=Object(l.a)(["\n  background: #fff;\n  padding: 10px;\n  font-size: 14px;\n  margin-bottom: 20px;\n\n  border: 2px solid #f0f0f0;\n  /* box-shadow: 4px 0px 4px rgba(0, 0, 0, 0.25); */\n  border-radius: 10px;\n"]);return nn=function(){return e},e}function tn(){var e=Object(l.a)(["\n  margin-left: 256px;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n"]);return tn=function(){return e},e}function an(){var e=Object(l.a)(["\n  position: relative;\n  height: 90px;\n  display: flex;\n  align-items: flex-end;\n  margin-bottom: 30px;\n\n  button.refreshPage {\n    position: absolute;\n    display: flex;\n    align-items: center;\n\n    top: 0;\n    right: 0;\n\n    background: #caf0f8;\n    color: #003379;\n    border: 0;\n    font-size: 15px;\n    height: 30px;\n    padding: 5px;\n    border-radius: 5px;\n    transition: 0.3s;\n\n    &:hover {\n      background: #98c1d8;\n    }\n\n    svg {\n      margin-right: 5px;\n    }\n  }\n"]);return an=function(){return e},e}function rn(){var e=Object(l.a)(["\n  position: relative;\n  margin: 0 auto;\n  display: flex;\n"]);return rn=function(){return e},e}var cn=d.c.div(rn()),on=d.c.div(an()),sn=d.c.div(tn()),ln=d.c.div(nn()),dn=d.c.div(en()),un=d.c.div(Ze()),bn=t(11),jn=function(e){var n=e.children;return ne({permissions:e.permissions,roles:e.roles})?Object(a.jsx)(a.Fragment,{children:n}):null};function pn(){var e=Object(l.a)(["\n  position: fixed;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  width: 256px;\n  max-width: 256px;\n  height: 100vh;\n  background: #fff;\n  z-index: 1;\n\n  .logo {\n    width: 125px;\n    margin-top: 23px;\n  }\n\n  h1 {\n    color: #003379;\n    font-size: 24px;\n    font-weight: bold;\n    margin-top: 30px;\n  }\n\n  ul {\n    list-style: none;\n    margin-top: 30px;\n\n    li {\n      display: flex;\n      height: 56px;\n      width: 200px;\n      border-radius: 30px;\n      align-items: center;\n      justify-content: center;\n\n      & + li {\n        margin-top: 10px;\n      }\n\n      transition-duration: 0.3s;\n\n      &:hover {\n        background: #003379;\n        a {\n          color: #fff;\n        }\n        transform: scale(1.05);\n      }\n\n      svg {\n        width: 30px;\n        height: 30px;\n        margin-right: 20px;\n      }\n    }\n\n    a {\n      display: flex;\n      height: 56px;\n      width: 200px;\n      text-decoration: none;\n      color: #a3a3a3;\n      align-items: center;\n      justify-content: center;\n      border-radius: 30px;\n    }\n\n    a.active {\n      background: #003379;\n      color: #fff;\n      cursor: default;\n      box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.25);\n      pointer-events: none;\n    }\n  }\n\n  ul.adminLinks {\n    margin-top: 20px;\n  }\n\n  hr {\n    background: #d2cfcf;\n    height: 2px;\n    border: 0;\n    width: 256px;\n    margin-top: 20px;\n  }\n\n  button {\n    display: flex;\n    height: 56px;\n    width: 200px;\n    align-items: center;\n    justify-content: start;\n    color: #a3a3a3;\n    background: transparent;\n    border: 0;\n    border-radius: 30px;\n    text-decoration: none;\n    margin-top: 20px;\n\n    transition-duration: 0.3s;\n\n    &:hover {\n      background: #003379;\n      color: #fff;\n      transform: scale(1.05);\n    }\n\n    svg {\n      width: 30px;\n      height: 30px;\n      margin-right: 20px;\n      margin-left: 30px;\n    }\n  }\n"]);return pn=function(){return e},e}var xn=d.c.aside(pn()),fn=[{page:"/dashboard",label:"Dashboard",icon:Object(a.jsx)(bn.g,{})},{page:"/occurrences",label:"Ocorr\xeancias",icon:Object(a.jsx)(bn.l,{})},{page:"/negotiations",label:"Negocia\xe7\xf5es",icon:Object(a.jsx)(bn.p,{})}],On=function(){var e=$().signOut;return Object(a.jsxs)(xn,{children:[Object(a.jsx)(s.b,{to:"/",children:Object(a.jsx)("img",{src:ie,className:"logo",alt:"Renegocia\xe7\xe3o Web"})}),Object(a.jsx)("h1",{children:"Renegocia\xe7\xe3o"}),Object(a.jsx)("ul",{children:fn.map((function(e){var n=e.label,t=e.page,r=e.icon;return Object(a.jsx)("li",{children:Object(a.jsxs)(s.c,{to:t,activeClassName:"active",children:[r,n]},t)},t)}))}),Object(a.jsx)("hr",{}),Object(a.jsx)(jn,{roles:["ROLE_ADMIN","ROLE_GERENTE","ROLE_COORDENADOR"],children:Object(a.jsx)("ul",{className:"adminLinks",children:Object(a.jsx)("li",{children:Object(a.jsxs)(s.c,{to:"/settings",activeClassName:"active",children:[Object(a.jsx)(bn.k,{}),"Configura\xe7\xf5es"]})})})}),Object(a.jsxs)("button",{type:"button",title:"Log out",onClick:e,children:[Object(a.jsx)(bn.u,{}),"Log out"]})]})},hn=t.p+"static/media/user.4a000e6c.svg",mn=function(e){var n=Object(r.useRef)(null),t=Object(r.useState)(e),a=Object(f.a)(t,2),c=a[0],i=a[1],o=function(e){var t;(null===(t=n.current)||void 0===t?void 0:t.contains(e.target))||i(!1)},s=function(e){"Escape"===e.key&&i(!1)};return Object(r.useEffect)((function(){return document.addEventListener("mousedown",o),document.addEventListener("keydown",s,!0),function(){document.removeEventListener("mousedown",o),document.removeEventListener("keydown",s,!0)}}),[n]),{visible:c,setVisible:i,ref:n}},gn=t.p+"static/media/search.a86e8c87.svg";function vn(){var e=Object(l.a)(["\n  position: absolute;\n  right: 0px;\n  top: calc(100% + 24px);\n  width: 256px;\n  padding: 0px;\n  background: #fff;\n  border-radius: 5px;\n  box-shadow: rgb(0 0 0 / 40%) 0px 5px 10px;\n  transition: opacity 0.2s ease 0s, visibility 0.2s ease 0s;\n  opacity: 1;\n\n  a {\n    display: flex;\n    justify-content: start;\n    align-items: center;\n    font-size: 16px;\n    color: #a3a3a3;\n    padding: 12px 24px;\n    transition: background 0.2s ease 0s;\n    cursor: pointer;\n    background: transparent;\n    border: none;\n    width: 100%;\n    text-decoration: none;\n\n    svg.drop {\n      width: 16;\n      height: 16;\n      margin-right: 0;\n    }\n\n    span {\n      margin-left: 24px;\n    }\n\n    &:hover {\n      background: #e5e5e5;\n    }\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: -8px;\n    right: 19px;\n    width: 0px;\n    height: 0px;\n    border-style: solid;\n    border-width: 0px 8px 8px;\n    border-color: transparent transparent #fff;\n  }\n\n  button.logout {\n    display: flex;\n    justify-content: start;\n    align-items: center;\n    font-size: 16px;\n    color: #a3a3a3;\n    padding: 12px 24px;\n    transition: background 0.2s ease 0s;\n    cursor: pointer;\n    background: transparent;\n    border: none;\n    width: 100%;\n    text-decoration: none;\n    border-radius: 0px;\n\n    svg.drop {\n      width: 16;\n      height: 16;\n      margin-right: 0;\n    }\n\n    span {\n      margin-left: 24px;\n    }\n\n    &:hover {\n      background: #e5e5e5;\n    }\n  }\n"]);return vn=function(){return e},e}function yn(){var e=Object(l.a)(["\n  position: relative;\n  z-index: 1;\n"]);return yn=function(){return e},e}function wn(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  svg {\n    width: 25px;\n    height: 25px;\n    margin-right: 30px;\n    cursor: pointer;\n  }\n\n  button {\n    display: flex;\n    height: 56px;\n    width: 200px;\n    border-radius: 30px;\n    align-items: center;\n    justify-content: space-between;\n    margin-left: auto;\n    background: #e5e5e5;\n    border: 0;\n\n    img {\n      width: 50px;\n      height: 50px;\n      border-radius: 50%;\n      margin-left: 4px;\n    }\n  }\n"]);return wn=function(){return e},e}function kn(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px solid #e5e5e5;\n  padding: 20px;\n\n  height: 100px;\n\n  div input {\n    width: 320px;\n    border: 0;\n    height: 34px;\n    padding-left: 50px;\n    font-size: 12px;\n    background: url(",") no-repeat 5px center;\n  }\n"]);return kn=function(){return e},e}var Cn=d.c.header(kn(),gn),_n=d.c.div(wn()),Nn=d.c.div(yn()),Sn=d.c.div(vn()),Dn=function(e){var n=e.children,t=mn(!1),c=t.visible,i=t.setVisible,o=t.ref,l=$(),d=l.user,u=l.signOut,b=Object(r.useCallback)((function(){i((function(e){return!e}))}),[i]);return Object(a.jsxs)(Cn,{children:[Object(a.jsx)("div",{children:n}),Object(a.jsxs)(_n,{children:[Object(a.jsx)(bn.f,{title:"Notifica\xe7\xf5es"}),Object(a.jsxs)(Nn,{ref:o,children:[Object(a.jsxs)("button",{type:"button",onClick:b,children:[Object(a.jsx)("img",{src:hn,alt:d.primeiro_nome}),Object(a.jsx)("span",{children:d.primeiro_nome}),Object(a.jsx)(bn.c,{})]}),c&&Object(a.jsx)(Sn,{children:Object(a.jsxs)(s.b,{to:"/",className:"logout",title:"Log out",onClick:u,children:[Object(a.jsx)(bn.u,{}),"Log out"]})})]})]})]})};function Rn(){var e=Object(l.a)(["\n  padding: 20px;\n  background: #fff;\n  border: 1px solid #e6e8eb;\n  border-radius: 10px;\n\n  & + div {\n    margin-top: 10px;\n  }\n\n  header {\n    display: flex;\n    align-items: center;\n    margin-bottom: 15px;\n  }\n\n  table {\n    width: 100%;\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n\n  thead {\n    th {\n      height: 55px;\n    }\n  }\n\n  th {\n    text-align: left;\n    height: 40px;\n    line-height: 40px;\n    color: #acacac;\n  }\n\n  td {\n    white-space: normal;\n    text-align: left;\n    height: 35px;\n    padding: 5px;\n    font-size: 14px;\n    font-weight: bold;\n  }\n"]);return Rn=function(){return e},e}var Fn=d.c.div(Rn()),Pn=function(e){return new Intl.NumberFormat("pt-br",{maximumFractionDigits:2,minimumFractionDigits:2}).format(e)},En=function(e){return e?Number(e.replace(/(,|\.)([0-9]{3})/g,"$2").replace(/(,|\.)/,".")):0},Tn=function(e){var n=e.year,t=Object(r.useState)([]),c=Object(f.a)(t,2),i=c[0],o=c[1];return Object(r.useEffect)((function(){v.get("/reports/monthly-requests",{params:{year:n}}).then((function(e){var n=e.data.data.map((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{request_valueFormatted:Pn(e.request_value),profitFormatted:Pn(e.profit),financial_loss_valueFormatted:Pn(e.financial_loss_value)})}));o(n)})).catch((function(e){console.log(e)}))}),[n]),Object(a.jsxs)(Fn,{children:[Object(a.jsx)("header",{children:Object(a.jsx)("h3",{children:"Solicita\xe7\xe3o de Cancelamento Mensal"})}),Object(a.jsxs)("table",{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Ciclo Sol."}),Object(a.jsx)("th",{children:"Valor Solicitado"}),Object(a.jsx)("th",{children:"Faturamento"}),Object(a.jsx)("th",{children:"Perda Financeira"}),Object(a.jsx)("th",{children:"% Efici\xeancia"}),Object(a.jsx)("th",{children:"% Perda"})]})}),Object(a.jsx)("tbody",{children:i&&i.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.cycle_start}),Object(a.jsx)("td",{children:e.request_valueFormatted}),Object(a.jsx)("td",{children:e.profitFormatted}),Object(a.jsx)("td",{children:e.financial_loss_valueFormatted}),Object(a.jsx)("td",{children:"".concat(e.efficiency,"%")}),Object(a.jsx)("td",{children:"".concat(e.financial_loss,"%")})]},e.cycle_start)}))})]})]})},zn=function(e){var n=e.year,t=Object(r.useState)([]),c=Object(f.a)(t,2),i=c[0],o=c[1];return Object(r.useEffect)((function(){v.get("/reports/monthly-requests-seven-days",{params:{year:n}}).then((function(e){var n=e.data.data.map((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{request_valueFormatted:Pn(e.request_value),profitFormatted:Pn(e.profit)})}));o(n)})).catch((function(e){console.log(e)}))}),[n]),Object(a.jsxs)(Fn,{children:[Object(a.jsx)("header",{children:Object(a.jsx)("h3",{children:"Solicita\xe7\xe3o de Cancelamento Mensal 7 Dias"})}),Object(a.jsxs)("table",{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Ciclo Finaliza\xe7\xe3o"}),Object(a.jsx)("th",{children:"Valor Solicitado"}),Object(a.jsx)("th",{children:"Faturamento"}),Object(a.jsx)("th",{children:"% Efici\xeancia"})]})}),Object(a.jsx)("tbody",{children:i&&i.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.cycle_end}),Object(a.jsx)("td",{children:e.request_valueFormatted}),Object(a.jsx)("td",{children:e.profitFormatted}),Object(a.jsx)("td",{children:"".concat(e.efficiency,"%")})]},e.cycle_end)}))})]})]})},Mn=function(e){var n=e.year,t=Object(r.useState)([]),c=Object(f.a)(t,2),i=c[0],o=c[1];return Object(r.useEffect)((function(){v.get("/reports/accumulated-profit",{params:{year:n}}).then((function(e){var n=e.data.data.map((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{request_amountFormatted:Pn(e.request_amount),kept_amountFormatted:Pn(e.kept_amount),new_contract_valueFormatted:Pn(e.new_contract_value),financial_loss_amountFormatted:Pn(e.financial_loss_amount),extra_rateFormatted:Pn(e.extra_rate),fineFormatted:Pn(e.fine),refundFormatted:Pn(e.refund)})}));o(n)})).catch((function(e){console.log(e)}))}),[n]),Object(a.jsxs)(Fn,{children:[Object(a.jsx)("header",{children:Object(a.jsx)("h3",{children:"Faturamento Acumulado"})}),Object(a.jsxs)("table",{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Ciclo Finaliza\xe7\xe3o"}),Object(a.jsx)("th",{children:"Valor Solicitado"}),Object(a.jsx)("th",{children:"Reten\xe7\xe3o"}),Object(a.jsx)("th",{children:"Revers\xe3o"}),Object(a.jsx)("th",{children:"Perda"}),Object(a.jsx)("th",{children:"Taxas"}),Object(a.jsx)("th",{children:"Multa"}),Object(a.jsx)("th",{children:"Reembolso"})]})}),Object(a.jsx)("tbody",{children:i&&i.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.cycle_end}),Object(a.jsx)("td",{children:e.request_amountFormatted}),Object(a.jsx)("td",{children:e.kept_amountFormatted}),Object(a.jsx)("td",{children:e.new_contract_valueFormatted}),Object(a.jsx)("td",{children:e.financial_loss_amountFormatted}),Object(a.jsx)("td",{children:e.extra_rateFormatted}),Object(a.jsx)("td",{children:e.fineFormatted}),Object(a.jsx)("td",{children:e.refundFormatted})]},e.cycle_end)}))})]})]})};function In(){var e=Object(l.a)([""]);return In=function(){return e},e}function qn(){var e=Object(l.a)([""]);return qn=function(){return e},e}function An(){var e=Object(l.a)(["\n  padding: 20px;\n  background: #fff;\n  border: 1px solid #e6e8eb;\n  border-radius: 10px;\n\n  header {\n    display: flex;\n    align-items: center;\n    margin-bottom: 15px;\n  }\n\n  table {\n    width: 100%;\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n\n  thead {\n    th {\n      height: 55px;\n    }\n  }\n\n  th {\n    text-align: left;\n    height: 40px;\n    line-height: 40px;\n    color: #acacac;\n  }\n\n  td {\n    white-space: normal;\n    text-align: left;\n    height: 35px;\n    padding: 5px;\n    font-size: 14px;\n    font-weight: bold;\n  }\n"]);return An=function(){return e},e}function Vn(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Vn=function(){return e},e}function Ln(){var e=Object(l.a)(["\n  display: flex;\n  width: 250px;\n  height: 100px;\n  padding: 10px;\n  background: #fff;\n  border-radius: 10px;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid #e6e8eb;\n\n  img.data-card-logo {\n    width: 55px;\n    height: 55px;\n  }\n\n  div.data-card-content {\n    margin-left: 20px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n"]);return Ln=function(){return e},e}function Yn(){var e=Object(l.a)(["\n  display: flex;\n  flex: 1;\n  margin-bottom: 10px;\n  justify-content: space-between;\n"]);return Yn=function(){return e},e}function Un(){var e=Object(l.a)(["\n  height: 90px;\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n  padding: 10px;\n\n  p {\n    margin-right: 10px;\n  }\n\n  svg {\n    margin-right: 10px;\n  }\n"]);return Un=function(){return e},e}function Bn(){var e=Object(l.a)(["\n  height: 100%;\n  padding: 30px;\n  color: #3c3c3c;\n  background: #f7f8fa;\n\n  div.horizontalRowChart {\n    display: grid;\n    grid-template-columns: 60% 40%;\n    gap: 10px;\n    margin-right: 10px;\n    margin-bottom: 10px;\n  }\n"]);return Bn=function(){return e},e}var $n=d.c.div(Bn()),Hn=d.c.div(Un()),Jn=d.c.div(Yn()),Wn=d.c.div(Ln()),Gn=d.c.div(Vn()),Xn=(d.c.div(An()),d.c.div(qn()),d.c.div(In()),t(122)),Kn=t.n(Xn);function Qn(){var e=Object(l.a)(["\n  /* display: flex;\n  align-items: center;\n  justify-content: center; */\n\n  padding: 10px;\n  background: #fff;\n  border: 1px solid #e6e8eb;\n  border-radius: 10px;\n  min-width: 320px;\n"]);return Qn=function(){return e},e}var Zn=d.c.div(Qn()),et={chart:{type:"line",stacked:!1,toolbar:{show:!1}},colors:["#77B6EA","#FF0A54"],dataLabels:{enabled:!1,formatter:function(e){return"".concat(e,"%")}},stroke:{curve:"straight"},title:{text:"Efici\xeancia x Perda Mensal",align:"left"},grid:{borderColor:"#e7e7e7",row:{colors:["#f3f3f3","transparent"],opacity:.5}},markers:{size:.5},xaxis:{type:"category",categories:[],labels:{hideOverlappingLabels:!1}},yaxis:{show:!1},legend:{position:"top",horizontalAlign:"right",offsetY:-30},noData:{text:"Sem Dados"}},nt=function(e){var n=e.year,t=Object(r.useState)([]),c=Object(f.a)(t,2),i=c[0],o=c[1],s=Object(r.useState)({}),l=Object(f.a)(s,2),d=l[0],u=l[1];return Object(r.useEffect)((function(){v.get("/reports/monthly-efficiency",{params:{year:n}}).then((function(e){var n=e.data.data,t=[],a=[],r=[];n.forEach((function(e){t.push(Number(e.efficiency)),a.push(Number(e.financial_loss)),r.push(e.cycle)})),o([{name:"Efici\xeancia - 2021",data:t},{name:"Perda Fin. 2021",data:a}]),u(Object(Z.a)(Object(Z.a)({},et),{},{xaxis:{categories:r}}))})).catch((function(e){console.log(e)}))}),[n]),Object(a.jsx)(Zn,{children:Object(a.jsx)(Kn.a,{options:d,series:i,type:"line",height:260})})};function tt(){var e=Object(l.a)(["\n  /* display: flex;\n  align-items: center;\n  justify-content: center; */\n\n  padding: 10px;\n  background: #fff;\n  border: 1px solid #e6e8eb;\n  border-radius: 10px;\n  min-width: 320px;\n"]);return tt=function(){return e},e}var at=d.c.div(tt()),rt={chart:{type:"donut"},title:{text:"Situa\xe7\xe3o - Valor Recebido",align:"left",margin:0},labels:[],legend:{show:!1},plotOptions:{pie:{donut:{size:"60%",labels:{show:!0}}}},noData:{text:"Sem Dados"}},ct=function(e){var n=e.year,t=Object(r.useState)([]),c=Object(f.a)(t,2),i=c[0],o=c[1],s=Object(r.useState)({}),l=Object(f.a)(s,2),d=l[0],u=l[1];return Object(r.useEffect)((function(){v.get("/reports/amount-received",{params:{year:n}}).then((function(e){var n=e.data.data,t=[],a=0;n.forEach((function(e){a+=Number(e.total),t.push(e.description)}));var r=n.map((function(e){return Number((Number(e.total)/a*100).toFixed(1))}));o(Object.values(r)),u(Object(Z.a)(Object(Z.a)({},rt),{},{labels:Object.values(t)}))})).catch((function(e){console.log(e)}))}),[n]),Object(a.jsx)(at,{children:Object(a.jsx)(Kn.a,{options:d,series:i,type:"donut",height:"100%"})})},it=t.p+"static/media/money.263359c9.svg",ot=t.p+"static/media/chart-money-up.0366288c.svg",st=t.p+"static/media/chart-money-down.479b661c.svg",lt=t.p+"static/media/bag-money.b1eb7638.svg",dt=function(e){var n=e.year,t=Object(r.useState)([]),c=Object(f.a)(t,2),i=c[0],o=c[1];return Object(r.useEffect)((function(){v.get("/reports/open-percentage",{params:{year:n}}).then((function(e){var n=e.data.data.map((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{valor_solicitado_formatted:Pn(e.valor_solicitado),valor_em_aberto_formatted:Pn(e.valor_em_aberto)})}));o(n)})).catch((function(e){console.log(e)}))}),[n]),Object(a.jsxs)(Fn,{children:[Object(a.jsx)("header",{children:Object(a.jsx)("h3",{children:"Percentual Em Aberto"})}),Object(a.jsxs)("table",{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Negociadora"}),Object(a.jsx)("th",{children:"Valor Solicitado"}),Object(a.jsx)("th",{children:"Valor Em Aberto"}),Object(a.jsx)("th",{children:"Percentual Em Aberto"})]})}),Object(a.jsx)("tbody",{children:i&&i.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.usuario_resp}),Object(a.jsx)("td",{children:e.valor_solicitado_formatted}),Object(a.jsx)("td",{children:e.valor_em_aberto_formatted.length>0?e.valor_em_aberto_formatted:"0,00"}),Object(a.jsx)("td",{children:"".concat(e.percentual?e.percentual:"0.00","%")})]},e.ano_sol)}))})]})]})},ut={container:function(e){return Object(Z.a)(Object(Z.a)({},e),{},{width:130,border:"none",boxShadow:"none"})},menu:function(e){return Object(Z.a)(Object(Z.a)({},e),{},{border:"none",boxShadow:"none"})},theme:function(e){return Object(Z.a)(Object(Z.a)({},e),{},{border:"none"})}},bt=function(){var e=Object(r.useState)({}),n=Object(f.a)(e,2),t=n[0],c=n[1],i=Object(r.useState)((function(){return(new Date).getFullYear()})),o=Object(f.a)(i,2),s=o[0],l=o[1];Object(r.useEffect)((function(){v.get("/reports/monthly-requests-summary",{params:{year:s}}).then((function(e){var n=e.data.data.reduce((function(e,n){return e.request_amount+=Number(n.request_amount),e.profit+=Number(n.profit),e.financial_loss_amount+=Number(n.financial_loss_amount),e.balance+=Number(n.balance),e}),{request_amount:0,profit:0,financial_loss_amount:0,balance:0}),t={request_amount:Pn(n.request_amount),profit:Pn(n.profit),financial_loss_amount:Pn(n.financial_loss_amount),balance:Pn(n.balance)};c(t)})).catch((function(e){console.log(e)}))}),[s]);var d=Object(r.useMemo)((function(){var e=(new Date).getFullYear();return Array.from(new Array(3),(function(n,t){return e-t})).map((function(e){return{value:e,label:e.toString()}}))}),[]),u=Object(r.useCallback)((function(e){l(e.value)}),[]);return Object(a.jsxs)(cn,{children:[Object(a.jsx)(On,{}),Object(a.jsxs)(sn,{children:[Object(a.jsx)(Dn,{}),Object(a.jsxs)($n,{children:[Object(a.jsxs)(Hn,{children:[Object(a.jsx)("p",{children:"Exibindo resultados de:"}),Object(a.jsx)(Ke.a,{menuPlacement:"auto",styles:ut,options:d,defaultValue:d[0],components:{DropdownIndicator:function(e){return Object(a.jsx)(Xe.k.DropdownIndicator,Object(Z.a)(Object(Z.a)({},e),{},{children:Object(a.jsx)(Qe.a,{})}))}},onChange:u})]}),Object(a.jsxs)(Jn,{children:[Object(a.jsxs)(Wn,{children:[Object(a.jsx)("img",{className:"data-card-logo",src:it,alt:"logo"}),Object(a.jsxs)("div",{className:"data-card-content",children:[Object(a.jsx)("small",{children:"Valor Solicitado"}),Object(a.jsx)("h2",{children:t.request_amount})]})]}),Object(a.jsxs)(Wn,{children:[Object(a.jsx)("img",{className:"data-card-logo",src:ot,alt:"logo"}),Object(a.jsxs)("div",{className:"data-card-content",children:[Object(a.jsx)("small",{children:"Faturamento"}),Object(a.jsx)("h2",{children:t.profit})]})]}),Object(a.jsxs)(Wn,{children:[Object(a.jsx)("img",{className:"data-card-logo",src:st,alt:"logo"}),Object(a.jsxs)("div",{className:"data-card-content",children:[Object(a.jsx)("small",{children:"Perda Financeira"}),Object(a.jsx)("h2",{children:t.financial_loss_amount})]})]}),Object(a.jsxs)(Wn,{children:[Object(a.jsx)("img",{className:"data-card-logo",src:lt,alt:"logo"}),Object(a.jsxs)("div",{className:"data-card-content",children:[Object(a.jsx)("small",{children:"Caixa"}),Object(a.jsx)("h2",{children:t.balance})]})]})]}),Object(a.jsxs)("div",{className:"horizontalRowChart",children:[Object(a.jsx)(nt,{year:s}),Object(a.jsx)(ct,{year:s})]}),Object(a.jsxs)(Gn,{children:[Object(a.jsx)(Tn,{year:s}),Object(a.jsx)(zn,{year:s}),Object(a.jsx)(Mn,{year:s}),Object(a.jsx)(dt,{year:s})]})]})]})]})},jt=t(65),pt=t(528),xt=t(46);function ft(){var e=Object(l.a)(["\n          top: 40px;\n          box-shadow: rgb(0 0 0 / 40%) 0px 2px 5px;\n        "]);return ft=function(){return e},e}function Ot(){var e=Object(l.a)(["\n          bottom: 40px;\n          box-shadow: rgb(0 0 0 / 40%) 0px -2px 5px;\n        "]);return Ot=function(){return e},e}function ht(){var e=Object(l.a)(["\n  position: absolute;\n  right: 0;\n  padding: 10px 0px;\n  min-width: 200px;\n  width: max-content;\n  background: #fff;\n  border: 1px solid #f0f0f0;\n  border-radius: 5px;\n  z-index: 1;\n  transition: opacity 0.2s ease 0s, visibility 0.2s ease 0s;\n  opacity: 1;\n\n  ",";\n"]);return ht=function(){return e},e}function mt(){var e=Object(l.a)(["\n  position: relative;\n  display: flex;\n  justify-content: flex-end;\n\n  button.openDropAction {\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: #fff;\n    border: 0;\n    height: 40px;\n    font-size: 15px;\n\n    svg {\n      margin-right: 8px;\n      /* width: 18px;\n      height: 18px; */\n    }\n  }\n"]);return mt=function(){return e},e}var gt=d.c.div(mt()),vt=d.c.div(ht(),(function(e){return e.position&&e.position>500?Object(d.b)(Ot()):Object(d.b)(ft())})),yt=function(e){var n=e.icon,t=e.iconLabel,c=e.children,i=e.className,o=Object(r.useRef)(null),s=mn(!1),l=s.visible,d=s.setVisible,u=s.ref,b=Object(r.useState)(0),j=Object(f.a)(b,2),p=j[0],x=j[1],O=Object(r.useCallback)((function(){o.current&&x(o.current.getBoundingClientRect().top),d((function(e){return!e}))}),[d]);return Object(a.jsxs)(gt,{className:i,ref:u,children:[Object(a.jsxs)("button",{ref:o,className:"openDropAction",type:"button",onClick:O,children:[n||Object(a.jsx)(jt.a,{}),Object(a.jsx)("span",{children:t||""})]}),l&&Object(a.jsx)(vt,{position:p,children:c})]})};function wt(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n\n  span.dropTitle {\n    width: 100%;\n    font-size: 14px;\n    padding-left: 10px;\n    color: #a3a3a3;\n    text-align: start;\n  }\n\n  a.btnDropAction {\n    text-decoration: none;\n    display: flex;\n    justify-content: start;\n    align-items: center;\n    font-size: 16px;\n    color: #3c3c3c;\n    padding: 12px 20px;\n    transition: background 0.2s ease 0s;\n    cursor: pointer;\n    background: transparent;\n    border: none;\n    width: 100%;\n\n    svg.drop {\n      width: 16;\n      height: 16;\n      margin-right: 10px;\n      color: #00a8cb;\n    }\n\n    &:hover {\n      background: #e5e5e5;\n    }\n  }\n\n  button.btnDropAction {\n    display: flex;\n    justify-content: start;\n    align-items: center;\n    font-size: 16px;\n    color: #3c3c3c;\n    padding: 12px 20px;\n    transition: background 0.2s ease 0s;\n    cursor: pointer;\n    background: transparent;\n    border: none;\n    width: 100%;\n\n    svg.drop {\n      width: 16;\n      height: 16;\n      margin-right: 10px;\n      color: #006100;\n    }\n\n    svg.drop.rev {\n      color: #0d6efd;\n    }\n\n    svg.drop.cancel {\n      color: #9c0006;\n    }\n\n    &:hover {\n      background: #e5e5e5;\n    }\n  }\n\n  div.otherOptions {\n    padding: 10px 10px 0 10px;\n  }\n"]);return wt=function(){return e},e}var kt=d.c.div(wt()),Ct=function(e){var n=e.negotiationProps,t=e.limit,r=e.offset,c=e.firstPageRangeDisplayed,i=e.currentPage,o=e.situationFilter,l=e.requestTypeFilter,d=e.userRespFilterSelected,u=e.toggleModalTransferNegotiation,b=e.toggleModalConfirmDeleteNegotiation,j=e.toggleModalConfirmRestoreNegotiation;return Object(a.jsx)(yt,{icon:Object(a.jsx)(bn.v,{size:18}),iconLabel:"Gerenciar",children:Object(a.jsxs)(kt,{children:[Object(a.jsx)("span",{className:"dropTitle",children:"A\xe7\xf5es:"}),Object(a.jsxs)(s.b,{className:"btnDropAction",to:{pathname:"/negotiations/details",state:{negotiationId:n.id,limit:t,offset:r,firstPageRangeDisplayed:c,currentPage:i,situationFilter:o,requestTypeFilter:l,userRespFilterSelected:d}},children:[Object(a.jsx)(bn.q,{className:"drop info"}),"Detalhes"]}),1===Number(n.situation_id)?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("button",{className:"btnDropAction",type:"button","data-tip":!0,"data-for":"TransferirInfo",onClick:u,children:[Object(a.jsx)(bn.m,{className:"drop"}),"Transferir"]}),Object(a.jsx)(xt.a,{id:"TransferirInfo",type:"info",effect:"solid",delayShow:1e3,children:Object(a.jsx)("span",{children:"Transferir negocia\xe7\xe3o para outro negociador"})}),Object(a.jsxs)("button",{className:"btnDropAction",type:"button",onClick:b,children:[Object(a.jsx)(bn.y,{className:"drop cancel"}),"Excluir"]})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("button",{className:"btnDropAction",type:"button","data-tip":!0,"data-for":"ReverterInfo",onClick:j,children:[Object(a.jsx)(bn.z,{className:"drop rev"}),"Restaurar p/ Ag. Ret."]}),Object(a.jsx)(xt.a,{id:"ReverterInfo",type:"info",effect:"solid",delayShow:1e3,children:Object(a.jsx)("span",{children:"Restaura a negocia\xe7\xe3o para Aguardando Retorno"})})]})]})})};function _t(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  color: #b19fca;\n  padding: 20px;\n\n  strong {\n    font-size: 40px;\n  }\n\n  h1 {\n    font-size: 16px;\n  }\n"]);return _t=function(){return e},e}var Nt=d.c.div(_t()),St=t.p+"static/media/logoWhoops.9017adc6.svg",Dt=function(e){var n=e.errorCode,t=e.errorMessage;return Object(a.jsxs)(Nt,{children:[Object(a.jsx)("img",{src:St,alt:"whoops"}),Object(a.jsx)("strong",{children:n||500}),Object(a.jsx)("h1",{children:t||"Algo n\xe3o deu certo :("})]})};function Rt(){var e=Object(l.a)(["\n      background: #a6cee3;\n      border-radius: 15px;\n      cursor: default;\n    "]);return Rt=function(){return e},e}function Ft(){var e=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 30px;\n  height: 30px;\n  color: #003379;\n  font-size: 16px;\n  margin-right: 10px;\n  border: 0;\n  background: transparent;\n  font-size: 15px;\n\n  ","\n"]);return Ft=function(){return e},e}function Pt(){var e=Object(l.a)(["\n  display: flex;\n\n  button.controlNavPage {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 30px;\n    height: 30px;\n    color: #003379;\n    margin-right: 10px;\n    border: 0;\n    background: transparent;\n  }\n"]);return Pt=function(){return e},e}function Et(){var e=Object(l.a)(["\n  display: flex;\n  padding: 12px 0;\n  align-items: center;\n  justify-content: space-between;\n  margin-right: 20px;\n  font-size: 15px;\n\n  div.pageLimitToShow {\n    display: flex;\n    align-items: center;\n\n    span {\n      margin-right: 5px;\n    }\n\n    select {\n      margin-right: 5px;\n    }\n\n    div.pageLimitToShowControl {\n      width: 100px;\n      margin-right: 5px;\n    }\n  }\n"]);return Et=function(){return e},e}var Tt=d.c.div(Et()),zt=d.c.div(Pt()),Mt=d.c.button(Ft(),(function(e){return e.isSelected&&Object(d.b)(Rt())})),It=[{value:10,label:"10"},{value:25,label:"25"},{value:50,label:"50"},{value:100,label:"100"}],qt=function(e,n){var t=e.count,c=e.limit,i=e.pageRangeDisplayed,o=e.onChange,s=Object(r.useState)(0),l=Object(f.a)(s,2),d=l[0],u=l[1],b=Object(r.useState)([]),j=Object(f.a)(b,2),p=j[0],x=j[1],O=Object(r.useState)([]),h=Object(f.a)(O,2),m=h[0],g=h[1],v=Object(r.useState)(1),y=Object(f.a)(v,2),w=y[0],k=y[1],C=Object(r.useState)(!1),_=Object(f.a)(C,2),N=_[0],S=_[1],D=Object(r.useCallback)((function(e){u(e)}),[]),R=Object(r.useCallback)((function(e){k(e)}),[]);Object(r.useImperativeHandle)(n,(function(){return{handleSetFirstPageRangeDisplayed:D,firstPageRangeDisplayed:d,handleSetCurrentPage:R,currentPage:w}})),Object(r.useEffect)((function(){var e=Math.ceil(t/c),n=Array.from({length:e},(function(e,n){return n+1}));g(n),x(n.slice(d,d+i))}),[t,c,d,i]);var F=Object(r.useCallback)((function(e){o(e.value,0)}),[o]),P=Object(r.useCallback)((function(e){k(e),o(c,(e-1)*c)}),[c,o]),E=Object(r.useCallback)((function(){u(0),o(c,0),k(1),S(!1)}),[c,o]),T=Object(r.useCallback)((function(){var e=d-i;u(e);var n=e+1;k(n),o(c,(n-1)*c),S(!1)}),[d,i,c,o]),z=Object(r.useCallback)((function(){if(p[p.length-1]!==m.length&&w!==m.length){var e=d+i;u(e);var n=e+1;k(n),o(c,(n-1)*c)}else S(!0)}),[d,i,c,w,p,m.length,o]),M=Object(r.useCallback)((function(){if(p[p.length-1]!==m.length&&w!==m.length){var e=m.length-i+1;u(e),k(m.length);var n=(m.length-1)*c;o(c,n)}else S(!0)}),[i,m,c,w,p,o]);return Object(a.jsxs)(Tt,{children:[Object(a.jsxs)("div",{className:"pageLimitToShow",children:[Object(a.jsx)("span",{children:"Mostrar"}),Object(a.jsx)("div",{className:"pageLimitToShowControl",children:Object(a.jsx)(Ke.a,{onChange:F,menuPlacement:"auto",options:It,defaultValue:It[0]})}),Object(a.jsxs)("span",{children:["de"," ".concat(t," "),"registros"]})]}),Object(a.jsxs)(zt,{children:[Object(a.jsx)("button",{disabled:!(w>1),className:"controlNavPage",type:"button",title:"Primeira",onClick:E,children:Object(a.jsx)(bn.a,{})}),Object(a.jsx)("button",{disabled:!(w>i),className:"controlNavPage",type:"button",title:"Anterior",onClick:T,children:Object(a.jsx)(bn.d,{})}),p.map((function(e){return Object(a.jsx)(Mt,{isSelected:e===w,disabled:e===w,type:"button",onClick:function(){return P(e)},children:e},e.toString())})),Object(a.jsx)("button",{disabled:N,className:"controlNavPage",type:"button",title:"Pr\xf3xima",onClick:z,children:Object(a.jsx)(bn.e,{})}),Object(a.jsx)("button",{disabled:N,className:"controlNavPage",type:"button",title:"\xdaltima",onClick:M,children:Object(a.jsx)(bn.b,{})})]})]})},At=Object(r.forwardRef)(qt);function Vt(){var e=Object(l.a)(["\n  width: 100%;\n  border-collapse: collapse;\n  border-spacing: 0;\n\n  /* & + tr {\n    margin-top: 20px;\n  } */\n\n  th {\n    text-align: left;\n    height: 40px;\n    line-height: 40px;\n    min-width: 100px;\n  }\n\n  th.centered {\n    text-align: center;\n  }\n\n  th.situation {\n    min-width: 160px;\n  }\n\n  tbody tr:hover {\n    background: #f5f5f5;\n    button.openDropAction {\n      background: #f5f5f5;\n    }\n  }\n\n  td {\n    white-space: normal;\n    text-align: left;\n    height: 60px;\n    padding: 5px;\n    border-top: 1px solid #d2cfcf;\n    font-size: 14px;\n  }\n\n  td.clientName {\n    width: 270px;\n  }\n\n  td.centered {\n    text-align: center;\n  }\n"]);return Vt=function(){return e},e}function Lt(){var e=Object(l.a)(["\n  position: relative;\n  display: flex;\n  align-items: flex-end;\n  justify-content: space-between;\n  padding: 10px 0;\n  margin-bottom: 15px;\n  font-size: 14px;\n\n  span {\n    color: #a3a3a3;\n    font-weight: bold;\n  }\n\n  div.dateFilter {\n    display: flex;\n    flex-direction: column;\n\n    span.invalidDate {\n      position: absolute;\n      color: #9c0006;\n      bottom: -10px;\n    }\n  }\n\n  div.inputDates {\n    display: flex;\n\n    button {\n      color: #3c3c3c;\n      display: flex;\n      align-items: center;\n      background: transparent;\n      border: 0;\n      font-size: 14px;\n      transition: color 0.2s;\n\n      &:hover {\n        color: #003379;\n      }\n\n      svg {\n        margin-right: 5px;\n      }\n    }\n  }\n\n  div.typesFilters {\n    display: flex;\n  }\n"]);return Lt=function(){return e},e}function Yt(){var e=Object(l.a)(["\n  height: 100%;\n  min-height: 600px;\n  margin-right: 20px;\n  padding: 20px;\n  color: #3c3c3c;\n"]);return Yt=function(){return e},e}var Ut=d.c.div(Yt()),Bt=d.c.div(Lt()),$t=d.c.table(Vt());function Ht(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"]);return Ht=function(){return e},e}var Jt=d.c.div(Ht()),Wt=function(){return Object(a.jsx)(Jt,{children:Object(a.jsx)(ye.a,{type:"Puff",color:"#46D8D5",height:100,width:40})})};function Gt(){var e=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  max-width: 230px;\n  height: 26px;\n  border-radius: 16px;\n  padding: 0 8px;\n\n  ","\n"]);return Gt=function(){return e},e}function Xt(){var e=Object(l.a)(["\n    background: #e67e22;\n    color: #fff;\n  "]);return Xt=function(){return e},e}function Kt(){var e=Object(l.a)(["\n    background: #ffc7ce;\n    color: #9c0006;\n  "]);return Kt=function(){return e},e}function Qt(){var e=Object(l.a)(["\n    background: #c6efce;\n    color: #006100;\n  "]);return Qt=function(){return e},e}function Zt(){var e=Object(l.a)(["\n    background: #ffeb9c;\n    color: #9c6500;\n  "]);return Zt=function(){return e},e}function ea(){var e=Object(l.a)(["\n    background: #f0f0f0;\n    color: #3c3c3c;\n  "]);return ea=function(){return e},e}var na={default:Object(d.b)(ea()),info:Object(d.b)(Zt()),success:Object(d.b)(Qt()),warning:Object(d.b)(Kt()),critical:Object(d.b)(Xt())},ta=d.c.div(Gt(),(function(e){return na[e.theme||"default"]})),aa=function(e){var n=e.children,t=e.theme,r=e.className;return Object(a.jsx)(ta,{className:r,theme:t,children:n})},ra=t(253),ca=t.n(ra),ia=(t(515),t(83));function oa(){var e=Object(l.a)(["\n  position: absolute;\n  top: 40px;\n  /* display: flex;\n  flex-direction: column; */\n\n  padding: 10px;\n  /* width: 250px; */\n  background: #fff;\n  border: 1px solid #f0f0f0;\n  border-radius: 5px;\n  box-shadow: rgb(0 0 0 / 40%) 0px 2px 5px;\n\n  z-index: 1;\n  transition: opacity 0.2s ease 0s, visibility 0.2s ease 0s;\n  opacity: 1;\n\n  .DayPicker {\n    border-radius: 10px;\n  }\n\n  .DayPicker-wrapper {\n    padding-bottom: 0;\n    background: #fff;\n    border-radius: 10px;\n  }\n\n  .DayPicker,\n  .DayPicker-Month {\n    width: 100%;\n  }\n\n  .DayPicker-NavButton {\n    color: #999591 !important;\n  }\n\n  .DayPicker-NavButton--prev {\n    right: auto;\n    left: 1.5em;\n    margin-right: 0;\n  }\n\n  /* .DayPicker-Month {\n    border-collapse: separate;\n    border-spacing: 8px;\n    margin: 16px 0 0 0;\n    padding: 16px;\n    background-color: #28262e;\n    border-radius: 0 0 10px 10px;\n  } */\n\n  .DayPicker-Caption {\n    margin-bottom: 1em;\n    padding: 0 1em;\n    > div {\n      text-align: center;\n    }\n  }\n\n  .DayPicker--interactionDisabled .DayPicker-Day {\n    cursor: pointer;\n  }\n\n  /* .DayPicker-Day--available:not(.DayPicker-Day--outside) {\n    background: #3e3b47;\n    border-radius: 10px;\n    color: #fff;\n  } */\n\n  /* .DayPicker:not(.DayPicker--interactionDisabled)\n    .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside):hover {\n    background: ",";\n  } */\n\n  .DayPicker-Day--today {\n    font-weight: normal;\n  }\n\n  .DayPicker-Day--disabled {\n    color: #666360 !important;\n    background: transparent !important;\n  }\n\n  .DayPicker-Day--selected {\n    background: #003379 !important;\n    color: #fff !important;\n  }\n"]);return oa=function(){return e},e}function sa(){var e=Object(l.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n\n  span {\n    color: #c53030;\n  }\n\n  label {\n    position: relative;\n    margin-right: 20px;\n\n    svg {\n      position: absolute;\n      right: 6px;\n      top: 50%;\n      transform: translateY(-50%);\n    }\n  }\n\n  input {\n    width: 120px;\n    border: 0;\n    border-bottom: 1px solid #e5e5e5;\n    height: 34px;\n    padding: 5px;\n    font-size: 14px;\n    margin-left: 10px;\n  }\n"]);return sa=function(){return e},e}var la=d.c.div(sa()),da=d.c.div(oa(),Object(we.a)(.2,"#3e3b47")),ua=function(e,n){var t=e.name,c=e.label,i=e.defaultDate,o=Object(r.useRef)(null),s=mn(!1),l=s.visible,d=s.setVisible,u=s.ref,b=Object(r.useState)(new Date),j=Object(f.a)(b,2),p=j[0],x=j[1],O=Object(r.useState)(""),h=Object(f.a)(O,2),m=h[0],g=h[1];Object(r.useEffect)((function(){o.current&&i&&(o.current.value=Object(H.a)(i,"dd/MM/yyyy"),x(i))}),[i]),Object(r.useImperativeHandle)(n,(function(){return{selectedDate:p,setError:g}}));var v=Object(r.useCallback)((function(){d((function(e){return!e}))}),[d]),y=Object(r.useCallback)((function(e,n){!n.available&&n.disabled||o.current&&(g(""),x(e),d((function(e){return!e})),o.current.value=Object(H.a)(e,"dd/MM/yyyy"))}),[d]),w=Object(r.useCallback)((function(e){if(o.current&&10===e.currentTarget.value.length){o.current.value=e.currentTarget.value;var n=e.currentTarget.value.split("/"),t=parseInt(n[2],10),a=parseInt(n[1],10),r=parseInt(n[0],10),c=new Date(t,a-1,r);console.log(c),x(c),d(!1)}}),[d]),k=Object(r.useCallback)((function(e){he(e)}),[]);return Object(a.jsxs)(la,{ref:u,children:[Object(a.jsxs)("label",{htmlFor:t,children:[c,Object(a.jsx)("input",{name:t,ref:o,type:"text",id:t,placeholder:"dd/mm/aaaa",onClick:v,onChange:w,onKeyUp:k,autoComplete:"off"}),Object(a.jsx)(ia.a,{})]}),m&&Object(a.jsx)("span",{children:m}),l&&Object(a.jsx)(da,{children:Object(a.jsx)(ca.a,{weekdaysShort:["D","S","T","Q","Q","S","S"],onDayClick:y,disabledDays:{after:new Date},modifiers:{available:{before:new Date}},month:new Date(p.getFullYear(),p.getMonth()),selectedDays:p,months:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"]})})]})},ba=Object(r.forwardRef)(ua);function ja(){var e=Object(l.a)(["\n  padding: 40px 50px;\n  display: flex;\n  flex-direction: column;\n\n  h1 {\n    font-weight: 600;\n    font-size: 30px;\n    line-height: 30px;\n    margin-bottom: 40px;\n  }\n\n  div {\n    margin-top: 0px;\n  }\n\n  div.control {\n    display: flex;\n  }\n\n  div.control > div {\n    /* width: 250px; */\n    :not(:last-child) {\n      margin-right: 20px;\n    }\n  }\n\n  div.row {\n    display: flex;\n    margin-bottom: 18px;\n  }\n\n  div.row div {\n    /* width: 250px; */\n    :not(:last-child) {\n      margin-right: 20px;\n    }\n  }\n\n  button {\n    margin-top: 18px;\n    align-self: flex-end;\n  }\n\n  button {\n    font-weight: 600;\n    border-radius: 8px;\n    border: 0;\n    background: #ff365f;\n    color: #fff;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    .text {\n      padding: 16px 24px;\n    }\n\n    .icon {\n      display: flex;\n      padding: 16px 16px;\n      background: #ff365f;\n      border-radius: 0 8px 8px 0;\n      margin: 0 auto;\n    }\n  }\n\n  .logoErrorInput {\n    margin-left: 5px;\n  }\n"]);return ja=function(){return e},e}var pa=Object(d.c)(ae.a)(ja()),xa=t(124),fa=t.n(xa);function Oa(){var e=Object(l.a)(["\n  position: absolute;\n  right: 20px;\n  top: 20px;\n\n  button {\n    background: transparent;\n    border: 0;\n    color: #3c3c3c;\n  }\n"]);return Oa=function(){return e},e}var ha=d.c.div(Oa()),ma=function(e){var n=e.width,t=e.background,c=e.children,i=e.isOpen,o=e.shouldCloseOnOverlayClick,s=e.setIsOpen,l=Object(r.useState)(i),d=Object(f.a)(l,2),u=d[0],b=d[1];return Object(r.useEffect)((function(){b(i)}),[i]),Object(a.jsxs)(fa.a,{shouldCloseOnOverlayClick:o,onRequestClose:s,isOpen:u,ariaHideApp:!1,style:{content:{padding:"0",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:t||"#F0F0F5",color:"#000000",borderRadius:"8px",width:n||"736px",border:"none",overflow:"unset"},overlay:{backgroundColor:"#121214e6",zIndex:2}},children:[Object(a.jsx)(ha,{title:"Fechar",children:Object(a.jsx)("button",{type:"button",onClick:s,children:Object(a.jsx)(bn.w,{size:25})})}),c]})};function ga(){var e=Object(l.a)(["\n  height: 20px;\n  margin-left: 16px;\n\n  svg {\n    margin-right: 0;\n  }\n\n  span {\n    background: #c53030;\n    color: #fff;\n\n    &::before {\n      border-color: #c53030 transparent;\n    }\n  }\n"]);return ga=function(){return e},e}function va(){var e=Object(l.a)(["\n      border: 2px solid #f0f0f0;\n      color: #666360;\n    "]);return va=function(){return e},e}function ya(){var e=Object(l.a)(["\n      border-color: #c53030;\n    "]);return ya=function(){return e},e}function wa(){var e=Object(l.a)(["\n  background: #fff;\n  border-radius: 10px;\n  padding: 8px;\n  width: 100%;\n  margin-bottom: 18px;\n\n  border: 2px solid #f0f0f0;\n  color: #666360;\n\n  display: flex;\n  align-items: center;\n\n  div:first-child {\n    flex: 1;\n  }\n\n  ","\n\n  ","\n\n  .react-select__control {\n    border-style: none;\n  }\n\n  .react-select__placeholder {\n    color: #a9a9a9;\n  }\n"]);return wa=function(){return e},e}var ka=d.c.div(wa(),(function(e){return e.isErrored&&Object(d.b)(ya())}),(function(e){return e.isFocused&&Object(d.b)(va())})),Ca=Object(d.c)(de)(ga()),_a=function(e){var n=e.name,t=e.className,c=Object(ee.a)(e,["name","className"]),i=Object(r.useRef)(null),o=Object(r.useState)(!1),s=Object(f.a)(o,2),l=s[0],d=s[1],u=Object(r.useState)(!1),b=Object(f.a)(u,2),j=b[0],p=b[1],x=Object(oe.c)(n),O=x.fieldName,h=x.defaultValue,m=x.registerField,g=x.error,v=Object(r.useCallback)((function(){d(!0),p(!1)}),[]);return Object(r.useEffect)((function(){p(!!g)}),[g]),Object(r.useEffect)((function(){m({name:O,ref:i.current,getValue:function(e){return c.isMulti?e.state.value?e.state.value.map((function(e){return e.value})):[]:e.state.value?e.state.value.value:""},setValue:function(e,n){console.log(n),e.select.setValue(n)}})}),[O,m,c.isMulti]),Object(a.jsxs)(ka,{className:t,isErrored:!!g,isFocused:l,children:[Object(a.jsx)(Ke.a,Object(Z.a)({onFocus:v,defaultValue:h,ref:i,classNamePrefix:"react-select"},c)),j&&Object(a.jsx)(Ca,{title:g,children:Object(a.jsx)(_.a,{color:"#c53030",size:20})})]})};function Na(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding: 30px;\n\n  header {\n    margin-bottom: 20px;\n  }\n\n  main {\n    margin-bottom: 20px;\n\n    p {\n      white-space: pre-line;\n      margin-bottom: 10px;\n    }\n\n    small {\n      color: #c53030;\n    }\n  }\n\n  footer {\n    display: flex;\n    justify-content: flex-end;\n\n    button {\n      display: flex;\n      height: 40px;\n      width: 150px;\n      align-items: center;\n      justify-content: center;\n      color: #fff;\n      border: 0;\n      border-radius: 20px;\n      text-decoration: none;\n      font-weight: bold;\n\n      transition: filter 0.2s;\n\n      .text {\n        padding: 16px 24px;\n        font-weight: bold;\n      }\n\n      & + button {\n        margin-left: 10px;\n      }\n\n      &:hover {\n        filter: brightness(0.95);\n      }\n    }\n\n    button.confirmYes {\n      ","\n    }\n\n    button.confirmNo {\n      background: #f5f8fa;\n      color: #3c3c3c;\n    }\n  }\n"]);return Na=function(){return e},e}function Sa(){var e=Object(l.a)(["\n    background: #ff365f;\n    color: #fff;\n  "]);return Sa=function(){return e},e}function Da(){var e=Object(l.a)(["\n    background: #02c697;\n    color: #fff;\n  "]);return Da=function(){return e},e}function Ra(){var e=Object(l.a)(["\n    background: #f5f8fa;\n    color: #3c3c3c;\n  "]);return Ra=function(){return e},e}var Fa={info:Object(d.b)(Ra()),success:Object(d.b)(Da()),danger:Object(d.b)(Sa())},Pa=d.c.div(Na(),(function(e){var n;return Fa[(null===(n=e.buttonType)||void 0===n?void 0:n.theme.confirmYes)||"info"]})),Ea=function(e){var n=e.isOpen,t=e.setIsOpen,c=e.title,i=e.message,o=e.note,s=e.confirmYes,l=e.confirmNo,d=e.handleConfirmYes,u=e.buttonType,b=Object(r.useCallback)((function(){d()}),[d]),j=Object(r.useCallback)((function(){t()}),[t]);return Object(a.jsx)(ma,{isOpen:n,setIsOpen:t,shouldCloseOnOverlayClick:!1,width:"500px",children:Object(a.jsxs)(Pa,{buttonType:u,children:[Object(a.jsx)("header",{children:Object(a.jsx)("h2",{children:c||"Action"})}),Object(a.jsxs)("main",{children:[Object(a.jsx)("p",{children:i||"Confirm action?"}),Object(a.jsx)("small",{children:o||""})]}),Object(a.jsxs)("footer",{children:[Object(a.jsx)("button",{className:"confirmYes",type:"button",onClick:b,children:s||"Yes"}),Object(a.jsx)("button",{className:"confirmNo",type:"button",onClick:j,children:l||"No"})]})]})})};function Ta(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  p {\n    color: #fff;\n    font-size: 18px;\n    margin-bottom: 30px;\n  }\n"]);return Ta=function(){return e},e}var za=d.c.div(Ta()),Ma=function(e){var n=e.width,t=e.isOpen,c=Object(r.useState)(t),i=Object(f.a)(c,2),o=i[0],s=i[1];return Object(r.useEffect)((function(){s(t)}),[t]),Object(a.jsx)(fa.a,{shouldCloseOnOverlayClick:!1,isOpen:o,ariaHideApp:!1,style:{content:{padding:"0",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",color:"#000000",borderRadius:"8px",width:n||"auto",border:"none",overflow:"unset"},overlay:{backgroundColor:"#121214b3",zIndex:2}},children:Object(a.jsxs)(za,{children:[Object(a.jsx)("p",{children:"Processando aguarde..."}),Object(a.jsx)(ye.a,{type:"TailSpin",color:"#00BFFF",height:80,width:80})]})})},Ia=function(e){var n=e.users,t=e.currentUserResp,c=e.transferReasonsOptions,i=e.handleTransferNegotiation,o=e.showModalTransferNegotiation,s=e.toggleModalTransferNegotiation,l=Object(r.useRef)(null),d=L().addToast,u=Object(r.useState)(!1),b=Object(f.a)(u,2),j=b[0],O=b[1],h=Object(r.useState)(!1),m=Object(f.a)(h,2),g=m[0],v=m[1],y=Object(r.useState)([]),w=Object(f.a)(y,2),k=w[0],C=w[1];Object(r.useEffect)((function(){var e=n.filter((function(e){return Number(e.ativo)&&e.id!==t&&e.roles.every((function(e){return"ROLE_CONSULTOR"===e.name}))})).sort((function(e,n){return e.primeiro_nome.localeCompare(n.primeiro_nome)})).map((function(e){return{value:e.id.toString(),label:e.primeiro_nome}}));C(e)}),[n,t]);var _=Object(r.useCallback)(Object(x.a)(p.a.mark((function e(){var n,t,a,r,c,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=null===(n=l.current)||void 0===n?void 0:n.getData(),null===(t=l.current)||void 0===t||t.setErrors({}),r=re.c().shape({usuario_novo_id:re.e().required("Novo usu\xe1rio \xe9 obrigat\xf3rio"),motivo_transferencia_id:re.e().required("Motivo \xe9 obrigat\xf3rio")}),e.next=6,r.validate(a,{abortEarly:!1});case 6:O(!j),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0 instanceof re.a&&(i=ce(e.t0),null===(c=l.current)||void 0===c||c.setErrors(i));case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[j]),N=Object(r.useCallback)((function(){var e;_(),v(!0),null===(e=l.current)||void 0===e||e.submitForm()}),[_]),S=Object(r.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i(n);case 3:v(!1),s(),d({type:"success",title:"Negocia\xe7\xe3o transferida com sucesso!"}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),v(!1),d({type:"error",title:"N\xe3o Permitido",description:e.t0.response.data.message?e.t0.response.data.message:"Erro na solicita\xe7\xe3o"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),[i,s,d]);return Object(a.jsxs)(ma,{isOpen:o,setIsOpen:s,width:"912px",children:[Object(a.jsx)(Ea,{title:"ATEN\xc7\xc3O!",message:"A transfer\xeancia de negocia\xe7\xf5es acarretar\xe1 em altera\xe7\xf5es na performance dos consultores.\n\n Confirma transfer\xeancia da negocia\xe7\xe3o?",note:"Obs.: A transfer\xeancia n\xe3o ir\xe1 alterar o respons\xe1vel pela ocorr\xeancia correspondente no timesharing",confirmYes:"Confirmar",confirmNo:"Cancelar",isOpen:j,setIsOpen:_,handleConfirmYes:N,buttonType:{theme:{confirmYes:"danger"}}}),Object(a.jsx)(Ma,{isOpen:g}),Object(a.jsxs)(pa,{ref:l,onSubmit:S,children:[Object(a.jsx)("h1",{children:"Transfer\xeancia de Negocia\xe7\xe3o"}),Object(a.jsx)("div",{className:"control",children:Object(a.jsx)(_a,{name:"usuario_novo_id",options:k,menuPlacement:"auto",placeholder:"Novo Negociador"})}),Object(a.jsx)(_a,{name:"motivo_transferencia_id",options:c,menuPlacement:"auto",placeholder:"Motivo da transfer\xeancia"}),Object(a.jsx)(ge,{name:"observacoes",placeholder:"Observa\xe7\xf5es"}),Object(a.jsxs)("button",{type:"button","data-testid":"add-food-button",onClick:_,children:[Object(a.jsx)("p",{className:"text",children:"Transferir Negocia\xe7\xe3o"}),Object(a.jsx)("div",{className:"icon",children:Object(a.jsx)(bn.m,{size:24})})]})]})]})},qa={1:"warning",2:"critical",6:"success",7:"info"},Aa={container:function(e){return Object(Z.a)(Object(Z.a)({},e),{},{minWidth:210,marginLeft:10})}},Va=function(){var e,n,t,c=L().addToast,i=Object(r.useRef)(null),o=Object(r.useRef)(null),s=Object(r.useRef)(null),l=Object(Q.h)(),d=Object(Q.g)(),u=Object(r.useRef)(null),b=Object(r.useState)(!0),j=Object(f.a)(b,2),O=j[0],h=j[1],m=Object(r.useState)(!1),g=Object(f.a)(m,2),y=g[0],k=g[1],C=Object(r.useState)(!1),_=Object(f.a)(C,2),N=_[0],S=_[1],D=Object(r.useState)(""),R=Object(f.a)(D,2),F=R[0],P=R[1],E=Object(r.useState)(!1),T=Object(f.a)(E,2),z=T[0],M=T[1],I=Object(r.useState)(!1),q=Object(f.a)(I,2),A=q[0],V=q[1],Y=Object(r.useState)(!1),U=Object(f.a)(Y,2),B=U[0],$=U[1],J=Object(r.useState)([]),W=Object(f.a)(J,2),G=W[0],X=W[1],K=Object(r.useState)(!1),ee=Object(f.a)(K,2),ne=ee[0],te=ee[1],ae=Object(r.useState)(!1),ce=Object(f.a)(ae,2),ie=ce[0],oe=ce[1],se=Object(r.useState)([]),le=Object(f.a)(se,2),de=le[0],ue=le[1],be=Object(r.useState)([]),je=Object(f.a)(be,2),pe=je[0],xe=je[1],fe=Object(r.useState)([]),Oe=Object(f.a)(fe,2),he=Oe[0],me=Oe[1],ge=Object(r.useState)([]),ve=Object(f.a)(ge,2),we=ve[0],ke=ve[1],Ce=Object(r.useState)((function(){var e;return(null===(e=l.state)||void 0===e?void 0:e.limit)?l.state.limit:10})),_e=Object(f.a)(Ce,2),Ne=_e[0],Se=_e[1],De=Object(r.useState)((function(){var e;return(null===(e=l.state)||void 0===e?void 0:e.offset)?l.state.offset:0})),Re=Object(f.a)(De,2),Fe=Re[0],Pe=Re[1],Ee=Object(r.useState)((function(){return new Date((new Date).getFullYear(),0,1)})),Te=Object(f.a)(Ee,2),ze=Te[0],Me=Te[1],Ie=Object(r.useState)((function(){return new Date})),qe=Object(f.a)(Ie,2),Ae=qe[0],Ve=qe[1],Le=Object(r.useState)((function(){var e;if(null===(e=l.state)||void 0===e?void 0:e.userRespFilterSelected)return l.state.userRespFilterSelected})),Ye=Object(f.a)(Le,2),Ue=Ye[0],Be=Ye[1],$e=Object(r.useState)((function(){var e;return(null===(e=l.state)||void 0===e?void 0:e.requestTypeFilter)?l.state.requestTypeFilter:[]})),He=Object(f.a)($e,2),Je=He[0],We=He[1],Ge=Object(r.useState)((function(){var e;return(null===(e=l.state)||void 0===e?void 0:e.situationFilter)?l.state.situationFilter:[]})),Xe=Object(f.a)(Ge,2),Qe=Xe[0],Ze=Xe[1],en=Object(r.useCallback)((function(){var e,n,t,a;(null===(e=l.state)||void 0===e?void 0:e.currentPage)&&(null===(t=u.current)||void 0===t||t.handleSetCurrentPage(l.state.currentPage));(null===(n=l.state)||void 0===n?void 0:n.firstPageRangeDisplayed)&&(null===(a=u.current)||void 0===a||a.handleSetFirstPageRangeDisplayed(l.state.firstPageRangeDisplayed))}),[l.state]),nn=Object(r.useState)([]),tn=Object(f.a)(nn,2),an=tn[0],rn=tn[1],ln=Object(r.useState)(0),dn=Object(f.a)(ln,2),un=dn[0],jn=dn[1],pn=Object(r.useState)(null),xn=Object(f.a)(pn,2),fn=xn[0],hn=xn[1];Object(r.useEffect)((function(){var e=Qe.map((function(e){return e.value})),n=e.join().length>0?e.join():0,t=Je.map((function(e){return e.value})),a=t.join().length>0?t.join():0;v.get("/negotiations",{params:{year:2021,offset:Fe,limit:Ne,startDate:Object(H.a)(ze,"yyyy-MM-dd"),endDate:Object(H.a)(Ae,"yyyy-MM-dd"),situacao_id:n,tipo_solicitacao_id:a,userResp:null===Ue||void 0===Ue?void 0:Ue.value}}).then((function(e){jn(e.headers["x-total-count"]);var n=e.data.data.map((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{valor_venda_formatted:Pn(e.valor_venda),data_ocorrencia_formatted:Object(H.a)(Object(pt.a)(e.data_ocorrencia),"dd-MM-yyyy")})}));rn(n),h(!1),k(!1),en()})).catch((function(e){h(!1),S(!0),console.log(e.message)}))}),[Ne,Fe,ze,Ae,z,Qe,Je,null===Ue||void 0===Ue?void 0:Ue.value,en]),Object(r.useEffect)((function(){Promise.all([v.get("/domain/situation"),v.get("/domain/transfer-reasons"),v.get("/domain/request-type"),v.get("/users")]).then((function(e){var n=Object(f.a)(e,4),t=n[0],a=n[1],r=n[2],c=n[3],i=t.data.data;ue(i.map((function(e){return{value:e.id,label:e.nome}})));var o=a.data.data;ke(o.map((function(e){return{value:e.id,label:e.nome}})));var s=r.data.data;xe(s.map((function(e){return{value:e.id,label:e.nome}})));var l=c.data.data;X(l);var d=l.filter((function(e){return e.roles&&e.roles.every((function(e){return"ROLE_CONSULTOR"===e.name}))})).map((function(e){return{value:e.id,label:e.primeiro_nome}})).sort((function(e,n){return e.label.localeCompare(n.label)}));me([{value:"0",label:"Todos"}].concat(Object(w.a)(d)))})).catch((function(e){console.log(e.message)}))}),[]);var mn=Object(r.useCallback)((function(){M(!z),window.scrollTo(0,0)}),[z]),gn=Object(r.useCallback)((function(e,n){h(!0),Se(e),Pe(n),l.state&&d.replace(l.pathname,null)}),[l,d]),vn=Object(r.useCallback)((function(e){var n,t,a;e.preventDefault(),!(null===(n=i.current)||void 0===n?void 0:n.value)||(null===(t=i.current)||void 0===t?void 0:t.value.length)<3||v.get("/negotiations-search",{params:{param:null===(a=i.current)||void 0===a?void 0:a.value}}).then((function(e){var n=e.data.data.map((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{valor_venda_formatted:Pn(e.valor_venda),data_ocorrencia_formatted:Object(H.a)(Object(pt.a)(e.data_ocorrencia),"dd-MM-yyyy")})}));rn(n),h(!1),jn(0)})).catch((function(e){h(!1),S(!0),console.log(e.message)}))}),[]),yn=Object(r.useCallback)((function(e){0===e.target.value.length&&mn()}),[mn]),wn=Object(r.useCallback)((function(){var e,n;P("");var t={startDate:null===(e=o.current)||void 0===e?void 0:e.selectedDate,endDate:null===(n=s.current)||void 0===n?void 0:n.selectedDate};re.c().shape({startDate:re.b().required("Data inicial n\xe3o pode ser vazia"),endDate:re.b().required("Data final n\xe3o pode ser vazia").min(re.d("startDate"),"Data final n\xe3o pode ser anterior a data inicial")}).validate(t,{abortEarly:!1}).then((function(e){Me(e.startDate),Ve(e.endDate),Pe(0)})).catch((function(e){e.inner.forEach((function(e){"startDate"===e.path&&P(e.message),"endDate"===e.path&&P(e.message)}))}))}),[]),kn=Object(r.useCallback)((function(e){var n,t;h(!0),Be(e),Pe(0),null===(n=u.current)||void 0===n||n.handleSetCurrentPage(1),null===(t=u.current)||void 0===t||t.handleSetFirstPageRangeDisplayed(0),l.state&&d.replace(l.pathname,null)}),[l,d]),Cn=Object(r.useCallback)((function(e){var n,t;h(!0),Ze(e),Pe(0),null===(n=u.current)||void 0===n||n.handleSetCurrentPage(1),null===(t=u.current)||void 0===t||t.handleSetFirstPageRangeDisplayed(0),l.state&&d.replace(l.pathname,null)}),[l,d]),_n=Object(r.useCallback)((function(e){var n,t;jn(0),rn([]),h(!0),We(e),Pe(0),null===(n=u.current)||void 0===n||n.handleSetCurrentPage(1),null===(t=u.current)||void 0===t||t.handleSetFirstPageRangeDisplayed(0),l.state&&d.replace(l.pathname,null)}),[l,d]),Nn=Object(r.useCallback)((function(){$(!B)}),[B]),Sn=Object(r.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.put("/negotiations/".concat(null===fn||void 0===fn?void 0:fn.id,"/transfer"),n);case 2:mn();case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[null===fn||void 0===fn?void 0:fn.id,mn]),Rn=Object(r.useCallback)((function(){te(!ne)}),[ne]),Fn=Object(r.useCallback)(Object(x.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rn(),V(!0),e.next=4,v.delete("/negotiations/".concat(null===fn||void 0===fn?void 0:fn.id));case 4:V(!1),mn();case 6:case"end":return e.stop()}}),e)}))),[Rn,null===fn||void 0===fn?void 0:fn.id,mn]),En=Object(r.useCallback)((function(){oe(!ie)}),[ie]),Tn=Object(r.useCallback)((function(){En(),V(!0),v.put("/negotiations/".concat(null===fn||void 0===fn?void 0:fn.id,"/restore")).then((function(){mn(),V(!1),c({type:"success",title:"Negocia\xe7\xe3o restaurada com sucesso!"})})).catch((function(e){c({type:"error",title:"N\xe3o Permitido",description:e.response.data.message?e.response.data.message:"Erro na solicita\xe7\xe3o"})}))}),[c,En,null===fn||void 0===fn?void 0:fn.id,mn]),zn=Object(r.useCallback)((function(){h(!0),k(!0),mn()}),[mn]);return Object(a.jsxs)(cn,{children:[Object(a.jsx)(On,{}),fn&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ma,{isOpen:A}),Object(a.jsx)(Ia,{users:G,currentUserResp:fn.usuario_id,transferReasonsOptions:we,handleTransferNegotiation:Sn,showModalTransferNegotiation:B,toggleModalTransferNegotiation:Nn}),Object(a.jsx)(Ea,{title:"ATEN\xc7\xc3O!",message:"Ao excluir essa negocia\xe7\xe3o o negociador respons\xe1vel n\xe3o mais poder\xe1 gerenci\xe1-la. Essa a\xe7\xe3o acarretar\xe1 em altera\xe7\xf5es na performance do mesmo. Confirma a exclus\xe3o?",note:"Ao clicar em 'Confirmar' essa a\xe7\xe3o n\xe3o poder\xe1 ser desfeita!",confirmYes:"Confirmar",confirmNo:"Cancelar",isOpen:ne,setIsOpen:Rn,handleConfirmYes:Fn,buttonType:{theme:{confirmYes:"danger"}}}),Object(a.jsx)(Ea,{title:"ATEN\xc7\xc3O!",message:"Ao restaurar essa negocia\xe7\xe3o para 'Aguardando Retorno', a performance do negociador respons\xe1vel ser\xe1 alterada e os registros da negocia\xe7\xe3o ser\xe3o perdidos. Confirma a a\xe7\xe3o?",note:"Ao clicar em 'Confirmar' essa a\xe7\xe3o n\xe3o poder\xe1 ser desfeita!",confirmYes:"Confirmar",confirmNo:"Cancelar",isOpen:ie,setIsOpen:En,handleConfirmYes:Tn,buttonType:{theme:{confirmYes:"danger"}}})]}),Object(a.jsxs)(sn,{children:[Object(a.jsx)(Dn,{children:Object(a.jsx)("form",{onSubmit:vn,children:Object(a.jsx)("input",{ref:i,type:"text",className:"search-bar",placeholder:"Pesquise por Ocorr\xeancia, Cliente ou Contrato",title:"Tecle enter para pesquisar...",onChange:yn})})}),Object(a.jsxs)(Ut,{children:[Object(a.jsxs)(on,{children:[Object(a.jsx)("h1",{children:"Negocia\xe7\xf5es"}),Object(a.jsxs)("button",{className:"refreshPage",type:"button",onClick:zn,children:[y?Object(a.jsx)(ye.a,{type:"Oval",color:"#003379",height:20,width:20}):Object(a.jsx)(jt.b,{size:20}),"Atualizar"]})]}),Object(a.jsxs)(Bt,{children:[Object(a.jsxs)("div",{className:"dateFilter",children:[Object(a.jsx)("span",{children:"Ciclo Inicia\xe7\xe3o:"}),Object(a.jsxs)("div",{className:"inputDates",children:[Object(a.jsx)(ba,{ref:o,name:"start_date",label:"In\xedcio:",defaultDate:ze}),Object(a.jsx)(ba,{ref:s,name:"end_date",label:"Fim:",defaultDate:Ae}),Object(a.jsxs)("button",{className:"dateFilterRange",type:"button",onClick:wn,title:"Filtrar",children:[Object(a.jsx)(bn.o,{}),"Filtrar"]})]}),F&&Object(a.jsx)("span",{className:"invalidDate",children:F})]}),Object(a.jsxs)("div",{className:"typesFilters",children:[Object(a.jsx)(Ke.a,{onChange:kn,options:he,placeholder:"Usu\xe1rio Respons\xe1vel",defaultValue:(null===(e=l.state)||void 0===e?void 0:e.userRespFilterSelected)?l.state.userRespFilterSelected:void 0,styles:Aa}),Object(a.jsx)(Ke.a,{onChange:_n,isMulti:!0,options:pe,placeholder:"Tipo de Solicita\xe7\xe3o",defaultValue:(null===(n=l.state)||void 0===n?void 0:n.requestTypeFilter)?l.state.requestTypeFilter:void 0,styles:Aa}),Object(a.jsx)(Ke.a,{onChange:Cn,isMulti:!0,options:de,placeholder:"Situa\xe7\xe3o",defaultValue:(null===(t=l.state)||void 0===t?void 0:t.situationFilter)?l.state.situationFilter:void 0,styles:Aa})]})]}),O?Object(a.jsx)(Wt,{}):Object(a.jsxs)($t,{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Ocorr\xeancia"}),Object(a.jsx)("th",{children:"Data Sol."}),Object(a.jsx)("th",{children:"Respons\xe1vel"}),Object(a.jsx)("th",{children:"Tipo"}),Object(a.jsx)("th",{children:"Cliente"}),Object(a.jsx)("th",{children:"Contrato"}),Object(a.jsx)("th",{children:"Valor"}),Object(a.jsx)("th",{className:"centered situation",children:"Situa\xe7\xe3o"}),Object(a.jsx)("th",{})]})}),Object(a.jsx)("tbody",{children:an&&an.map((function(e){var n,t;return Object(a.jsxs)("tr",{onClick:function(){return hn(e)},children:[Object(a.jsx)("td",{children:e.numero_ocorrencia}),Object(a.jsx)("td",{children:e.data_ocorrencia_formatted}),Object(a.jsx)("td",{children:e.usuario_resp_negociacao}),Object(a.jsx)("td",{children:e.tipo_solicitacao}),Object(a.jsx)("td",{children:e.nome_cliente}),Object(a.jsx)("td",{children:"".concat(e.numeroprojeto,"-").concat(e.numerocontrato)}),Object(a.jsx)("td",{children:e.valor_venda_formatted}),Object(a.jsx)("td",{children:Object(a.jsx)(aa,{theme:qa[e.situacao_id]||"default",children:e.situacao})}),Object(a.jsx)("td",{className:"centered",children:Object(a.jsx)(Ct,{negotiationProps:{id:e.id,situation_id:e.situacao_id},limit:Ne,offset:Fe,firstPageRangeDisplayed:null===(n=u.current)||void 0===n?void 0:n.firstPageRangeDisplayed,currentPage:null===(t=u.current)||void 0===t?void 0:t.currentPage,situationFilter:Qe,requestTypeFilter:Je,userRespFilterSelected:Ue,toggleModalTransferNegotiation:Nn,toggleModalConfirmDeleteNegotiation:Rn,toggleModalConfirmRestoreNegotiation:En})})]},e.id)}))})]}),un>0&&Object(a.jsx)(At,{ref:u,count:un,limit:Ne,pageRangeDisplayed:5,onChange:gn}),N&&Object(a.jsx)(Dt,{})]})]})]})};function La(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: start;\n  align-items: center;\n\n  padding: 10px;\n  width: 290px;\n  height: 120px;\n\n  border: 1px solid #a3a3a3;\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n  border-radius: 5px;\n\n  transition-duration: 0.3s;\n\n  &:hover {\n    transform: scale(1.05);\n  }\n\n  a {\n    width: 100%;\n    height: 100%;\n    text-decoration: none;\n\n    display: flex;\n    justify-content: start;\n    align-items: center;\n\n    color: #3c3c3c;\n  }\n\n  img {\n    width: 60px;\n    height: 60px;\n    margin-right: 20px;\n    border-radius: 50%;\n  }\n\n  div.cardContent {\n    display: flex;\n    flex-direction: column;\n\n    h3 {\n      line-height: 25px;\n      margin-bottom: 5px;\n    }\n\n    p {\n      font-size: 13px;\n    }\n  }\n"]);return La=function(){return e},e}function Ya(){var e=Object(l.a)(["\n  display: flex;\n  gap: 50px;\n  padding: 50px 25px;\n  flex-wrap: wrap;\n"]);return Ya=function(){return e},e}function Ua(){var e=Object(l.a)(["\n  height: 100%;\n  margin-right: 20px;\n  padding: 20px;\n  color: #3c3c3c;\n"]);return Ua=function(){return e},e}var Ba=d.c.div(Ua()),$a=d.c.div(Ya()),Ha=d.c.div(La()),Ja=t.p+"static/media/team.8f47c17c.png",Wa=t.p+"static/media/import.d642e6b8.png",Ga=t.p+"static/media/target.b9e784bf.png",Xa=t.p+"static/media/roles.b4233762.png",Ka=function(){return Object(a.jsxs)(cn,{children:[Object(a.jsx)(On,{}),Object(a.jsxs)(sn,{children:[Object(a.jsx)(Dn,{}),Object(a.jsxs)(Ba,{children:[Object(a.jsx)(on,{children:Object(a.jsx)("h1",{children:"Configura\xe7\xf5es"})}),Object(a.jsxs)($a,{children:[Object(a.jsx)(Ha,{children:Object(a.jsxs)(s.b,{to:"/settings/users",children:[Object(a.jsx)("img",{src:Ja,alt:"team"}),Object(a.jsxs)("div",{className:"cardContent",children:[Object(a.jsx)("h3",{children:"Usu\xe1rios"}),Object(a.jsx)("p",{children:"Gerencie sua equipe"})]})]})}),Object(a.jsx)(Ha,{children:Object(a.jsxs)(s.b,{to:"/settings/imports",children:[Object(a.jsx)("img",{src:Wa,alt:"imports"}),Object(a.jsxs)("div",{className:"cardContent",children:[Object(a.jsx)("h3",{children:"Importa\xe7\xf5es"}),Object(a.jsx)("p",{children:"Configure e acompanhe as importa\xe7\xf5es do sistema"})]})]})}),Object(a.jsx)(Ha,{children:Object(a.jsxs)(s.b,{to:"/settings/goals",children:[Object(a.jsx)("img",{src:Ga,alt:"target"}),Object(a.jsxs)("div",{className:"cardContent",children:[Object(a.jsx)("h3",{children:"Metas"}),Object(a.jsx)("p",{children:"Defina as metas da equipe"})]})]})}),Object(a.jsx)(Ha,{children:Object(a.jsxs)(s.b,{to:"/settings/roles",children:[Object(a.jsx)("img",{src:Xa,alt:"roles"}),Object(a.jsxs)("div",{className:"cardContent",children:[Object(a.jsx)("h3",{children:"Fun\xe7\xf5es"}),Object(a.jsx)("p",{children:"Ajustes de fun\xe7\xf5es/permiss\xf5es de usu\xe1rios"})]})]})})]})]})]})]})};function Qa(){var e=Object(l.a)(["\n  padding: 5px;\n  border-radius: 5px;\n\n  ","\n"]);return Qa=function(){return e},e}function Za(){var e=Object(l.a)(["\n    background: #caf0f8;\n    color: #3c3c3c;\n  "]);return Za=function(){return e},e}function er(){var e=Object(l.a)(["\n    background: #98c1d8;\n    color: #fff;\n  "]);return er=function(){return e},e}function nr(){var e=Object(l.a)(["\n    background: #6592b9;\n    color: #fff;\n  "]);return nr=function(){return e},e}function tr(){var e=Object(l.a)(["\n    background: #336299;\n    color: #fff;\n  "]);return tr=function(){return e},e}function ar(){var e=Object(l.a)(["\n    background: #003379;\n    color: #fff;\n  "]);return ar=function(){return e},e}var rr={role_admin:Object(d.b)(ar()),role_gerente:Object(d.b)(tr()),role_coordenador:Object(d.b)(nr()),role_supervisor:Object(d.b)(er()),role_consultor:Object(d.b)(Za())},cr=d.c.div(Qa(),(function(e){return rr[e.theme||"role_consultor"]})),ir=function(e){var n=e.children,t=e.theme,r=e.className;return Object(a.jsx)(cr,{className:r,theme:t,children:n})};function or(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding: 30px;\n\n  header {\n    margin-bottom: 20px;\n  }\n\n  main {\n    display: flex;\n    flex-direction: column;\n\n    align-items: center;\n    margin-bottom: 20px;\n\n    span {\n      margin-bottom: 30px;\n      color: #02c697;\n    }\n\n    p {\n      white-space: pre-line;\n      margin-bottom: 10px;\n    }\n\n    small {\n      color: #c53030;\n    }\n  }\n\n  footer {\n    display: flex;\n    justify-content: flex-end;\n\n    button {\n      display: flex;\n      height: 40px;\n      width: 150px;\n      align-items: center;\n      justify-content: center;\n      color: #fff;\n      border: 0;\n      border-radius: 20px;\n      text-decoration: none;\n      font-weight: bold;\n\n      transition: filter 0.2s;\n\n      .text {\n        padding: 16px 24px;\n        font-weight: bold;\n      }\n\n      & + button {\n        margin-left: 10px;\n      }\n\n      &:hover {\n        filter: brightness(0.95);\n      }\n    }\n\n    button.confirmNo {\n      ","\n    }\n  }\n"]);return or=function(){return e},e}function sr(){var e=Object(l.a)(["\n    background: #ff365f;\n    color: #fff;\n  "]);return sr=function(){return e},e}function lr(){var e=Object(l.a)(["\n    background: #02c697;\n    color: #fff;\n  "]);return lr=function(){return e},e}function dr(){var e=Object(l.a)(["\n    background: #f5f8fa;\n    color: #3c3c3c;\n  "]);return dr=function(){return e},e}var ur={info:Object(d.b)(dr()),success:Object(d.b)(lr()),danger:Object(d.b)(sr())},br=d.c.div(or(),(function(e){var n;return ur[(null===(n=e.buttonType)||void 0===n?void 0:n.theme.confirmYes)||"info"]})),jr=function(e){var n=e.isOpen,t=e.setIsOpen,c=e.title,i=e.message,o=e.note,s=e.buttonType,l=Object(r.useCallback)((function(){t()}),[t]);return Object(a.jsx)(ma,{isOpen:n,setIsOpen:t,shouldCloseOnOverlayClick:!1,width:"500px",background:"#FFF",children:Object(a.jsxs)(br,{buttonType:s,children:[Object(a.jsx)("header",{children:Object(a.jsx)("h2",{children:c||"Message Title"})}),Object(a.jsxs)("main",{children:[Object(a.jsx)("span",{children:Object(a.jsx)(bn.i,{size:70})}),Object(a.jsx)("p",{children:i||"Message Box"}),Object(a.jsx)("small",{children:o||""})]}),Object(a.jsx)("footer",{children:Object(a.jsx)("button",{className:"confirmNo",type:"button",onClick:l,children:"Ok"})})]})})};function pr(){var e=Object(l.a)(["\n      color: #d2cfcf;\n      cursor: default;\n    "]);return pr=function(){return e},e}function xr(){var e=Object(l.a)(["\n  background: transparent;\n  border: 0;\n  margin-right: 15px;\n  color: #3c3c3c;\n\n  ","\n"]);return xr=function(){return e},e}function fr(){var e=Object(l.a)(["\n  width: 100%;\n  border-collapse: collapse;\n  border-spacing: 0;\n\n  & + tr {\n    margin-top: 20px;\n  }\n\n  th {\n    text-align: left;\n    height: 40px;\n    line-height: 40px;\n  }\n\n  th.centered {\n    text-align: center;\n  }\n\n  tbody tr:hover {\n    background: #f5f5f5;\n    button.openDropAction {\n      background: #f5f5f5;\n    }\n  }\n\n  td {\n    white-space: normal;\n    text-align: left;\n    height: 55px;\n    padding: 5px;\n    border-top: 1px solid #d2cfcf;\n    font-size: 14px;\n  }\n\n  div.roles {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 5px;\n  }\n\n  a {\n    text-decoration: none;\n    color: #3c3c3c;\n  }\n"]);return fr=function(){return e},e}function Or(){var e=Object(l.a)(["\n  position: relative;\n  height: 90px;\n  display: flex;\n  align-items: flex-end;\n  margin-bottom: 30px;\n"]);return Or=function(){return e},e}function hr(){var e=Object(l.a)(["\n  height: 100%;\n  margin-right: 20px;\n  padding: 20px;\n  color: #3c3c3c;\n\n  div.pageUserControls {\n    display: flex;\n    margin-bottom: 30px;\n\n    a {\n      display: flex;\n      height: 40px;\n      min-width: 100px;\n      align-items: center;\n      justify-content: center;\n      color: #fff;\n      background: #336299;\n      border: 0;\n      border-radius: 20px;\n      text-decoration: none;\n\n      transition-duration: 0.3s;\n\n      &:hover {\n        background: ",";\n        transform: scale(1.05);\n      }\n    }\n  }\n"]);return hr=function(){return e},e}var mr=d.c.div(hr(),Object(we.a)(.2,"#336299")),gr=d.c.div(Or()),vr=d.c.table(fr()),yr=d.c.button(xr(),(function(e){return e.isReseted&&Object(d.b)(pr())}));function wr(){var e=Object(l.a)(["\n  display: flex;\n  flex: 1;\n  align-items: center;\n  gap: 15px;\n\n  div {\n    display: flex;\n    align-items: center;\n\n    a {\n      color: #3c3c3c;\n      text-decoration: none;\n      transition: 0.3s;\n\n      &:hover {\n        color: #336299;\n      }\n    }\n\n    svg {\n      margin-left: 15px;\n    }\n  }\n"]);return wr=function(){return e},e}var kr=d.c.div(wr()),Cr=function(e){var n=e.children;return Object(a.jsx)(kr,{children:n.map((function(e,t){return Object(a.jsxs)("div",{children:[e,t<n.length-1&&Object(a.jsx)(bn.e,{size:30})]},Object(k.a)())}))})},_r=function(e){var n=e.link,t=e.label;return Object(a.jsx)(a.Fragment,{children:n?Object(a.jsx)(s.b,{to:n,children:Object(a.jsx)("h1",{children:t})}):Object(a.jsx)("h1",{children:t})})},Nr={ROLE_ADMIN:"role_admin",ROLE_GERENTE:"role_gerente",ROLE_COORDENADOR:"role_coordenador",ROLE_SUPERVISOR:"role_supervisor",ROLE_CONSULTOR:"role_consultor"},Sr=function(){var e=L().addToast,n=Object(r.useState)(10),t=Object(f.a)(n,2),c=t[0],i=t[1],o=Object(r.useState)(0),l=Object(f.a)(o,2),d=l[0],u=l[1],b=Object(r.useState)(!1),j=Object(f.a)(b,2),p=j[0],x=j[1],O=Object(r.useState)(!1),h=Object(f.a)(O,2),m=h[0],g=h[1],y=Object(r.useState)(!1),w=Object(f.a)(y,2),k=w[0],C=w[1],_=Object(r.useState)(!0),N=Object(f.a)(_,2),S=N[0],D=N[1],R=Object(r.useState)(!1),F=Object(f.a)(R,2),P=F[0],E=F[1],T=Object(r.useState)(null),z=Object(f.a)(T,2),M=z[0],I=z[1],q=Object(r.useState)([]),A=Object(f.a)(q,2),V=A[0],Y=A[1],U=Object(r.useState)(0),B=Object(f.a)(U,2),$=B[0],H=B[1],J=Object(r.useState)(!1),W=Object(f.a)(J,2),G=W[0],X=W[1];Object(r.useEffect)((function(){v.get("/users",{params:{offset:d,limit:c}}).then((function(e){H(e.headers["x-total-count"]);var n=e.data.data;Y(n),D(!1)})).catch((function(e){D(!1),C(!0),console.log(e.message)}))}),[d,c,P]);var K=Object(r.useCallback)((function(e,n){D(!0),i(e),u(n)}),[]),Q=Object(r.useCallback)((function(){E(!P),window.scrollTo(0,0)}),[P]),Z=Object(r.useCallback)((function(){X(!G)}),[G]),ee=Object(r.useCallback)((function(){Z()}),[Z]),ne=Object(r.useCallback)((function(){Z(),g(!0),v.put("/users/".concat(null===M||void 0===M?void 0:M.id,"/reset-password")).then((function(){g(!1),Q(),x(!0)})).catch((function(n){e({type:"error",title:"N\xe3o Permitido",description:n.response.data.message?n.response.data.message:"Erro na solicita\xe7\xe3o"})}))}),[Z,e,Q,null===M||void 0===M?void 0:M.id]),te=Object(r.useCallback)((function(){x(!p)}),[p]);return Object(a.jsxs)(cn,{children:[Object(a.jsx)(On,{}),Object(a.jsx)(Ma,{isOpen:m}),Object(a.jsx)(jr,{title:"Reset de Senha",message:"A senha o do usu\xe1rio foi redefinida com sucesso. Pe\xe7a para o mesmo deslogar e logar novamente no sistema com a senha padr\xe3o: renegociacao",isOpen:p,setIsOpen:te}),Object(a.jsx)(Ea,{title:"Reset de Senha | Usu\xe1rio",message:"O usu\xe1rio precisar\xe1 deslogar e logar novamente no sistema. Confirma o reset da senha do usu\xe1rio ".concat(null===M||void 0===M?void 0:M.primeiro_nome,"?"),confirmYes:"Confirmar",confirmNo:"Cancelar",isOpen:G,setIsOpen:Z,handleConfirmYes:ne,buttonType:{theme:{confirmYes:"success"}}}),Object(a.jsxs)(sn,{children:[Object(a.jsx)(Dn,{}),Object(a.jsxs)(mr,{children:[Object(a.jsx)(gr,{children:Object(a.jsxs)(Cr,{children:[Object(a.jsx)(_r,{link:"/settings",label:"Configura\xe7\xf5es"}),Object(a.jsx)(_r,{label:"Usu\xe1rios"})]})}),Object(a.jsx)("div",{className:"pageUserControls",children:Object(a.jsx)(s.b,{to:"/settings/users/new",children:"Novo"})}),Object(a.jsxs)(vr,{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Nome"}),Object(a.jsx)("th",{children:"Nome Completo"}),Object(a.jsx)("th",{children:"E-mail"}),Object(a.jsx)("th",{children:"Status"}),Object(a.jsx)("th",{children:"Fun\xe7\xf5es"}),Object(a.jsx)("th",{children:"A\xe7\xf5es"})]})}),Object(a.jsx)("tbody",{children:!S&&V.map((function(e){return Object(a.jsxs)("tr",{onClick:function(){return I(e)},children:[Object(a.jsx)("td",{children:e.primeiro_nome}),Object(a.jsx)("td",{children:e.nome}),Object(a.jsx)("td",{children:e.email}),Object(a.jsx)("td",{children:Number(e.ativo)?"Ativo":"Inativo"}),Object(a.jsx)("td",{children:Object(a.jsx)("div",{className:"roles",children:e.roles&&e.roles.map((function(e){return Object(a.jsx)(ir,{theme:Nr[e.name]||"ROLE_CONSULTOR",children:e.name.replace("ROLE_","")},e.id)}))})}),Object(a.jsxs)("td",{children:[Object(a.jsxs)(yr,{isReseted:!!Number(e.reset_password),disabled:!!Number(e.reset_password),"data-tip":!0,"data-for":"resetPasswordButton",type:"button",onClick:ee,children:[Object(a.jsx)(ia.c,{size:28}),Object(a.jsx)(xt.a,{id:"resetPasswordButton",type:"info",effect:"solid",delayShow:1e3,children:Object(a.jsx)("span",{children:"Reset de Senha"})})]}),Object(a.jsx)(s.b,{"data-tip":!0,"data-for":"editButton",to:{pathname:"/settings/users/edit",state:{id:e.id}},children:Object(a.jsx)(bn.s,{size:28})}),Object(a.jsx)(xt.a,{id:"editButton",type:"info",effect:"solid",delayShow:1e3,children:Object(a.jsx)("span",{children:"Editar"})})]})]},e.id)}))})]}),S&&Object(a.jsx)(Wt,{}),$>0&&Object(a.jsx)(At,{count:$,limit:c,pageRangeDisplayed:5,onChange:K}),k&&Object(a.jsx)(Dt,{})]})]})]})},Dr=t(66);function Rr(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n  margin-bottom: 30px;\n  font-weight: bold;\n\n  header {\n    margin-bottom: 20px;\n  }\n\n  main {\n    display: flex;\n    flex-wrap: wrap;\n\n    gap: 25px;\n    padding: 10px;\n\n    div.roleItem {\n      display: flex;\n      align-items: center;\n      padding: 10px;\n\n      p {\n        margin-left: 10px;\n      }\n    }\n  }\n"]);return Rr=function(){return e},e}function Fr(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 30px;\n\n  h1 {\n    font-weight: 600;\n    font-size: 36px;\n    line-height: 36px;\n    margin-bottom: 40px;\n  }\n\n  div {\n    margin-top: 0px;\n  }\n\n  div.row {\n    display: flex;\n\n    :not(:last-child) {\n      margin-bottom: 30px;\n    }\n  }\n\n  div.row.userTimesharing {\n    width: 50%;\n  }\n\n  div.searchUserTimesharing {\n    position: relative;\n    display: flex;\n    align-items: center;\n\n    svg {\n      margin-left: 10px;\n    }\n  }\n\n  div.containerResults {\n    position: absolute;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    top: 70px;\n    left: 0;\n    overflow: auto;\n\n    background: #fff;\n    padding: 20px;\n    min-width: 300px;\n    max-height: 400px;\n    border-radius: 5px;\n    box-shadow: rgb(0 0 0 / 40%) 0px 5px 10px;\n    transition: opacity 0.2s ease 0s, visibility 0.2s ease 0s;\n    opacity: 1;\n    z-index: 1;\n\n    ::-webkit-scrollbar {\n      width: 10px;\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n      background: #caf0f8;\n      border-radius: 10px;\n    }\n\n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n      background: #98c1d8;\n    }\n\n    ul {\n      display: flex;\n      flex-direction: column;\n      justify-content: flex-start;\n      list-style: none;\n      width: 100%;\n    }\n\n    li.listItem {\n      padding: 5px;\n      cursor: pointer;\n      border-radius: 5px;\n\n      & + li {\n        margin-bottom: 5px;\n      }\n\n      &:hover {\n        background: #98c1d8;\n      }\n    }\n\n    p {\n      position: absolute;\n      padding: 10px;\n    }\n  }\n\n  div.label {\n    padding: 10px;\n    margin-right: 5px;\n    min-width: 200px;\n    font-weight: bold;\n  }\n\n  button {\n    align-self: flex-end;\n  }\n\n  .logoErrorInput {\n    margin-left: 5px;\n  }\n"]);return Fr=function(){return e},e}function Pr(){var e=Object(l.a)(["\n  position: relative;\n  background: #fff;\n  border-radius: 10px;\n  max-width: 900px;\n\n  button.userSubmit {\n    float: right;\n    display: flex;\n    height: 40px;\n    width: 178px;\n    align-items: center;\n    justify-content: center;\n    color: #fff;\n    background: #46d8d5;\n    border: 0;\n    border-radius: 8px;\n    text-decoration: none;\n\n    .text {\n      padding: 16px 24px;\n      font-weight: bold;\n    }\n  }\n"]);return Pr=function(){return e},e}function Er(){var e=Object(l.a)(["\n  height: 100%;\n  margin-right: 20px;\n  padding: 20px;\n  color: #3c3c3c;\n\n  div.linkBackPage {\n    display: flex;\n    margin: 30px 0px;\n    height: 40px;\n    a {\n      display: flex;\n      align-items: center;\n      color: #003379;\n\n      text-decoration: none;\n      font-weight: bold;\n      transition: color 0.2s;\n\n      svg {\n        margin-right: 5px;\n      }\n\n      span {\n        margin-top: 2px;\n      }\n\n      &:hover {\n        color: ",";\n      }\n    }\n  }\n"]);return Er=function(){return e},e}var Tr=d.c.div(Er(),Object(we.a)(.2,"#003379")),zr=d.c.div(Pr()),Mr=Object(d.c)(ae.a)(Fr()),Ir=d.c.div(Rr());function qr(){var e=Object(l.a)(["\n        left: 26px;\n      "]);return qr=function(){return e},e}function Ar(){var e=Object(l.a)(["\n      background-color: #46d8d5;\n    "]);return Ar=function(){return e},e}function Vr(){var e=Object(l.a)(["\n  background-color: #c4c4c4;\n  cursor: pointer;\n  user-select: none;\n\n  width: 50px;\n  height: 26px;\n\n  border-radius: 3px;\n  padding: 2px;\n  position: relative;\n  border-radius: 17px;\n\n  ","\n\n  div.dialog-button {\n    position: absolute;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 23px;\n    height: 23px;\n\n    font-size: 14px;\n    line-height: 16px;\n    font-weight: bold;\n    background-color: #fff;\n    color: white;\n    /* padding: 8px 12px; */\n    min-width: 46px;\n\n    cursor: pointer;\n    min-width: unset;\n    border-radius: 15px;\n\n    left: 1px;\n    /* transition: all 0.1s ease; */\n\n    ","\n  }\n"]);return Vr=function(){return e},e}var Lr=d.c.div(Vr(),(function(e){return e.isActive&&Object(d.b)(Ar())}),(function(e){return e.isActive&&Object(d.b)(qr())})),Yr=function(e){var n=e.selected,t=void 0!==n&&n,c=e.onChange,i=Object(ee.a)(e,["selected","onChange"]),o=Object(r.useState)(!1),s=Object(f.a)(o,2),l=s[0],d=s[1];Object(r.useEffect)((function(){d(t)}),[t]);var u=Object(r.useCallback)((function(){d(!l),c(i)}),[l,c,i]);return Object(a.jsx)(Lr,{isActive:l,onClick:u,onChange:function(){return c(i)},children:Object(a.jsx)("div",{className:"dialog-button"})})},Ur=function(){var e,n,t,c,i=Object(Q.g)(),o=mn(!1),l=o.visible,d=o.setVisible,u=o.ref,b=L().addToast,j=Object(r.useState)(!1),O=Object(f.a)(j,2),h=O[0],m=O[1],g=Object(r.useRef)(null),k=Object(Q.h)(),C=Object(r.useState)(null),_=Object(f.a)(C,2),N=_[0],S=_[1],D=Object(r.useState)(!1),R=Object(f.a)(D,2),F=R[0],P=R[1],E=Object(r.useState)(!1),T=Object(f.a)(E,2),z=T[0],M=T[1],I=Object(r.useState)(""),q=Object(f.a)(I,2),A=q[0],V=q[1],Y=Object(r.useState)([]),U=Object(f.a)(Y,2),B=U[0],$=U[1],H=Object(r.useState)([]),J=Object(f.a)(H,2),W=J[0],G=J[1],X=Object(r.useState)({}),K=Object(f.a)(X,2),ee=K[0],ne=K[1];Object(r.useEffect)((function(){v.get("/domain/role").then((function(e){var n=e.data.data;S(n)}))}),[]),Object(r.useEffect)((function(){var e,n;(null===(e=k.state)||void 0===e?void 0:e.id)&&v.get("/users/".concat(null===(n=k.state)||void 0===n?void 0:n.id)).then((function(e){var n,t=e.data.data,a=null===(n=t.roles)||void 0===n?void 0:n.map((function(e){return e.id}));G(null!==a&&void 0!==a?a:[]),ne(t)}))}),[null===(e=k.state)||void 0===e?void 0:e.id]),Object(r.useEffect)((function(){!A||A.length<3||y.get("user-system",{params:{query:A}}).then((function(e){var n=e.data.data;$(n),M(!1)})).catch((function(e){M(!1),P(!0),console.log(e.message)}))}),[A]);var te=Object(r.useCallback)((function(e){if(!e.target.value||e.target.value.length<3)return d(!1),M(!1),V(""),void $([]);V(e.target.value.toUpperCase()),d(!0),M(!0),P(!1)}),[d]),ae=Object(r.useCallback)((function(e){var n;ne(Object(Z.a)(Object(Z.a)({},ee),{},{ts_usuario_id:e.idusuario})),null===(n=g.current)||void 0===n||n.setData({usuariots:e.usuariots,nome:e.nome,primeiro_nome:e.nome.split(" ")[0]}),d(!1)}),[d,ee]),ie=Object(r.useCallback)((function(){var e;null===(e=g.current)||void 0===e||e.submitForm()}),[]),oe=Object(r.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(n){var t,a,r,c,o,s,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null===(t=g.current)||void 0===t||t.setErrors({}),c=re.c().shape({usuariots:re.e().required("Usu\xe1rio TS \xe9 obrigat\xf3rio"),nome:re.e().required("Nome \xe9 obrigat\xf3rio"),primeiro_nome:re.e().required("Nome exibi\xe7\xe3o \xe9 obrigat\xf3rio"),email:re.e().required("E-mail \xe9 obrigat\xf3rio")}),e.next=5,c.validate(n,{abortEarly:!1});case 5:if(m(!0),o=Object(Z.a)(Object(Z.a)(Object(Z.a)({},ee),n),{},{roles:W}),!(null===(a=k.state)||void 0===a?void 0:a.id)){e.next=12;break}return e.next=10,v.put("/users/".concat(k.state.id),o);case 10:e.next=14;break;case 12:return e.next=14,v.post("/users",o);case 14:m(!1),b({type:"success",title:"Cadastro Usu\xe1rio",description:(null===(r=k.state)||void 0===r?void 0:r.id)?"Dados alterados com sucesso":"Usu\xe1rio cadastrado com sucesso"}),i.push("/settings/users"),e.next=28;break;case 19:if(e.prev=19,e.t0=e.catch(0),!(e.t0 instanceof re.a)){e.next=25;break}return l=ce(e.t0),null===(s=g.current)||void 0===s||s.setErrors(l),e.abrupt("return");case 25:m(!1),b({type:"error",title:"N\xe3o Permitido",description:e.t0.response.data.message?e.t0.response.data.message:"Erro na solicita\xe7\xe3o"}),window.scrollTo(0,0);case 28:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(n){return e.apply(this,arguments)}}(),[b,ee,null===(n=k.state)||void 0===n?void 0:n.id,W,i]),se=Object(r.useCallback)((function(e){W.includes(e.option.role_id)?G(W.filter((function(n){return n!==e.option.role_id}))):G((function(n){return[].concat(Object(w.a)(n),[e.option.role_id])}))}),[W]),le=Object(r.useCallback)((function(){ne(Object(Z.a)(Object(Z.a)({},ee),{},{ativo:!Number(ee.ativo)}))}),[ee]);return Object(a.jsxs)(cn,{children:[Object(a.jsx)(On,{}),Object(a.jsxs)(sn,{children:[Object(a.jsx)(Ma,{isOpen:h}),Object(a.jsx)(Dn,{}),Object(a.jsxs)(Tr,{children:[Object(a.jsx)(on,{children:Object(a.jsxs)(Cr,{children:[Object(a.jsx)(_r,{link:"/settings",label:"Configura\xe7\xf5es"}),Object(a.jsx)(_r,{link:"/settings/users",label:"Usu\xe1rios"}),Object(a.jsx)(_r,{label:(null===(t=k.state)||void 0===t?void 0:t.id)?"Editar":"Novo"})]})}),Object(a.jsx)("div",{className:"linkBackPage",children:Object(a.jsxs)(s.b,{to:"/settings/users/",children:[Object(a.jsx)(Dr.a,{size:25}),Object(a.jsx)("span",{children:"Voltar"})]})}),N?Object(a.jsxs)(zr,{children:[Object(a.jsxs)(Mr,{ref:g,onSubmit:oe,children:[Object(a.jsxs)("div",{className:"row userTimesharing",children:[Object(a.jsx)("div",{className:"label",children:"Usu\xe1rio Timesharing:"}),Object(a.jsxs)("div",{className:"searchUserTimesharing",children:[Object(a.jsx)(ge,{mask:"toUpper",name:"usuariots",onChange:te,defaultValue:ee.usuariots}),Object(a.jsx)(bn.t,{size:35}),Object(a.jsx)("div",{ref:u,children:l>0&&Object(a.jsxs)("div",{className:"containerResults",children:[z?Object(a.jsx)(ye.a,{type:"ThreeDots",color:"#003379",height:30,width:30}):Object(a.jsx)("ul",{children:B.map((function(e){return Object(a.jsx)("li",{className:"listItem",onClick:function(){ae(e)},children:e.usuariots},e.idusuario)}))}),F&&Object(a.jsx)("p",{children:"Erro ao buscar usu\xe1rio no Timesharing."})]})})]})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"label",children:"Nome Completo:"}),Object(a.jsx)(ge,{name:"nome",defaultValue:ee.nome})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"label",children:"Nome Exibi\xe7\xe3o:"}),Object(a.jsx)(ge,{name:"primeiro_nome",defaultValue:ee.primeiro_nome})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"label",children:"E-mail Beach Park:"}),Object(a.jsx)(ge,{name:"email",placeholder:"@beachpark.com.br",defaultValue:ee.email})]}),(null===(c=k.state)||void 0===c?void 0:c.id)&&Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"label",children:"Ativo:"}),Object(a.jsx)(Yr,{selected:!!Number(ee.ativo),onChange:le})]})]}),Object(a.jsxs)(Ir,{children:[Object(a.jsx)("header",{children:Object(a.jsx)("p",{children:"Selecione as fun\xe7\xf5es que deseja atribuir ao usu\xe1rio:"})}),Object(a.jsx)("main",{children:N.map((function(e){return Object(a.jsxs)("div",{className:"roleItem",children:[Object(a.jsx)(Yr,{option:{role_id:e.id},selected:W.includes(e.id),onChange:se}),Object(a.jsx)("p",{children:e.name})]},e.id)}))})]}),Object(a.jsx)("button",{type:"button",className:"userSubmit","data-test-id":"add-waiter-button",onClick:ie,children:Object(a.jsx)("p",{className:"text",children:"Salvar"})})]}):Object(a.jsx)(Wt,{})]})]})]})};function Br(){var e=Object(l.a)(["\n  width: 100%;\n  border-collapse: collapse;\n  border-spacing: 0;\n\n  & + tr {\n    margin-top: 20px;\n  }\n\n  th {\n    text-align: left;\n    height: 40px;\n    line-height: 40px;\n  }\n\n  th.centered {\n    text-align: center;\n  }\n\n  tbody tr:hover {\n    background: #f5f5f5;\n    button.openDropAction {\n      background: #f5f5f5;\n    }\n  }\n\n  td {\n    white-space: normal;\n    text-align: left;\n    height: 55px;\n    padding: 5px;\n    border-top: 1px solid #d2cfcf;\n    font-size: 14px;\n  }\n\n  div.roles {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 5px;\n  }\n\n  a {\n    text-decoration: none;\n    color: #3c3c3c;\n  }\n"]);return Br=function(){return e},e}function $r(){var e=Object(l.a)(["\n  height: 100%;\n  margin-right: 20px;\n  padding: 20px;\n  color: #3c3c3c;\n\n  div.pageUserControls {\n    display: flex;\n    margin: 30px 0;\n\n    a {\n      display: flex;\n      height: 40px;\n      min-width: 100px;\n      align-items: center;\n      justify-content: center;\n      color: #fff;\n      background: #336299;\n      border: 0;\n      border-radius: 20px;\n      text-decoration: none;\n\n      transition-duration: 0.3s;\n\n      &:hover {\n        background: ",";\n        transform: scale(1.05);\n      }\n    }\n  }\n"]);return $r=function(){return e},e}var Hr=d.c.div($r(),Object(we.a)(.2,"#336299")),Jr=d.c.table(Br()),Wr=function(){var e=Object(r.useState)(10),n=Object(f.a)(e,2),t=n[0],c=n[1],i=Object(r.useState)(0),o=Object(f.a)(i,2),l=o[0],d=o[1],u=Object(r.useState)(!1),b=Object(f.a)(u,2),j=b[0],p=b[1],x=Object(r.useState)(!0),O=Object(f.a)(x,2),h=O[0],m=O[1],g=Object(r.useState)([]),y=Object(f.a)(g,2),w=y[0],k=y[1],C=Object(r.useState)(0),_=Object(f.a)(C,2),N=_[0],S=_[1];Object(r.useEffect)((function(){v.get("/domain/role",{params:{offset:l,limit:t}}).then((function(e){S(e.headers["x-total-count"]);var n=e.data.data;k(n),m(!1)})).catch((function(e){m(!1),p(!0),console.log(e.message)}))}),[l,t]);var D=Object(r.useCallback)((function(e,n){m(!0),c(e),d(n)}),[]);return Object(a.jsxs)(cn,{children:[Object(a.jsx)(On,{}),Object(a.jsxs)(sn,{children:[Object(a.jsx)(Dn,{}),Object(a.jsxs)(Hr,{children:[Object(a.jsx)(on,{children:Object(a.jsxs)(Cr,{children:[Object(a.jsx)(_r,{link:"/settings",label:"Configura\xe7\xf5es"}),Object(a.jsx)(_r,{label:"Fun\xe7\xf5es"})]})}),Object(a.jsxs)(Jr,{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Cargo"}),Object(a.jsx)("th",{children:"Palavra Chave"}),Object(a.jsx)("th",{children:"Descri\xe7\xe3o"}),Object(a.jsx)("th",{children:"Total de Permiss\xf5es"}),Object(a.jsx)("th",{children:"A\xe7\xf5es"})]})}),Object(a.jsx)("tbody",{children:!h&&w.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.name}),Object(a.jsx)("td",{children:e.alias}),Object(a.jsx)("td",{children:e.description}),Object(a.jsx)("td",{children:"".concat(e.permissions.length," Permiss\xf5es")}),Object(a.jsxs)("td",{children:[Object(a.jsx)(s.b,{"data-tip":!0,"data-for":"editButton",to:{pathname:"/settings/roles/edit",state:{id:e.id}},children:Object(a.jsx)(bn.s,{size:28})}),Object(a.jsx)(xt.a,{id:"editButton",type:"info",effect:"solid",delayShow:1e3,children:Object(a.jsx)("span",{children:"Editar"})})]})]},e.id)}))})]}),h&&Object(a.jsx)(Wt,{}),N>0&&Object(a.jsx)(At,{count:N,limit:t,pageRangeDisplayed:5,onChange:D}),j&&Object(a.jsx)(Dt,{})]})]})]})};function Gr(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n  margin-bottom: 30px;\n\n  header {\n    font-weight: bold;\n    margin-bottom: 30px;\n  }\n\n  main {\n    margin: 0 auto;\n    display: grid;\n    /* grid-gap: 1rem; */\n\n    @media (min-width: 600px) {\n      grid-template-columns: repeat(2, 1fr);\n    }\n\n    @media (min-width: 900px) {\n      grid-template-columns: repeat(3, 1fr);\n    }\n\n    header {\n      margin-bottom: 20px;\n    }\n\n    div.roleItem {\n      display: flex;\n      align-items: center;\n      padding: 10px;\n\n      p {\n        margin-left: 10px;\n      }\n    }\n  }\n"]);return Gr=function(){return e},e}function Xr(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 30px;\n\n  h1 {\n    font-weight: 600;\n    font-size: 36px;\n    line-height: 36px;\n    margin-bottom: 40px;\n  }\n\n  div {\n    margin-top: 0px;\n  }\n\n  div.row {\n    display: flex;\n\n    :not(:last-child) {\n      margin-bottom: 30px;\n    }\n  }\n\n  div.label {\n    padding: 10px;\n    margin-right: 5px;\n    min-width: 200px;\n    font-weight: bold;\n  }\n\n  [data-test-id='input-role'] {\n    background: #f0f0f0;\n  }\n\n  button {\n    align-self: flex-end;\n  }\n"]);return Xr=function(){return e},e}function Kr(){var e=Object(l.a)(["\n  position: relative;\n  background: #fff;\n  border-radius: 10px;\n  max-width: 900px;\n\n  button.roleSubmit {\n    float: right;\n    display: flex;\n    height: 40px;\n    width: 178px;\n    align-items: center;\n    justify-content: center;\n    color: #fff;\n    background: #46d8d5;\n    border: 0;\n    border-radius: 8px;\n    text-decoration: none;\n\n    .text {\n      padding: 16px 24px;\n      font-weight: bold;\n    }\n  }\n"]);return Kr=function(){return e},e}function Qr(){var e=Object(l.a)(["\n  height: 100%;\n  margin-right: 20px;\n  padding: 20px;\n  color: #3c3c3c;\n\n  div.linkBackPage {\n    display: flex;\n    margin: 30px 0px;\n    height: 40px;\n    a {\n      display: flex;\n      align-items: center;\n      color: #003379;\n\n      text-decoration: none;\n      font-weight: bold;\n      transition: color 0.2s;\n\n      svg {\n        margin-right: 5px;\n      }\n\n      span {\n        margin-top: 2px;\n      }\n\n      &:hover {\n        color: ",";\n      }\n    }\n  }\n"]);return Qr=function(){return e},e}var Zr=d.c.div(Qr(),Object(we.a)(.2,"#003379")),ec=d.c.div(Kr()),nc=Object(d.c)(ae.a)(Xr()),tc=d.c.div(Gr()),ac=function(){var e,n,t=Object(Q.g)(),c=L().addToast,i=Object(r.useState)(!1),o=Object(f.a)(i,2),l=o[0],d=o[1],u=Object(r.useRef)(null),b=Object(Q.h)(),j=Object(r.useState)(null),O=Object(f.a)(j,2),h=O[0],m=O[1],g=Object(r.useState)(null),y=Object(f.a)(g,2),k=y[0],C=y[1],_=Object(r.useState)([]),N=Object(f.a)(_,2),S=N[0],D=N[1];Object(r.useEffect)((function(){v.get("/domain/permission").then((function(e){var n=e.data.data;m(n)}))}),[]),Object(r.useEffect)((function(){var e,n;(null===(e=b.state)||void 0===e?void 0:e.id)&&v.get("/domain/role/".concat(null===(n=b.state)||void 0===n?void 0:n.id)).then((function(e){var n=e.data.data;D(n.permissions.map((function(e){return e.id}))),C(n)}))}),[null===(e=b.state)||void 0===e?void 0:e.id]);var R=Object(r.useCallback)((function(){var e;null===(e=u.current)||void 0===e||e.submitForm()}),[]),F=Object(r.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(n){var a,r,i,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null===(a=u.current)||void 0===a||a.setErrors({}),r=re.c().shape({description:re.e().min(5,"Necess\xe1rio descri\xe7\xe3o com no m\xednimo 5 d\xedgitos")}),e.next=5,r.validate(n,{abortEarly:!1});case 5:return d(!0),e.next=8,v.put("/domain/role/".concat(b.state.id),{description:n.description,permissions:S});case 8:d(!1),c({type:"success",title:"Cargos e Fun\xe7\xf5es",description:"Dados alterados com sucesso"}),t.push("/settings/roles"),e.next=22;break;case 13:if(e.prev=13,e.t0=e.catch(0),!(e.t0 instanceof re.a)){e.next=19;break}return o=ce(e.t0),null===(i=u.current)||void 0===i||i.setErrors(o),e.abrupt("return");case 19:d(!1),c({type:"error",title:"N\xe3o Permitido",description:e.t0.response.data.message?e.t0.response.data.message:"Erro na solicita\xe7\xe3o"}),window.scrollTo(0,0);case 22:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(n){return e.apply(this,arguments)}}(),[c,null===(n=b.state)||void 0===n?void 0:n.id,S,t]),P=Object(r.useCallback)((function(e){S.includes(e.option.permission_id)?D(S.filter((function(n){return n!==e.option.permission_id}))):D((function(n){return[].concat(Object(w.a)(n),[e.option.permission_id])}))}),[S]);return Object(a.jsxs)(cn,{children:[Object(a.jsx)(On,{}),Object(a.jsxs)(sn,{children:[Object(a.jsx)(Ma,{isOpen:l}),Object(a.jsx)(Dn,{}),Object(a.jsxs)(Zr,{children:[Object(a.jsx)(on,{children:Object(a.jsxs)(Cr,{children:[Object(a.jsx)(_r,{link:"/settings",label:"Configura\xe7\xf5es"}),Object(a.jsx)(_r,{link:"/settings/roles",label:"Fun\xe7\xf5es"}),Object(a.jsx)(_r,{label:"Editar"})]})}),Object(a.jsx)("div",{className:"linkBackPage",children:Object(a.jsxs)(s.b,{to:"/settings/roles",children:[Object(a.jsx)(Dr.a,{size:25}),Object(a.jsx)("span",{children:"Voltar"})]})}),h?Object(a.jsxs)(ec,{children:[Object(a.jsxs)(nc,{ref:u,onSubmit:F,children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"label",children:"Cargo/Fun\xe7\xe3o:"}),Object(a.jsx)(ge,{dataTestId:"input-role",name:"name",defaultValue:null===k||void 0===k?void 0:k.name,disabled:!0})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"label",children:"Palavra Chave:"}),Object(a.jsx)(ge,{dataTestId:"input-role",name:"alias",defaultValue:null===k||void 0===k?void 0:k.alias,disabled:!0})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"label",children:"Descri\xe7\xe3o:"}),Object(a.jsx)(ge,{name:"description",defaultValue:null===k||void 0===k?void 0:k.description})]})]}),Object(a.jsxs)(tc,{children:[Object(a.jsx)("header",{children:Object(a.jsx)("p",{children:"Selecione as permiss\xf5es que deseja atribuir ao cargo/fun\xe7\xe3o:"})}),Object(a.jsx)("main",{children:h.map((function(e){return Object(a.jsxs)("div",{className:"roleItem",children:[Object(a.jsx)("div",{className:"toggleButtonContainer",children:Object(a.jsx)(Yr,{option:{permission_id:e.id},selected:null===k||void 0===k?void 0:k.permissions.some((function(n){return n.id===e.id})),onChange:P})}),Object(a.jsx)("p",{children:e.name})]},e.id)}))})]}),Object(a.jsx)("button",{type:"button",className:"roleSubmit",onClick:R,children:Object(a.jsx)("p",{className:"text",children:"Salvar"})})]}):Object(a.jsx)(Wt,{})]})]})]})};function rc(){var e=Object(l.a)(["\n  width: 100%;\n  border-collapse: collapse;\n  border-spacing: 0;\n\n  & + tr {\n    margin-top: 20px;\n  }\n\n  th {\n    text-align: left;\n    height: 40px;\n    line-height: 40px;\n  }\n\n  th.centered {\n    text-align: center;\n  }\n\n  div.occurrenceInfo {\n    display: flex;\n    svg {\n      cursor: pointer;\n      margin-left: 10px;\n      color: #be6464;\n    }\n  }\n\n  tbody tr:hover {\n    background: #f5f5f5;\n    button.openDropAction {\n      background: #f5f5f5;\n    }\n  }\n\n  td {\n    white-space: normal;\n    text-align: left;\n    height: 55px;\n    padding: 5px;\n    border-top: 1px solid #d2cfcf;\n    font-size: 14px;\n  }\n\n  td.clientName {\n    width: 270px;\n  }\n\n  td.centered {\n    text-align: center;\n  }\n\n  td.occurrence-opened {\n    color: #9c0006;\n    font-weight: bold;\n  }\n"]);return rc=function(){return e},e}function cc(){var e=Object(l.a)(["\n  position: relative;\n  display: flex;\n  align-items: flex-end;\n  justify-content: space-between;\n  padding: 10px 0;\n  margin-bottom: 15px;\n  font-size: 14px;\n\n  span {\n    color: #a3a3a3;\n    font-weight: bold;\n  }\n\n  div.dateFilter {\n    display: flex;\n    flex-direction: column;\n\n    span.invalidDate {\n      position: absolute;\n      color: #9c0006;\n      bottom: -10px;\n    }\n  }\n\n  div.inputDates {\n    display: flex;\n\n    button {\n      color: #3c3c3c;\n      display: flex;\n      align-items: center;\n      background: transparent;\n      border: 0;\n      font-size: 14px;\n      transition: color 0.2s;\n\n      &:hover {\n        color: #003379;\n      }\n\n      svg {\n        margin-right: 5px;\n      }\n    }\n  }\n\n  div.typesFilters {\n    display: flex;\n  }\n"]);return cc=function(){return e},e}function ic(){var e=Object(l.a)(["\n  height: 100%;\n  margin-right: 20px;\n  padding: 20px;\n  color: #3c3c3c;\n"]);return ic=function(){return e},e}var oc=d.c.div(ic()),sc=d.c.div(cc()),lc=d.c.table(rc());function dc(){var e=Object(l.a)(["\n  padding: 40px 50px;\n  display: flex;\n  flex-direction: column;\n\n  h1 {\n    font-weight: 600;\n    font-size: 30px;\n    line-height: 30px;\n    margin-bottom: 40px;\n  }\n\n  div {\n    margin-top: 0px;\n  }\n\n  div.control {\n    display: flex;\n  }\n\n  div.control > div {\n    /* width: 250px; */\n    :not(:last-child) {\n      margin-right: 20px;\n    }\n  }\n\n  div.row {\n    display: flex;\n    margin-bottom: 18px;\n  }\n\n  div.row div {\n    /* width: 250px; */\n    :not(:last-child) {\n      margin-right: 20px;\n    }\n  }\n\n  button {\n    margin-top: 18px;\n    align-self: flex-end;\n  }\n\n  button {\n    font-weight: 600;\n    border-radius: 8px;\n    border: 0;\n    background: #02c697;\n    color: #fff;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    .text {\n      padding: 16px 24px;\n    }\n\n    .icon {\n      display: flex;\n      padding: 16px 16px;\n      background: #02c697;\n      border-radius: 0 8px 8px 0;\n      margin: 0 auto;\n    }\n  }\n\n  .logoErrorInput {\n    margin-left: 5px;\n  }\n"]);return dc=function(){return e},e}var uc=Object(d.c)(ae.a)(dc()),bc=function(e){var n=e.occurrence_id,t=e.refreshPage,c=Object(r.useRef)(null),i=X(),o=i.showModalNegotiationRegister,s=i.negotiationRegister,l=i.toggleModalNegotiationRegister,d=L().addToast,u=Object(r.useState)(!1),b=Object(f.a)(u,2),j=b[0],O=b[1],h=Object(r.useState)([]),m=Object(f.a)(h,2),g=m[0],y=m[1],w=Object(r.useState)([]),k=Object(f.a)(w,2),C=k[0],N=k[1],S=Object(r.useState)([]),D=Object(f.a)(S,2),R=D[0],F=D[1];Object(r.useEffect)((function(){Promise.all([v.get("/domain/reasons"),v.get("/domain/request-type"),v.get("/domain/request-source")]).then((function(e){var n=Object(f.a)(e,3),t=n[0],a=n[1],r=n[2],c=t.data.data;y(c.map((function(e){return{value:e.id,label:e.nome}})));var i=a.data.data;N(i.map((function(e){return{value:e.id,label:e.nome}})));var o=r.data.data;F(o.map((function(e){return{value:e.id,label:e.nome}})))})).catch((function(e){console.log(e.message)}))}),[]);var P=Object(r.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(a){var r,i,o,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,O(!0),null===(r=c.current)||void 0===r||r.setErrors({}),i=re.c().shape({motivo_id:re.e().required("Motivo \xe9 obrigat\xf3rio"),tipo_solicitacao_id:re.e().required("Tipo de Solicita\xe7\xe3o \xe9 obrigat\xf3rio"),origem_id:re.e().required("Origem \xe9 obrigat\xf3rio")}),e.next=8,i.validate(a,{abortEarly:!1});case 8:return e.next=10,s(a,n);case 10:O(!1),l(),t(),d({type:"success",title:"Negocia\xe7\xe3o registrada para a ocorr\xeancia selecionada. Acesse 'Negocia\xe7\xf5es' para gerenciar"}),e.next=24;break;case 16:if(e.prev=16,e.t0=e.catch(2),!(e.t0 instanceof re.a)){e.next=22;break}return u=ce(e.t0),null===(o=c.current)||void 0===o||o.setErrors(u),e.abrupt("return");case 22:O(!1),d({type:"error",title:"N\xe3o Permitido",description:e.t0.response.data.message?e.t0.response.data.message:"Erro na solicita\xe7\xe3o"});case 24:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(n){return e.apply(this,arguments)}}(),[s,l,t,d,n]);return Object(a.jsx)(ma,{isOpen:o,setIsOpen:l,width:"912px",children:Object(a.jsxs)(uc,{ref:c,onSubmit:P,children:[Object(a.jsx)("h1",{children:"Registrar Negocia\xe7\xe3o"}),Object(a.jsx)(_a,{name:"motivo_id",options:g,menuPlacement:"auto",placeholder:"Motivo da Solicita\xe7\xe3o de Cancelamento"}),Object(a.jsxs)("div",{className:"control",children:[Object(a.jsx)(_a,{name:"tipo_solicitacao_id",options:C,menuPlacement:"auto",placeholder:"Tipo de Solicita\xe7\xe3o"}),Object(a.jsx)(_a,{name:"origem_id",options:R,menuPlacement:"auto",placeholder:"Origem"})]}),Object(a.jsxs)("button",{type:"submit","data-testid":"add-food-button",children:[Object(a.jsx)("p",{className:"text",children:"Registar Negocia\xe7\xe3o"}),Object(a.jsx)("div",{className:"icon",children:j?Object(a.jsx)(ye.a,{type:"Oval",color:"#FFF",height:24,width:24}):Object(a.jsx)(_.d,{size:25})})]})]})})},jc=t(125);function pc(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n\n  span.dropTitle {\n    width: 100%;\n    font-size: 14px;\n    padding-left: 10px;\n    color: #a3a3a3;\n    text-align: start;\n  }\n\n  a.btnDropAction {\n    text-decoration: none;\n    display: flex;\n    justify-content: start;\n    align-items: center;\n    font-size: 14px;\n    color: #3c3c3c;\n    padding: 12px 20px;\n    transition: background 0.2s ease 0s;\n    cursor: pointer;\n    background: transparent;\n    border: none;\n    width: 100%;\n\n    svg.drop {\n      width: 16;\n      height: 16;\n      margin-right: 10px;\n    }\n\n    &:hover {\n      background: #e5e5e5;\n    }\n  }\n\n  button.btnDropAction {\n    display: flex;\n    justify-content: start;\n    align-items: center;\n    font-size: 14px;\n    color: #3c3c3c;\n    padding: 12px 20px;\n    transition: background 0.2s ease 0s;\n    cursor: pointer;\n    background: transparent;\n    border: none;\n    width: 100%;\n\n    svg.drop {\n      width: 16;\n      height: 16;\n      margin-right: 10px;\n    }\n\n    &:hover {\n      background: #e5e5e5;\n    }\n  }\n\n  div.otherOptions {\n    padding: 10px 10px 0 10px;\n  }\n"]);return pc=function(){return e},e}var xc=d.c.div(pc()),fc=function(e){var n=e.occurrenceProps,t=e.limit,r=e.offset,c=e.firstPageRangeDisplayed,i=e.currentPage,o=e.statusFilterSelected,l=e.userRespFilterSelected,d=e.toggleModalConfirm,u=X().toggleModalNegotiationRegister;return Object(a.jsx)(yt,{children:Object(a.jsxs)(xc,{children:[Object(a.jsxs)(s.b,{className:"btnDropAction",to:{pathname:"/occurrences/details",state:{occurrenceId:n.id,limit:t,offset:r,firstPageRangeDisplayed:c,currentPage:i,statusFilterSelected:o,userRespFilterSelected:l}},children:[Object(a.jsx)(ia.b,{className:"drop info"}),"Detalhes"]}),Object(a.jsx)(jn,{roles:["ROLE_CONSULTOR"],children:1===Number(n.status_ocorrencia_id)&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("button",{disabled:!n.numeroprojeto,style:{cursor:n.numeroprojeto?"pointer":"not-allowed"},className:"btnDropAction",type:"button",onClick:u,children:[Object(a.jsx)(jc.a,{className:"drop"}),"Registrar Negocia\xe7\xe3o"]}),Object(a.jsxs)("button",{className:"btnDropAction",type:"button",onClick:d,children:[Object(a.jsx)(_.d,{className:"drop cancel"}),"Encerrar"]})]})})]})})},Oc={container:function(e){return Object(Z.a)(Object(Z.a)({},e),{},{minWidth:200,marginLeft:10})}},hc=function(){var e,n,t=L().addToast,c=Object(r.useRef)(null),i=Object(r.useRef)(null),o=Object(r.useRef)(null),s=Object(Q.h)(),l=Object(Q.g)(),d=Object(r.useRef)(null),u=Object(r.useState)(!1),b=Object(f.a)(u,2),j=b[0],p=b[1],x=Object(r.useState)([]),O=Object(f.a)(x,2),h=O[0],m=O[1],g=Object(r.useState)([]),y=Object(f.a)(g,2),k=y[0],C=y[1],_=Object(r.useState)([]),N=Object(f.a)(_,2),S=N[0],D=N[1],R=Object(r.useState)(!1),F=Object(f.a)(R,2),P=F[0],E=F[1],T=Object(r.useState)(0),z=Object(f.a)(T,2),M=z[0],I=z[1],q=Object(r.useState)(null),A=Object(f.a)(q,2),V=A[0],Y=A[1],U=Object(r.useState)(!0),B=Object(f.a)(U,2),$=B[0],J=B[1],W=Object(r.useState)(!1),G=Object(f.a)(W,2),X=G[0],K=G[1],ee=Object(r.useState)(!1),ne=Object(f.a)(ee,2),te=ne[0],ae=ne[1],ce=Object(r.useState)(""),ie=Object(f.a)(ce,2),oe=ie[0],se=ie[1],le=Object(r.useState)((function(){var e;return(null===(e=s.state)||void 0===e?void 0:e.limit)?s.state.limit:10})),de=Object(f.a)(le,2),ue=de[0],be=de[1],je=Object(r.useState)((function(){var e;return(null===(e=s.state)||void 0===e?void 0:e.offset)?s.state.offset:0})),pe=Object(f.a)(je,2),xe=pe[0],fe=pe[1],Oe=Object(r.useState)((function(){return new Date((new Date).getFullYear(),0,1)})),he=Object(f.a)(Oe,2),me=he[0],ge=he[1],ve=Object(r.useState)((function(){return new Date})),we=Object(f.a)(ve,2),ke=we[0],Ce=we[1],_e=Object(r.useState)((function(){var e;return(null===(e=s.state)||void 0===e?void 0:e.statusFilterSelected)?s.state.statusFilterSelected:[]})),Ne=Object(f.a)(_e,2),Se=Ne[0],De=Ne[1],Re=Object(r.useState)((function(){var e;if(null===(e=s.state)||void 0===e?void 0:e.userRespFilterSelected)return s.state.userRespFilterSelected})),Fe=Object(f.a)(Re,2),Pe=Fe[0],Ee=Fe[1],Te=Object(r.useCallback)((function(){var e,n,t,a;(null===(e=s.state)||void 0===e?void 0:e.currentPage)&&(null===(t=d.current)||void 0===t||t.handleSetCurrentPage(s.state.currentPage));(null===(n=s.state)||void 0===n?void 0:n.firstPageRangeDisplayed)&&(null===(a=d.current)||void 0===a||a.handleSetFirstPageRangeDisplayed(s.state.firstPageRangeDisplayed))}),[s.state]);Object(r.useEffect)((function(){var e=Se.map((function(e){return e.value})),n=e.join().length>0?e.join():0;v.get("/occurrences",{params:{offset:xe,limit:ue,startDate:Object(H.a)(me,"yyyy-MM-dd"),endDate:Object(H.a)(ke,"yyyy-MM-dd"),status:n,userResp:null===Pe||void 0===Pe?void 0:Pe.value}}).then((function(e){I(e.headers["x-total-count"]);var n=e.data.data.map((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{dateFormatted:Object(H.a)(Object(pt.a)(e.dtocorrencia),"dd-MM-yyyy")})}));D(n),J(!1),K(!1),Te()})).catch((function(e){J(!1),ae(!0),console.log(e.message)}))}),[ue,xe,me,ke,Se,null===Pe||void 0===Pe?void 0:Pe.value,P,Te]),Object(r.useEffect)((function(){Promise.all([v.get("/domain/status-occurrence"),v.get("/users")]).then((function(e){var n=Object(f.a)(e,2),t=n[0],a=n[1],r=t.data.data;m(r.map((function(e){return{value:e.id,label:e.nome}})));var c=a.data.data.filter((function(e){return e.roles&&e.roles.every((function(e){return"ROLE_CONSULTOR"===e.name}))})).map((function(e){return{value:e.ts_usuario_id,label:e.primeiro_nome}})).sort((function(e,n){return e.label.localeCompare(n.label)}));C([{value:"0",label:"Todos"}].concat(Object(w.a)(c)))})).catch((function(e){J(!1),ae(!0),console.log(e.message)}))}),[]);var ze=Object(r.useCallback)((function(){E(!P),window.scrollTo(0,0)}),[P]),Me=Object(r.useCallback)((function(e,n){J(!0),be(e),fe(n),s.state&&l.replace(s.pathname,null)}),[s,l]),Ie=Object(r.useCallback)((function(e){var n,t,a;e.preventDefault(),!(null===(n=c.current)||void 0===n?void 0:n.value)||(null===(t=c.current)||void 0===t?void 0:t.value.length)<3||v.get("/occurrences/search",{params:{param:null===(a=c.current)||void 0===a?void 0:a.value}}).then((function(e){var n=e.data.data.map((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{dateFormatted:Object(H.a)(Object(pt.a)(e.dtocorrencia),"dd-MM-yyyy")})}));D(n),J(!1),I(0)})).catch((function(e){J(!1),ae(!0),console.log(e.message)}))}),[]),qe=Object(r.useCallback)((function(e){0===e.target.value.length&&ze()}),[ze]),Ae=Object(r.useCallback)((function(e){v.put("/occurrences/".concat(e)).then((function(){ze()})).catch((function(e){t({type:"error",title:"N\xe3o Permitido",description:e.response.data.message?e.response.data.message:"Erro na solicita\xe7\xe3o"})}))}),[ze,t]),Ve=Object(r.useCallback)((function(){var e,n;se("");var t={startDate:null===(e=i.current)||void 0===e?void 0:e.selectedDate,endDate:null===(n=o.current)||void 0===n?void 0:n.selectedDate};re.c().shape({startDate:re.b().required("Data inicial n\xe3o pode ser vazia"),endDate:re.b().required("Data final n\xe3o pode ser vazia").min(re.d("startDate"),"Data final n\xe3o pode ser anterior a data inicial")}).validate(t,{abortEarly:!1}).then((function(e){ge(e.startDate),Ce(e.endDate),fe(0)})).catch((function(e){e.inner.forEach((function(e){"startDate"===e.path&&se(e.message),"endDate"===e.path&&se(e.message)}))}))}),[]),Le=Object(r.useCallback)((function(e){var n,t;J(!0),De(e),fe(0),null===(n=d.current)||void 0===n||n.handleSetCurrentPage(1),null===(t=d.current)||void 0===t||t.handleSetFirstPageRangeDisplayed(0),s.state&&l.replace(s.pathname,null)}),[s,l]),Ye=Object(r.useCallback)((function(e){var n,t;J(!0),Ee(e),fe(0),null===(n=d.current)||void 0===n||n.handleSetCurrentPage(1),null===(t=d.current)||void 0===t||t.handleSetFirstPageRangeDisplayed(0),s.state&&l.replace(s.pathname,null)}),[s,l]),Ue=Object(r.useCallback)((function(){p(!j)}),[j]),Be=Object(r.useCallback)((function(){Ue(),V&&Ae(null===V||void 0===V?void 0:V.id)}),[Ue,Ae,V]),$e=Object(r.useCallback)((function(){J(!0),K(!0),ze()}),[ze]);return Object(a.jsxs)(cn,{children:[Object(a.jsx)(On,{}),V&&Object(a.jsx)(bc,{occurrence_id:null===V||void 0===V?void 0:V.id,refreshPage:ze}),Object(a.jsx)(Ea,{title:"Encerrar sem negocia\xe7\xe3o?",message:"A Ocorr\xeancia ser\xe1 encerrada sem negocia\xe7\xe3o. Confirma o encerramento?",confirmYes:"Confirmar",confirmNo:"Cancelar",isOpen:j,setIsOpen:Ue,handleConfirmYes:Be}),Object(a.jsxs)(sn,{children:[Object(a.jsx)(Dn,{children:Object(a.jsx)("form",{onSubmit:Ie,children:Object(a.jsx)("input",{ref:c,type:"text",className:"search-bar",placeholder:"Pesquise por Ocorr\xeancia, Cliente ou Contrato",title:"Tecle enter para pesquisar...",onChange:qe})})}),Object(a.jsxs)(oc,{children:[Object(a.jsxs)(on,{children:[Object(a.jsx)("h1",{children:"Ocorr\xeancias"}),Object(a.jsxs)("button",{className:"refreshPage",type:"button",onClick:$e,children:[X?Object(a.jsx)(ye.a,{type:"Oval",color:"#003379",height:20,width:20}):Object(a.jsx)(jt.b,{size:20}),"Atualizar"]})]}),Object(a.jsxs)(sc,{children:[Object(a.jsxs)("div",{className:"dateFilter",children:[Object(a.jsx)("span",{children:"Data da ocorr\xeancia:"}),Object(a.jsxs)("div",{className:"inputDates",children:[Object(a.jsx)(ba,{ref:i,name:"start_date",label:"In\xedcio:",defaultDate:me}),Object(a.jsx)(ba,{ref:o,name:"end_date",label:"Fim:",defaultDate:ke}),Object(a.jsxs)("button",{className:"dateFilterRange",type:"button",onClick:Ve,title:"Filtrar",children:[Object(a.jsx)(bn.o,{}),"Filtrar"]})]}),oe&&Object(a.jsx)("span",{className:"invalidDate",children:oe})]}),Object(a.jsxs)("div",{className:"typesFilters",children:[Object(a.jsx)(jn,{roles:["ROLE_ADMIN","ROLE_GERENTE","ROLE_COORDENADOR"],children:Object(a.jsx)(Ke.a,{onChange:Ye,options:k,placeholder:"Usu\xe1rio Respons\xe1vel",defaultValue:(null===(e=s.state)||void 0===e?void 0:e.userRespFilterSelected)?s.state.userRespFilterSelected:void 0,styles:Oc})}),Object(a.jsx)(Ke.a,{onChange:Le,isMulti:!0,options:h,placeholder:"Status Ocorr\xeancia",defaultValue:(null===(n=s.state)||void 0===n?void 0:n.statusFilterSelected)?s.state.statusFilterSelected:void 0,styles:Oc})]})]}),$?Object(a.jsx)(Wt,{}):Object(a.jsxs)(lc,{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Data da Ocorr\xeancia"}),Object(a.jsx)("th",{children:"N\xfamero"}),Object(a.jsx)("th",{children:"Respons\xe1vel"}),Object(a.jsx)("th",{children:"Cliente"}),Object(a.jsx)("th",{children:"Projeto-Contrato"}),Object(a.jsx)("th",{children:"Status"}),Object(a.jsx)("th",{})]})}),Object(a.jsx)("tbody",{children:S.map((function(e){var n,t;return Object(a.jsxs)("tr",{onClick:function(){return Y(e)},children:[Object(a.jsx)("td",{children:e.dateFormatted}),Object(a.jsx)("td",{children:e.numero_ocorrencia}),Object(a.jsx)("td",{children:e.nomeusuario_resp}),Object(a.jsx)("td",{children:e.nome_cliente}),Object(a.jsx)("td",{children:e.numeroprojeto?"".concat(e.numeroprojeto,"-").concat(e.numerocontrato):Object(a.jsxs)("div",{className:"occurrenceInfo",children:[Object(a.jsx)("p",{children:"N\xe3o vinculada"}),Object(a.jsx)("span",{"data-tip":!0,"data-for":"occurrenceInfo",children:Object(a.jsx)(bn.q,{})}),Object(a.jsx)(xt.a,{id:"occurrenceInfo",type:"error",effect:"solid",delayShow:1e3,children:Object(a.jsx)("span",{children:"Ocorr\xeancia n\xe3o foi vinculada a um contrato. Verifique no Timesharing."})})]})}),Object(a.jsx)("td",{className:1===Number(e.status_ocorrencia.id)?"occurrence-opened":"",children:e.status_ocorrencia.nome}),Object(a.jsx)("td",{children:Object(a.jsx)(fc,{occurrenceProps:{id:e.id,status_ocorrencia_id:e.status_ocorrencia.id,numeroprojeto:e.numeroprojeto},limit:ue,offset:xe,firstPageRangeDisplayed:null===(n=d.current)||void 0===n?void 0:n.firstPageRangeDisplayed,currentPage:null===(t=d.current)||void 0===t?void 0:t.currentPage,statusFilterSelected:Se,userRespFilterSelected:Pe,toggleModalConfirm:Ue})})]},e.id)}))})]}),M>0&&Object(a.jsx)(At,{ref:d,count:M,limit:ue,pageRangeDisplayed:5,onChange:Me}),te&&Object(a.jsx)(Dt,{})]})]})]})},mc=t(254);function gc(){var e=Object(l.a)(["\n          top: 15px;\n        "]);return gc=function(){return e},e}function vc(){var e=Object(l.a)(["\n          bottom: 15px;\n        "]);return vc=function(){return e},e}function yc(){var e=Object(l.a)(["\n  position: absolute;\n  display: flex;\n  right: 0;\n  padding: 10px;\n  width: 285px;\n  background: #fff;\n  border: 1px solid #f0f0f0;\n  border-radius: 5px;\n  overflow: auto;\n  max-height: 250px;\n  transition: opacity 0.2s ease 0s, visibility 0.2s ease 0s;\n  opacity: 1;\n  z-index: 1;\n\n  font-size: 14px;\n\n  border: 2px solid #f0f0f0;\n  box-shadow: 4px 0px 4px rgba(0, 0, 0, 0.25);\n\n  /* ","; */\n\n  ::-webkit-scrollbar {\n    width: 10px;\n  }\n\n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    background: #f2f5f8;\n    border-radius: 10px;\n  }\n\n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    background: #a3a3a3;\n  }\n"]);return yc=function(){return e},e}function wc(){var e=Object(l.a)(["\n  position: absolute;\n  right: 20px;\n\n  button.atendDetails {\n    background: transparent;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border: 0;\n  }\n"]);return wc=function(){return e},e}function kc(){var e=Object(l.a)(["\n  position: relative;\n  display: flex;\n  justify-content: start;\n  padding: 10px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.25);\n  width: 100%;\n  /* width: 340px; */\n\n  &:hover {\n    background: #f5f5f5;\n  }\n\n  header {\n    margin-right: 10px;\n\n    img {\n      width: 40px;\n      height: 40px;\n      border-radius: 50%;\n    }\n  }\n\n  aside {\n    line-height: 25px;\n    display: flex;\n    flex-direction: column;\n\n    h5 {\n      padding-right: 10px;\n    }\n\n    p {\n      font-size: 14px;\n    }\n  }\n"]);return kc=function(){return e},e}function Cc(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n  height: 550px;\n  /* padding-right: 5px; */\n\n  ::-webkit-scrollbar {\n    width: 10px;\n  }\n\n  /* Track */\n  /* ::-webkit-scrollbar-track {\n    box-shadow: inset 0 0 5px grey;\n    border-radius: 10px;\n  } */\n\n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    background: #f2f5f8;\n    border-radius: 10px;\n  }\n\n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    background: #a3a3a3;\n  }\n"]);return Cc=function(){return e},e}function _c(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  font-size: 14px;\n"]);return _c=function(){return e},e}function Nc(){var e=Object(l.a)(["\n  flex: 1;\n  padding: 24px;\n  width: 100%;\n  /* max-width: 400px; */\n\n  header {\n    height: 45px;\n  }\n\n  hr {\n    border: 1px solid #f0f0f0;\n    margin: 0 -24px 0 -24px;\n    margin-bottom: 30px;\n  }\n"]);return Nc=function(){return e},e}function Sc(){var e=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  padding: 8px 0;\n  margin-bottom: 20px;\n\n  strong {\n    margin-right: 5px;\n    color: #3c3c3c;\n  }\n"]);return Sc=function(){return e},e}function Dc(){var e=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  padding: 20px 0;\n\n  strong {\n    margin-right: 5px;\n    color: #3c3c3c;\n  }\n\n  button {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 16px;\n    color: #3c3c3c;\n    padding: 12px 20px;\n    transition: background 0.2s ease 0s;\n    cursor: pointer;\n    background: transparent;\n    border: none;\n    border-radius: 5px;\n\n    svg {\n      width: 16;\n      height: 16;\n      margin-right: 10px;\n    }\n\n    &:hover {\n      background: #e5e5e5;\n    }\n  }\n\n  button.register {\n    border: 1px solid #006100;\n    color: #006100;\n    margin-right: 10px;\n  }\n\n  button.close {\n    border: 1px solid #9c0006;\n    color: #9c0006;\n  }\n"]);return Dc=function(){return e},e}function Rc(){var e=Object(l.a)(["\n  flex: 1;\n  padding: 24px;\n  background: #f2f5f8;\n\n  header {\n    position: relative;\n    min-height: 90px;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    margin-bottom: 20px;\n\n    div.linkBackPage {\n      a {\n        display: flex;\n        align-items: center;\n        color: #003379;\n\n        text-decoration: none;\n        font-weight: bold;\n        transition: color 0.2s;\n\n        svg {\n          margin-right: 5px;\n        }\n\n        span {\n          margin-top: 2px;\n        }\n\n        &:hover {\n          color: ",";\n        }\n      }\n    }\n\n    div.statusOccurrence {\n      position: absolute;\n      right: 0;\n\n      span {\n        margin-left: 10px;\n      }\n\n      span.occurrence-opened {\n        color: #9c0006;\n        font-weight: bold;\n      }\n    }\n\n    p.ocorrenciaInfo {\n      color: #be6464;\n    }\n  }\n"]);return Rc=function(){return e},e}function Fc(){var e=Object(l.a)(["\n  display: flex;\n  flex-wrap: wrap;\n"]);return Fc=function(){return e},e}function Pc(){var e=Object(l.a)(["\n  border: 1px solid #f0f0f0;\n  box-shadow: 4px 0px 4px rgba(0, 0, 0, 0.25);\n  border-radius: 10px;\n"]);return Pc=function(){return e},e}function Ec(){var e=Object(l.a)(["\n  height: 100%;\n  width: 100%;\n  max-width: 1120px;\n  padding: 20px;\n  color: #3c3c3c;\n"]);return Ec=function(){return e},e}var Tc=d.c.div(Ec()),zc=d.c.div(Pc()),Mc=d.c.div(Fc()),Ic=d.c.section(Rc(),Object(we.a)(.2,"#003379")),qc=d.c.div(Dc()),Ac=(d.c.div(Sc()),d.c.section(Nc())),Vc=d.c.div(_c()),Lc=d.c.div(Cc()),Yc=d.c.div(kc()),Uc=d.c.div(wc()),Bc=d.c.div(yc(),(function(e){return e.position&&e.position>500?Object(d.b)(vc()):Object(d.b)(gc())})),$c=t.p+"static/media/money-talk.fb38b80b.svg",Hc=t.p+"static/media/whatsapp.d5a0c6c6.svg",Jc=t.p+"static/media/info.3832bd2f.svg",Wc=t.p+"static/media/price-tag.78df34be.svg",Gc={182:$c,360:$c,78:Jc,99:Jc,740:Jc,981:Jc,93:Wc,536:Wc,564:Hc,195:t.p+"static/media/warning.0d14f5ed.svg",outros:t.p+"static/media/speak.baacefc6.svg"},Xc={C:"Canceldo",F:"Finalizado",P:"Pendente"},Kc=function(){var e,n,t,c,i,o,l,d,u,b,j,O,h,m,g=X().toggleModalNegotiationRegister,w=Object(Q.g)(),k=Object(Q.h)(),C=Object(r.useRef)(null),N=Object(r.useState)(!0),S=Object(f.a)(N,2),D=S[0],R=S[1],F=Object(r.useState)(!1),P=Object(f.a)(F,2),E=P[0],T=P[1],z=Object(r.useState)(0),M=Object(f.a)(z,2),I=M[0],q=M[1],A=Object(r.useState)(),V=Object(f.a)(A,2),L=V[0],Y=V[1],U=Object(r.useState)(null),B=Object(f.a)(U,2),$=B[0],J=B[1],W=Object(r.useState)([]),G=Object(f.a)(W,2),K=G[0],ee=G[1],ne=mn(!1),te=ne.visible,ae=ne.setVisible,re=ne.ref,ce=Object(r.useState)(""),ie=Object(f.a)(ce,2),oe=ie[0],se=ie[1],le=Object(r.useState)(0),de=Object(f.a)(le,2),ue=de[0],be=de[1],je=Object(r.useState)(!1),pe=Object(f.a)(je,2),xe=pe[0],fe=pe[1],Oe=Object(r.useState)(!1),he=Object(f.a)(Oe,2),me=he[0],ge=he[1];Object(r.useEffect)((function(){var e,n;(null===(e=k.state)||void 0===e?void 0:e.occurrenceId)||w.push("/"),v.get("occurrences/".concat(null===(n=k.state)||void 0===n?void 0:n.occurrenceId)).then((function(e){var n=e.data.data,t=Object(Z.a)(Object(Z.a)({},n),{},{dateFormatted:Object(H.a)(Object(pt.a)(n.dtocorrencia),"dd-MM-yyyy HH:mm:ss"),valorVendaFormatted:Pn(n.valor_venda)});Y(t),J(t.idpessoa_cliente)})).catch((function(e){R(!1),T(!0),e.response&&q(e.response.status)}))}),[w,null===(e=k.state)||void 0===e?void 0:e.occurrenceId,xe]),Object(r.useEffect)((function(){$&&y.get("/after-sales-customer-services/".concat($)).then((function(e){var n=e.data.data.map((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{dateFormatted:Object(H.a)(Object(pt.a)(e.dataobservacao),"dd-MM-yyyy")})}));ee(n),R(!1)})).catch((function(e){R(!1),T(!0),e.response&&q(e.response.status)}))}),[$]);var ve=Object(r.useCallback)((function(e){C.current&&(be(C.current.getBoundingClientRect().top),console.log(C.current.getBoundingClientRect().top)),se(e),ae((function(e){return!e}))}),[se,ae]),ye=Object(r.useCallback)((function(){fe(!xe)}),[xe]),we=Object(r.useCallback)((function(){ge(!me)}),[me]),ke=Object(r.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,v.put("/occurrences/".concat(n));case 4:ye();case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[ye]),Ce=Object(r.useCallback)((function(){we(),ke(k.state.occurrenceId)}),[we,ke,k]);return Object(a.jsxs)(cn,{children:[Object(a.jsx)(On,{}),Object(a.jsx)(bc,{occurrence_id:null===(n=k.state)||void 0===n?void 0:n.occurrenceId,refreshPage:ye}),Object(a.jsx)(Ea,{title:"Encerrar sem negocia\xe7\xe3o?",message:"A Ocorr\xeancia ser\xe1 encerrada sem negocia\xe7\xe3o. Confirma o encerramento?",confirmYes:"Confirmar",confirmNo:"Cancelar",isOpen:me,setIsOpen:we,handleConfirmYes:Ce}),Object(a.jsxs)(sn,{children:[Object(a.jsx)(Dn,{}),Object(a.jsxs)(Tc,{children:[Object(a.jsx)(on,{children:Object(a.jsxs)(Cr,{children:[Object(a.jsx)(_r,{link:"/occurrences",label:"Ocorr\xeancias"}),Object(a.jsx)(_r,{label:"Detalhes"})]})}),E&&!L&&Object(a.jsx)(Dt,{errorCode:I}),L&&Object(a.jsx)(zc,{children:Object(a.jsxs)(Mc,{children:[Object(a.jsxs)(Ic,{children:[Object(a.jsxs)("header",{children:[Object(a.jsx)("div",{className:"linkBackPage",children:Object(a.jsxs)(s.b,{to:{pathname:"/occurrences",state:{limit:(null===(t=k.state)||void 0===t?void 0:t.limit)?null===(c=k.state)||void 0===c?void 0:c.limit:10,offset:(null===(i=k.state)||void 0===i?void 0:i.offset)?null===(o=k.state)||void 0===o?void 0:o.offset:0,firstPageRangeDisplayed:(null===(l=k.state)||void 0===l?void 0:l.firstPageRangeDisplayed)?null===(d=k.state)||void 0===d?void 0:d.firstPageRangeDisplayed:0,currentPage:(null===(u=k.state)||void 0===u?void 0:u.currentPage)?null===(b=k.state)||void 0===b?void 0:b.currentPage:1,statusFilterSelected:(null===(j=k.state)||void 0===j?void 0:j.statusFilterSelected)?null===(O=k.state)||void 0===O?void 0:O.statusFilterSelected:[],userRespFilterSelected:(null===(h=k.state)||void 0===h?void 0:h.userRespFilterSelected)?null===(m=k.state)||void 0===m?void 0:m.userRespFilterSelected:void 0}},children:[Object(a.jsx)(Dr.a,{size:25}),Object(a.jsx)("span",{children:"Voltar"})]})}),Object(a.jsxs)("div",{className:"statusOccurrence",children:["Status Ocorr\xeancia:",Object(a.jsx)("span",{className:1===Number(L.status_ocorrencia.id)?"occurrence-opened":"",children:L.status_ocorrencia.nome})]}),1===Number(L.status_ocorrencia.id)&&L.numeroprojeto&&Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(qc,{children:[Object(a.jsxs)("button",{className:"register",type:"button",onClick:g,children:[Object(a.jsx)(jc.a,{}),"Registrar Negocia\xe7\xe3o"]}),Object(a.jsxs)("button",{className:"close",type:"button",onClick:we,children:[Object(a.jsx)(_.d,{}),"Encerrar"]})]})}),!L.numeroprojeto&&Object(a.jsx)("p",{className:"ocorrenciaInfo",children:"Essa ocorr\xeancia n\xe3o foi vinculada \xe0 nenhum contrato. Verifique no Timesharing."})]}),Object(a.jsxs)(ln,{children:[Object(a.jsx)(dn,{children:Object(a.jsx)("h3",{children:"Contrato"})}),Object(a.jsxs)(un,{children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Cliente:"}),Object(a.jsx)("div",{children:L.nome_cliente})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Contrato:"}),Object(a.jsx)("div",{children:L.numeroprojeto?"".concat(L.numeroprojeto,"-").concat(L.numerocontrato):"N\xe3o Vinculada"})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Valor de Venda:"}),Object(a.jsx)("div",{children:L.numeroprojeto?L.valorVendaFormatted:"Sem valor de contrato"})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Produto:"}),Object(a.jsx)("div",{children:L.produto?L.produto.nomeprojeto:"Sem produto"})]})]})]}),Object(a.jsxs)(ln,{children:[Object(a.jsx)(dn,{children:Object(a.jsx)("h3",{children:"Ocorrencia"})}),Object(a.jsxs)(un,{children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"N\xfamero:"}),Object(a.jsx)("div",{children:L.numero_ocorrencia})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Data:"}),Object(a.jsx)("div",{children:L.dateFormatted})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Status Timesharing:"}),Object(a.jsx)("div",{children:Xc[L.status]})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Motivo:"}),Object(a.jsx)("div",{children:L.motivo})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Respons\xe1vel:"}),Object(a.jsx)("div",{children:L.nomeusuario_resp})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Usu\xe1rio Cadastro:"}),Object(a.jsx)("div",{children:L.nomeusuario_cadastro})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Departamento:"}),Object(a.jsx)("div",{children:L.departamento})]})]})]})]}),Object(a.jsxs)(Ac,{children:[Object(a.jsx)("header",{children:Object(a.jsx)("h3",{children:"Atendimentos"})}),Object(a.jsx)("hr",{}),Object(a.jsxs)(Lc,{ref:re,children:[D&&L.numeroprojeto&&Object(a.jsxs)(Vc,{children:[Object(a.jsx)(Wt,{}),Object(a.jsx)("h3",{children:"Carregando atendimentos do timesharing..."})]}),E&&Object(a.jsx)(Vc,{children:Object(a.jsx)(Dt,{errorCode:I})}),K.map((function(e){return Object(a.jsxs)(Yc,{children:[Object(a.jsxs)(Uc,{children:[Object(a.jsx)("button",{ref:C,className:"atendDetails",type:"button",title:"Detalhes",onClick:function(){return ve(e.protocolo)},children:Object(a.jsx)(mc.a,{size:28})}),te&&oe===e.protocolo&&Object(a.jsx)(Bc,{position:ue,children:e.observacao})]}),Object(a.jsx)("header",{children:Object(a.jsx)("img",{src:Gc[e.idmotivots]?Gc[e.idmotivots]:Gc.outros,alt:"icon-atend-logo"})}),Object(a.jsxs)("aside",{children:[Object(a.jsx)("h5",{children:e.descricao}),Object(a.jsx)("p",{children:e.nomeusuario}),Object(a.jsx)("small",{children:e.dateFormatted})]})]},e.protocolo)}))]})]})]})})]})]})]})},Qc=function(e){var n=e.negotiationProps,t=e.situacaoOptions,r=e.limit,c=e.offset,i=e.firstPageRangeDisplayed,o=e.currentPage,l=e.situationFilter,d=e.requestTypeFilter,u=e.userRespFilterSelected,b=X(),j=b.toggleModalRetentionContract,p=b.toggleModalDowngradeContract,x=b.toggleModalCancelContract,f=b.toggleModalOutrosSelected;return Object(a.jsx)(yt,{icon:Object(a.jsx)(bn.v,{size:18}),iconLabel:"Gerenciar",children:Object(a.jsxs)(kt,{children:[Object(a.jsxs)(s.b,{className:"btnDropAction",to:{pathname:"/negotiations/details",state:{negotiationId:n.id,limit:r,offset:c,firstPageRangeDisplayed:i,currentPage:o,situationFilter:l,requestTypeFilter:d,userRespFilterSelected:u}},children:[Object(a.jsx)(bn.q,{className:"drop info"}),"Detalhes"]}),1===Number(n.situation_id)&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{className:"dropTitle",children:"Finalizar Como:"}),Object(a.jsxs)("button",{className:"btnDropAction",type:"button",onClick:j,children:[Object(a.jsx)(bn.j,{className:"drop"}),"Reten\xe7\xe3o"]}),Object(a.jsxs)("button",{className:"btnDropAction",type:"button",onClick:p,children:[Object(a.jsx)(bn.n,{className:"drop rev"}),"Revers\xe3o"]}),Object(a.jsxs)("button",{className:"btnDropAction",type:"button",onClick:x,children:[Object(a.jsx)(bn.x,{className:"drop cancel"}),"Cancelamento"]}),Object(a.jsx)("span",{className:"dropTitle",children:"Outros:"}),Object(a.jsx)("div",{className:"otherOptions",children:Object(a.jsx)(Ke.a,{options:t,menuPlacement:"auto",placeholder:"Situa\xe7\xe3o",onChange:f})})]})]})})};function Zc(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n\n  h1 {\n    font-weight: 600;\n    font-size: 30px;\n    line-height: 30px;\n    margin-bottom: 40px;\n  }\n\n  div {\n    margin-top: 0px;\n  }\n\n  div.control {\n    display: flex;\n  }\n\n  div.control > div {\n    /* width: 250px; */\n    :not(:last-child) {\n      margin-right: 20px;\n    }\n  }\n\n  div.row {\n    display: flex;\n  }\n\n  div.row div {\n    /* width: 250px; */\n    :not(:last-child) {\n      margin-right: 20px;\n    }\n  }\n\n  button {\n    margin-top: 30px;\n    align-self: flex-end;\n  }\n\n  button {\n    font-weight: 600;\n    border-radius: 8px;\n    border: 0;\n    background: #02c697;\n    color: #fff;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    .text {\n      padding: 16px 24px;\n    }\n\n    .icon {\n      display: flex;\n      padding: 16px 16px;\n      background: #02c697;\n      border-radius: 0 8px 8px 0;\n      margin: 0 auto;\n    }\n  }\n\n  .logoErrorInput {\n    margin-left: 5px;\n  }\n"]);return Zc=function(){return e},e}function ei(){var e=Object(l.a)(["\n  padding: 30px;\n  min-height: 500px;\n"]);return ei=function(){return e},e}var ni=d.c.div(ei()),ti=Object(d.c)(ae.a)(Zc());function ai(){var e=Object(l.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 100px;\n  height: 100%;\n  padding: 0 10px;\n\n  &::after {\n    content: '';\n    position: absolute;\n    width: 100%;\n    height: 0.175rem;\n    right: 0;\n    bottom: -2px;\n    transition: all 0.3s ease-in-out;\n  }\n\n  &.active-tab::after {\n    background: #ff365f;\n  }\n\n  button {\n    width: 100%;\n    height: 100%;\n    background: transparent;\n    border: 0;\n  }\n"]);return ai=function(){return e},e}var ri=d.c.div(ai()),ci=function(e){var n=e.active,t=e.title,c=e.index,i=e.toggleTabIndex,o=Object(r.useCallback)((function(){i(c)}),[i,c]);return Object(a.jsx)(ri,{className:n?"tab-item active-tab":"tab-item",children:Object(a.jsx)("button",{type:"button",onClick:o,children:t})})};function ii(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n\n  div.tabs {\n    display: flex;\n    align-items: center;\n    justify-content: start;\n    margin-bottom: 30px;\n    border-bottom: 2px solid #a3a3a3;\n    height: 50px;\n  }\n\n  /* div.content {\n    background: white;\n    padding: 20px;\n    width: 100%;\n    height: 100%;\n  } */\n\n  /* div.tab-content {\n    display: none;\n  } */\n"]);return ii=function(){return e},e}var oi=d.c.div(ii()),si=function(e){var n=e.children,t=e.onChangeTab,c=Object(r.useState)(0),i=Object(f.a)(c,2),o=i[0],s=i[1],l=Object(r.useCallback)((function(e){s(e)}),[]);return Object(r.useEffect)((function(){"function"===typeof t&&t()}),[t]),Object(a.jsxs)(oi,{children:[Object(a.jsx)("div",{className:"tabs",children:n.map((function(e,n){return Object(a.jsx)(ci,{active:o===n,title:e.props.title,index:n,toggleTabIndex:l},Object(k.a)())}))}),Object(a.jsx)("div",{className:"tab-content",children:n[o]})]})};function li(){var e=Object(l.a)([""]);return li=function(){return e},e}var di=d.c.div(li()),ui=function(e){var n=e.children;return Object(a.jsx)(di,{className:"content",children:n})},bi=function(e){var n=e.negotiation,t=e.tipoContatoOptions,c=e.refreshPage,i=Object(r.useRef)(null),o=X(),s=o.retentionContract,l=o.showModalRetentionContract,d=o.toggleModalRetentionContract,u=L().addToast,b=Object(r.useState)(!1),j=Object(f.a)(b,2),O=j[0],h=j[1],m=Object(r.useState)(!1),g=Object(f.a)(m,2),v=g[0],y=g[1],w=Object(r.useCallback)((function(){y(!v)}),[v]),k=Object(r.useCallback)(Object(x.a)(p.a.mark((function e(){var t,a,r,c,o,s,l,d,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=null===(t=i.current)||void 0===t?void 0:t.getData(),null===(a=i.current)||void 0===a||a.setErrors({}),c=re.c().shape({valor_financiado:re.e().required("Valor financiado obrigat\xf3rio"),tipo_contato_id:re.e().required("Tipo de contato \xe9 obrigat\xf3rio")}),e.next=6,c.validate(r,{abortEarly:!1});case 6:if(!(En(null===r||void 0===r?void 0:r.valor_financiado.toString())<Number(n.valor_venda))){e.next=10;break}return null===(o=i.current)||void 0===o||o.setErrors({valor_financiado:"Valor financiado n\xe3o pode ser menor que o valor do contrato: ".concat(n.valor_venda_formatted)}),e.abrupt("return");case 10:if(!((s=En(null===r||void 0===r?void 0:r.valor_primeira_parcela.toString()))>0)){e.next=15;break}if(!(s>Number(n.valor_venda))){e.next=15;break}return null===(l=i.current)||void 0===l||l.setErrors({valor_primeira_parcela:"1\xaa parcela n\xe3o pode ser maior que o valor do contrato: ".concat(n.valor_venda_formatted)}),e.abrupt("return");case 15:h(!O),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),e.t0 instanceof re.a&&(u=ce(e.t0),null===(d=i.current)||void 0===d||d.setErrors(u));case 21:case"end":return e.stop()}}),e,null,[[0,18]])}))),[O,n]),C=Object(r.useCallback)((function(){var e;k(),y(!0),null===(e=i.current)||void 0===e||e.submitForm()}),[k]),N=Object(r.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(t,n.id);case 3:y(!1),d(),c(),u({type:"success",title:"Negocia\xe7\xe3o Finalizada!",description:"Reten\xe7\xe3o de contrato"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),y(!1),u({type:"error",title:"N\xe3o Permitido",description:e.t0.response.data.message?e.t0.response.data.message:"Erro na solicita\xe7\xe3o"});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}(),[s,c,d,u,n.id]);return Object(a.jsxs)(ma,{isOpen:l,setIsOpen:d,width:"912px",children:[Object(a.jsx)(Ea,{title:"Reten\xe7\xe3o de Contrato",message:"Confirma RETEN\xc7\xc3O do contrato ".concat(n.numeroprojeto,"-").concat(n.numerocontrato,"?"),confirmYes:"Confirmar",confirmNo:"Cancelar",isOpen:O,setIsOpen:k,handleConfirmYes:C,buttonType:{theme:{confirmYes:"success"}}}),Object(a.jsx)(Ma,{isOpen:v,setIsOpen:w}),Object(a.jsxs)(ni,{children:[Object(a.jsx)("h1",{children:"Finaliza\xe7\xe3o de Negocia\xe7\xe3o | Reten\xe7\xe3o Contrato"}),Object(a.jsxs)(si,{children:[Object(a.jsx)(ui,{title:"Dados",children:Object(a.jsxs)(ti,{ref:i,onSubmit:N,children:[Object(a.jsx)("div",{className:"control",children:Object(a.jsx)(_a,{name:"tipo_contato_id",options:t,menuPlacement:"auto",placeholder:"Tipo de Contato"})}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)(ge,{name:"valor_financiado",placeholder:"Valor Financiado",mask:"currency",defaultValue:n.valor_venda_formatted}),Object(a.jsx)(ge,{name:"valor_primeira_parcela",placeholder:"Valor 1\xaa Parcela",mask:"currency"})]}),Object(a.jsxs)("button",{type:"button","data-testid":"add-food-button",onClick:k,children:[Object(a.jsx)("p",{className:"text",children:"Finalizar Reten\xe7\xe3o"}),Object(a.jsx)("div",{className:"icon",children:Object(a.jsx)(_.d,{size:24})})]})]})}),Object(a.jsx)(ui,{title:"Contrato",children:Object(a.jsxs)(ln,{children:[Object(a.jsx)(dn,{children:Object(a.jsx)("h3",{children:"Contrato"})}),Object(a.jsxs)(un,{children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Cliente:"}),Object(a.jsx)("div",{children:n.nome_cliente})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Contrato:"}),Object(a.jsx)("div",{children:"".concat(n.numeroprojeto,"-").concat(n.numerocontrato)})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Valor de Venda:"}),Object(a.jsx)("div",{children:n.valor_venda_formatted})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Produto:"}),Object(a.jsx)("div",{children:n.produto})]})]})]})})]})]})]})};function ji(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n\n  h1 {\n    font-weight: 600;\n    font-size: 30px;\n    line-height: 30px;\n    margin-bottom: 40px;\n  }\n\n  div {\n    margin-top: 0px;\n  }\n\n  div.control {\n    display: flex;\n  }\n\n  div.control > div {\n    /* width: 250px; */\n    :not(:last-child) {\n      margin-right: 20px;\n    }\n  }\n\n  div.row {\n    display: flex;\n    margin-bottom: 18px;\n  }\n\n  div.row div {\n    /* width: 250px; */\n    :not(:last-child) {\n      margin-right: 20px;\n    }\n  }\n\n  button {\n    margin-top: 18px;\n    align-self: flex-end;\n  }\n\n  button {\n    font-weight: 600;\n    border-radius: 8px;\n    border: 0;\n    background: #02c697;\n    color: #fff;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    .text {\n      padding: 16px 24px;\n    }\n\n    .icon {\n      display: flex;\n      padding: 16px 16px;\n      background: #02c697;\n      border-radius: 0 8px 8px 0;\n      margin: 0 auto;\n    }\n  }\n\n  .logoErrorInput {\n    margin-left: 5px;\n  }\n"]);return ji=function(){return e},e}function pi(){var e=Object(l.a)(["\n  padding: 30px;\n  min-height: 600px;\n"]);return pi=function(){return e},e}var xi=d.c.div(pi()),fi=Object(d.c)(ae.a)(ji()),Oi=function(e){var n=e.negotiation,t=e.tipoContatoOptions,c=e.produtoOptions,i=e.refreshPage,o=Object(r.useRef)(null),s=X(),l=s.downgradeContract,d=s.showModalDowngradeContract,u=s.toggleModalDowngradeContract,b=L().addToast,j=Object(r.useState)(!1),O=Object(f.a)(j,2),h=O[0],m=O[1],g=Object(r.useState)(!1),v=Object(f.a)(g,2),y=v[0],w=v[1],k=Object(r.useCallback)((function(){w(!y)}),[y]),C=Object(r.useCallback)(Object(x.a)(p.a.mark((function e(){var t,a,r,c,i,s,l,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=null===(t=o.current)||void 0===t?void 0:t.getData(),null===(a=o.current)||void 0===a||a.setErrors({}),c=re.c().shape({tipo_contato_id:re.e().required("Tipo de contato \xe9 obrigat\xf3rio"),produto_id:re.e().required("Produto \xe9 obrigat\xf3rio"),numerocontrato:re.e().required("N\xfamero Contrato \xe9 obrigat\xf3rio"),valor_venda:re.e().required("Valor de venda obrigat\xf3rio"),numero_pc:re.e().when("reembolso",{is:function(e){return e&&e.length>0},then:re.e().required("N\xfamero do PC \xe9 obrigat\xf3rio quando h\xe1 reembolso"),otherwise:re.e()})}),e.next=6,c.validate(r,{abortEarly:!1});case 6:if(!((i=En(null===r||void 0===r?void 0:r.valor_primeira_parcela.toString()))>0)){e.next=11;break}if(!(i>Number(n.valor_venda))){e.next=11;break}return null===(s=o.current)||void 0===s||s.setErrors({valor_primeira_parcela:"1\xaa parcela n\xe3o pode ser maior que o valor do contrato: ".concat(n.valor_venda_formatted)}),e.abrupt("return");case 11:m(!h),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),e.t0 instanceof re.a&&(d=ce(e.t0),null===(l=o.current)||void 0===l||l.setErrors(d));case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),[h,n.valor_venda,n.valor_venda_formatted]),N=Object(r.useCallback)((function(){var e;C(),w(!0),null===(e=o.current)||void 0===e||e.submitForm()}),[C]),S=Object(r.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(t,n.id);case 3:w(!1),u(),i(),b({type:"success",title:"Negocia\xe7\xe3o Finalizada!",description:"Revers\xe3o de Contrato"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),w(!1),b({type:"error",title:"N\xe3o Permitido",description:e.t0.response.data.message?e.t0.response.data.message:"Erro na solicita\xe7\xe3o"});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}(),[l,u,i,b,n.id]);return Object(a.jsxs)(ma,{isOpen:d,setIsOpen:u,width:"912px",children:[Object(a.jsx)(Ea,{title:"Revers\xe3o de Contrato",message:"Confirma REVERS\xc3O do contrato ".concat(n.numeroprojeto,"-").concat(n.numerocontrato,"?"),confirmYes:"Confirmar",confirmNo:"Cancelar",isOpen:h,setIsOpen:C,handleConfirmYes:N}),Object(a.jsx)(Ma,{isOpen:y,setIsOpen:k}),Object(a.jsxs)(xi,{children:[Object(a.jsx)("h1",{children:"Finaliza\xe7\xe3o de Negocia\xe7\xe3o | Revers\xe3o Contrato"}),Object(a.jsxs)(si,{children:[Object(a.jsx)(ui,{title:"Dados",children:Object(a.jsxs)(fi,{ref:o,onSubmit:S,children:[Object(a.jsx)("div",{className:"control",children:Object(a.jsx)(_a,{name:"tipo_contato_id",options:t,menuPlacement:"auto",placeholder:"Tipo de Contato"})}),Object(a.jsx)(_a,{name:"produto_id",options:c,menuPlacement:"auto",placeholder:"Produto"}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)(ge,{name:"numerocontrato",placeholder:"N\xfamero Contrato Novo",mask:"number"}),Object(a.jsx)(ge,{name:"valor_venda",placeholder:"Valor de Venda",mask:"currency"}),Object(a.jsx)(ge,{name:"reembolso",placeholder:"Reembolso",mask:"currency"})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)(ge,{name:"numero_pc",placeholder:"N\xfamero da PC",mask:"number"}),Object(a.jsx)(ge,{name:"taxas_extras",placeholder:"Taxas Extras",mask:"currency"}),Object(a.jsx)(ge,{name:"valor_primeira_parcela",placeholder:"Valor 1\xaa Parcela",mask:"currency"})]}),Object(a.jsx)(ge,{name:"observacao",placeholder:"Observa\xe7\xf5es"}),Object(a.jsxs)("button",{type:"button","data-testid":"add-food-button",onClick:C,children:[Object(a.jsx)("p",{className:"text",children:"Finalizar Revers\xe3o"}),Object(a.jsx)("div",{className:"icon",children:Object(a.jsx)(_.d,{size:24})})]})]})}),Object(a.jsx)(ui,{title:"Contrato",children:Object(a.jsxs)(ln,{children:[Object(a.jsx)(dn,{children:Object(a.jsx)("h3",{children:"Contrato"})}),Object(a.jsxs)(un,{children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Cliente:"}),Object(a.jsx)("div",{children:n.nome_cliente})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Contrato:"}),Object(a.jsx)("div",{children:"".concat(n.numeroprojeto,"-").concat(n.numerocontrato)})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Valor de Venda:"}),Object(a.jsx)("div",{children:n.valor_venda_formatted})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Produto:"}),Object(a.jsx)("div",{children:n.produto})]})]})]})})]})]})]})};function hi(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n\n  h1 {\n    font-weight: 600;\n    font-size: 30px;\n    line-height: 30px;\n    margin-bottom: 40px;\n  }\n\n  div {\n    margin-top: 0px;\n  }\n\n  div.control {\n    display: flex;\n  }\n\n  div.control > div {\n    /* width: 250px; */\n    :not(:last-child) {\n      margin-right: 20px;\n    }\n  }\n\n  div.row {\n    display: flex;\n    margin-bottom: 18px;\n  }\n\n  div.row div {\n    /* width: 250px; */\n    :not(:last-child) {\n      margin-right: 20px;\n    }\n  }\n\n  button {\n    margin-top: 18px;\n    align-self: flex-end;\n  }\n\n  button {\n    font-weight: 600;\n    border-radius: 8px;\n    border: 0;\n    background: #02c697;\n    color: #fff;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    .text {\n      padding: 16px 24px;\n    }\n\n    .icon {\n      display: flex;\n      padding: 16px 16px;\n      background: #02c697;\n      border-radius: 0 8px 8px 0;\n      margin: 0 auto;\n    }\n  }\n\n  .logoErrorInput {\n    margin-left: 5px;\n  }\n"]);return hi=function(){return e},e}function mi(){var e=Object(l.a)(["\n  padding: 30px;\n  min-height: 550px;\n"]);return mi=function(){return e},e}var gi=d.c.div(mi()),vi=Object(d.c)(ae.a)(hi()),yi=function(e){var n=e.negotiation,t=e.tipoContatoOptions,c=e.refreshPage,i=Object(r.useRef)(null),o=X(),s=o.cancelContract,l=o.showModalCancelContract,d=o.toggleModalCancelContract,u=L().addToast,b=Object(r.useState)(!1),j=Object(f.a)(b,2),O=j[0],h=j[1],m=Object(r.useState)(!1),g=Object(f.a)(m,2),v=g[0],y=g[1],w=Object(r.useCallback)((function(){y(!v)}),[v]),k=Object(r.useCallback)(Object(x.a)(p.a.mark((function e(){var n,t,a,r,c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=null===(n=i.current)||void 0===n?void 0:n.getData(),null===(t=i.current)||void 0===t||t.setErrors({}),r=re.c().shape({tipo_contato_id:re.e().required("Tipo de contato \xe9 obrigat\xf3rio"),numero_pc:re.e().when("reembolso",{is:function(e){return e&&e.length>0},then:re.e().required("N\xfamero do PC \xe9 obrigat\xf3rio quando h\xe1 reembolso"),otherwise:re.e()})}),e.next=6,r.validate(a,{abortEarly:!1});case 6:h(!O),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0 instanceof re.a&&(o=ce(e.t0),null===(c=i.current)||void 0===c||c.setErrors(o));case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[O]),C=Object(r.useCallback)((function(){var e;k(),y(!0),null===(e=i.current)||void 0===e||e.submitForm()}),[k]),N=Object(r.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(t,n.id);case 3:y(!1),d(),c(),u({type:"success",title:"Negocia\xe7\xe3o Finalizada!",description:"Cancelamento de Contrato"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),y(!1),u({type:"error",title:"N\xe3o Permitido",description:e.t0.response.data.message?e.t0.response.data.message:"Erro na solicita\xe7\xe3o"});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}(),[s,d,c,u,n.id]);return Object(a.jsxs)(ma,{isOpen:l,setIsOpen:d,width:"912px",children:[Object(a.jsx)(Ea,{title:"Cancelamento de Contrato",message:"Confirma o CANCELAMENTO do contrato ".concat(n.numeroprojeto,"-").concat(n.numerocontrato,"?"),confirmYes:"Confirmar",confirmNo:"Cancelar",isOpen:O,setIsOpen:k,handleConfirmYes:C,buttonType:{theme:{confirmYes:"success"}}}),Object(a.jsx)(Ma,{isOpen:v,setIsOpen:w}),Object(a.jsxs)(gi,{children:[Object(a.jsx)("h1",{children:"Finaliza\xe7\xe3o de Negocia\xe7\xe3o | Cancelamento Contrato"}),Object(a.jsxs)(si,{children:[Object(a.jsx)(ui,{title:"Dados",children:Object(a.jsxs)(vi,{ref:i,onSubmit:N,children:[Object(a.jsx)("div",{className:"control",children:Object(a.jsx)(_a,{name:"tipo_contato_id",options:t,menuPlacement:"auto",placeholder:"Tipo de Contato"})}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)(ge,{name:"multa",placeholder:"Multa Cancelamento",mask:"currency"}),Object(a.jsx)(ge,{name:"reembolso",placeholder:"Reembolso",mask:"currency"}),Object(a.jsx)(ge,{name:"numero_pc",placeholder:"N\xfamero da PC",mask:"number"})]}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)(ge,{name:"taxas_extras",placeholder:"Taxas Extras",mask:"currency"})}),Object(a.jsx)(ge,{name:"observacao",placeholder:"Observa\xe7\xf5es"}),Object(a.jsxs)("button",{type:"button","data-testid":"add-food-button",onClick:k,children:[Object(a.jsx)("p",{className:"text",children:"Finalizar Cancelamento"}),Object(a.jsx)("div",{className:"icon",children:Object(a.jsx)(_.d,{size:24})})]})]})}),Object(a.jsx)(ui,{title:"Contrato",children:Object(a.jsxs)(ln,{children:[Object(a.jsx)(dn,{children:Object(a.jsx)("h3",{children:"Contrato"})}),Object(a.jsxs)(un,{children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Cliente:"}),Object(a.jsx)("div",{children:n.nome_cliente})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Contrato:"}),Object(a.jsx)("div",{children:"".concat(n.numeroprojeto,"-").concat(n.numerocontrato)})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Valor de Venda:"}),Object(a.jsx)("div",{children:n.valor_venda_formatted})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Produto:"}),Object(a.jsx)("div",{children:n.produto})]})]})]})})]})]})]})};function wi(){var e=Object(l.a)(["\n  padding: 40px 50px;\n  display: flex;\n  flex-direction: column;\n\n  h1 {\n    font-weight: 600;\n    font-size: 30px;\n    line-height: 30px;\n    margin-bottom: 40px;\n  }\n\n  div {\n    margin-top: 0px;\n  }\n\n  div.control {\n    display: flex;\n  }\n\n  div.control > div {\n    /* width: 250px; */\n    :not(:last-child) {\n      margin-right: 20px;\n    }\n  }\n\n  div.row {\n    display: flex;\n    margin-bottom: 18px;\n  }\n\n  div.row div {\n    /* width: 250px; */\n    :not(:last-child) {\n      margin-right: 20px;\n    }\n  }\n\n  button {\n    margin-top: 18px;\n    align-self: flex-end;\n  }\n\n  button {\n    font-weight: 600;\n    border-radius: 8px;\n    border: 0;\n    background: #02c697;\n    color: #fff;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    .text {\n      padding: 16px 24px;\n    }\n\n    .icon {\n      display: flex;\n      padding: 16px 16px;\n      background: #02c697;\n      border-radius: 0 8px 8px 0;\n      margin: 0 auto;\n    }\n  }\n\n  .logoErrorInput {\n    margin-left: 5px;\n  }\n"]);return wi=function(){return e},e}var ki=Object(d.c)(ae.a)(wi()),Ci=function(e){var n=e.negotiation,t=e.tipoContatoOptions,c=e.situacaoOptions,i=e.refreshPage,o=Object(r.useRef)(null),s=X(),l=s.defaultNegotiationClose,d=s.showModalDefaultNegotiationClose,u=s.toggleModalDefaultNegotiationClose,b=s.optionModalOutrosSelected,j=L().addToast,O=Object(r.useState)(!1),h=Object(f.a)(O,2),m=h[0],g=h[1],v=Object(r.useState)(!1),y=Object(f.a)(v,2),w=y[0],k=y[1],C=Object(r.useCallback)((function(){k(!w)}),[w]),N=Object(r.useCallback)(Object(x.a)(p.a.mark((function e(){var n,t,a,r,c,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=null===(n=o.current)||void 0===n?void 0:n.getData(),null===(t=o.current)||void 0===t||t.setErrors({}),r=re.c().shape({tipo_contato_id:re.e().required("Tipo de contato \xe9 obrigat\xf3rio"),situacao_id:re.e().required("Situa\xe7\xe3o \xe9 obrigat\xf3rio")}),e.next=6,r.validate(a,{abortEarly:!1});case 6:g(!m),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0 instanceof re.a&&(i=ce(e.t0),null===(c=o.current)||void 0===c||c.setErrors(i));case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[m]),S=Object(r.useCallback)((function(){var e;N(),k(!0),null===(e=o.current)||void 0===e||e.submitForm()}),[N]),D=Object(r.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(t,n.id);case 3:k(!1),u(),i(),j({type:"success",title:"Negocia\xe7\xe3o Finalizada!"}),e.next=17;break;case 9:if(e.prev=9,e.t0=e.catch(0),!(e.t0 instanceof re.a)){e.next=15;break}return r=ce(e.t0),null===(a=o.current)||void 0===a||a.setErrors(r),e.abrupt("return");case 15:k(!1),j({type:"error",title:"N\xe3o Permitido",description:e.t0.response.data.message?e.t0.response.data.message:"Erro na solicita\xe7\xe3o"});case 17:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}(),[l,u,i,j,n.id]);return Object(a.jsxs)(ma,{isOpen:d,setIsOpen:u,width:"912px",children:[Object(a.jsx)(Ea,{title:"Finaliza\xe7\xe3o de negocia\xe7\xe3o",message:"Confirma finaliza\xe7\xe3o da negocia\xe7\xe3o como: ".concat(b.label,"?"),confirmYes:"Confirmar",confirmNo:"Cancelar",isOpen:m,setIsOpen:N,handleConfirmYes:S,buttonType:{theme:{confirmYes:"success"}}}),Object(a.jsx)(Ma,{isOpen:w,setIsOpen:C}),Object(a.jsxs)(ki,{ref:o,onSubmit:D,children:[Object(a.jsx)("h1",{children:"Finaliza\xe7\xe3o de Negocia\xe7\xe3o | Outros"}),Object(a.jsx)("div",{className:"control",children:Object(a.jsx)(_a,{name:"tipo_contato_id",options:t,menuPlacement:"auto",placeholder:"Tipo de Contato"})}),Object(a.jsx)(_a,{name:"situacao_id",options:c,menuPlacement:"auto",placeholder:"Situa\xe7\xe3o",defaultValue:b}),Object(a.jsx)(ge,{name:"observacao",placeholder:"Observa\xe7\xf5es"}),Object(a.jsxs)("button",{type:"button","data-testid":"add-food-button",onClick:N,children:[Object(a.jsx)("p",{className:"text",children:"Finalizar Negocia\xe7\xe3o"}),Object(a.jsx)("div",{className:"icon",children:Object(a.jsx)(_.d,{size:24})})]})]})]})},_i={1:"warning",2:"critical",6:"success",7:"info"},Ni={container:function(e){return Object(Z.a)(Object(Z.a)({},e),{},{minWidth:200,marginLeft:10})}},Si=function(){var e,n,t=Object(r.useRef)(null),c=Object(r.useRef)(null),i=Object(r.useRef)(null),o=Object(Q.h)(),s=Object(Q.g)(),l=Object(r.useRef)(null),d=Object(r.useState)([]),u=Object(f.a)(d,2),b=u[0],j=u[1],p=Object(r.useState)([]),x=Object(f.a)(p,2),O=x[0],h=x[1],m=Object(r.useState)([]),g=Object(f.a)(m,2),y=g[0],w=g[1],k=Object(r.useState)([]),C=Object(f.a)(k,2),_=C[0],N=C[1],S=Object(r.useState)([]),D=Object(f.a)(S,2),R=D[0],F=D[1],P=Object(r.useState)([]),E=Object(f.a)(P,2),T=E[0],z=E[1],M=Object(r.useState)(!1),I=Object(f.a)(M,2),q=I[0],A=I[1],V=Object(r.useState)(0),L=Object(f.a)(V,2),Y=L[0],U=L[1],B=Object(r.useState)(null),$=Object(f.a)(B,2),J=$[0],W=$[1],G=Object(r.useState)(!0),X=Object(f.a)(G,2),K=X[0],ee=X[1],ne=Object(r.useState)(!1),te=Object(f.a)(ne,2),ae=te[0],ce=te[1],ie=Object(r.useState)(!1),oe=Object(f.a)(ie,2),se=oe[0],le=oe[1],de=Object(r.useState)(""),ue=Object(f.a)(de,2),be=ue[0],je=ue[1],pe=Object(r.useState)((function(){var e;return(null===(e=o.state)||void 0===e?void 0:e.limit)?o.state.limit:10})),xe=Object(f.a)(pe,2),fe=xe[0],Oe=xe[1],he=Object(r.useState)((function(){var e;return(null===(e=o.state)||void 0===e?void 0:e.offset)?o.state.offset:0})),me=Object(f.a)(he,2),ge=me[0],ve=me[1],we=Object(r.useState)((function(){return new Date((new Date).getFullYear(),0,1)})),ke=Object(f.a)(we,2),Ce=ke[0],_e=ke[1],Ne=Object(r.useState)((function(){return new Date})),Se=Object(f.a)(Ne,2),De=Se[0],Re=Se[1],Fe=Object(r.useCallback)((function(){var e,n,t,a;(null===(e=o.state)||void 0===e?void 0:e.currentPage)&&(null===(t=l.current)||void 0===t||t.handleSetCurrentPage(o.state.currentPage));(null===(n=o.state)||void 0===n?void 0:n.firstPageRangeDisplayed)&&(null===(a=l.current)||void 0===a||a.handleSetFirstPageRangeDisplayed(o.state.firstPageRangeDisplayed))}),[o.state]),Pe=Object(r.useState)((function(){var e;return(null===(e=o.state)||void 0===e?void 0:e.situationFilter)?o.state.situationFilter:[]})),Ee=Object(f.a)(Pe,2),Te=Ee[0],ze=Ee[1],Me=Object(r.useState)((function(){var e;return(null===(e=o.state)||void 0===e?void 0:e.requestTypeFilter)?o.state.requestTypeFilter:[]})),Ie=Object(f.a)(Me,2),qe=Ie[0],Ae=Ie[1];Object(r.useEffect)((function(){var e=Te.map((function(e){return e.value})),n=e.join().length>0?e.join():0,t=qe.map((function(e){return e.value})),a=t.join().length>0?t.join():0;v.get("/negotiations",{params:{year:2021,offset:ge,limit:fe,startDate:Object(H.a)(Ce,"yyyy-MM-dd"),endDate:Object(H.a)(De,"yyyy-MM-dd"),situacao_id:n,tipo_solicitacao_id:a}}).then((function(e){U(e.headers["x-total-count"]);var n=e.data.data.map((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{valor_venda_formatted:Pn(e.valor_venda),data_ocorrencia_formatted:Object(H.a)(Object(pt.a)(e.data_ocorrencia),"dd-MM-yyyy")})}));z(n),ee(!1),ce(!1),Fe()})).catch((function(e){ee(!1),le(!0),console.log(e.message)}))}),[fe,ge,Ce,De,q,Te,qe,Fe]),Object(r.useEffect)((function(){Promise.all([v.get("/domain/situation"),v.get("/domain/contact-type"),v.get("/domain/product"),v.get("/domain/request-type")]).then((function(e){var n=Object(f.a)(e,4),t=n[0],a=n[1],r=n[2],c=n[3],i=t.data.data.map((function(e){return{value:e.id,label:e.nome}}));N(i);var o=["1","2","6","7"],s=i.filter((function(e){return-1===o.indexOf(e.value)}));j(s);var l=a.data.data;h(l.map((function(e){return{value:e.id,label:e.nome}})));var d=r.data.data;w(d.map((function(e){return{value:e.id,label:"".concat(e.numeroprojeto," - ").concat(e.nomeprojeto)}})));var u=c.data.data;F(u.map((function(e){return{value:e.id,label:e.nome}})))})).catch((function(e){console.log(e.message)}))}),[]);var Ve=Object(r.useCallback)((function(){A(!q)}),[q]),Le=Object(r.useCallback)((function(e,n){ee(!0),Oe(e),ve(n),o.state&&s.replace(o.pathname,null)}),[o,s]),Ye=Object(r.useCallback)((function(e){var n,a,r;e.preventDefault(),!(null===(n=t.current)||void 0===n?void 0:n.value)||(null===(a=t.current)||void 0===a?void 0:a.value.length)<3||v.get("/negotiations-search",{params:{param:null===(r=t.current)||void 0===r?void 0:r.value}}).then((function(e){var n=e.data.data.map((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{valor_venda_formatted:Pn(e.valor_venda),data_ocorrencia_formatted:Object(H.a)(Object(pt.a)(e.data_ocorrencia),"dd-MM-yyyy")})}));z(n),ee(!1),U(0)}))}),[]),Ue=Object(r.useCallback)((function(e){0===e.target.value.length&&Ve()}),[Ve]),Be=Object(r.useCallback)((function(){var e,n;je("");var t={startDate:null===(e=c.current)||void 0===e?void 0:e.selectedDate,endDate:null===(n=i.current)||void 0===n?void 0:n.selectedDate};re.c().shape({startDate:re.b().required("Data inicial n\xe3o pode ser vazia"),endDate:re.b().required("Data final n\xe3o pode ser vazia").min(re.d("startDate"),"Data final n\xe3o pode ser anterior a data inicial")}).validate(t,{abortEarly:!1}).then((function(e){_e(e.startDate),Re(e.endDate),ve(0)})).catch((function(e){e.inner.forEach((function(e){"startDate"===e.path&&je(e.message),"endDate"===e.path&&je(e.message)}))}))}),[]),$e=Object(r.useCallback)((function(e){var n,t;ee(!0),ze(e),ve(0),null===(n=l.current)||void 0===n||n.handleSetCurrentPage(1),null===(t=l.current)||void 0===t||t.handleSetFirstPageRangeDisplayed(0),o.state&&s.replace(o.pathname,null)}),[o,s]),He=Object(r.useCallback)((function(e){var n,t;U(0),z([]),ee(!0),Ae(e),ve(0),null===(n=l.current)||void 0===n||n.handleSetCurrentPage(1),null===(t=l.current)||void 0===t||t.handleSetFirstPageRangeDisplayed(0),o.state&&s.replace(o.pathname,null)}),[o,s]),Je=Object(r.useCallback)((function(){ee(!0),ce(!0),Ve()}),[Ve]);return Object(a.jsxs)(cn,{children:[Object(a.jsx)(On,{}),J&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(bi,{negotiation:J,tipoContatoOptions:O,refreshPage:Ve}),Object(a.jsx)(Oi,{negotiation:J,tipoContatoOptions:O,produtoOptions:y,refreshPage:Ve}),Object(a.jsx)(yi,{negotiation:J,tipoContatoOptions:O,refreshPage:Ve}),Object(a.jsx)(Ci,{negotiation:J,tipoContatoOptions:O,situacaoOptions:b,refreshPage:Ve})]}),Object(a.jsxs)(sn,{children:[Object(a.jsx)(Dn,{children:Object(a.jsx)("form",{onSubmit:Ye,children:Object(a.jsx)("input",{ref:t,type:"text",className:"search-bar",placeholder:"Pesquise por Ocorr\xeancia, Cliente ou Contrato",title:"Tecle enter para pesquisar...",onChange:Ue})})}),Object(a.jsxs)(Ut,{children:[Object(a.jsxs)(on,{children:[Object(a.jsx)("h1",{children:"Negocia\xe7\xf5es"}),Object(a.jsxs)("button",{className:"refreshPage",type:"button",onClick:Je,children:[ae?Object(a.jsx)(ye.a,{type:"Oval",color:"#003379",height:20,width:20}):Object(a.jsx)(jt.b,{size:20}),"Atualizar"]})]}),Object(a.jsxs)(Bt,{children:[Object(a.jsxs)("div",{className:"dateFilter",children:[Object(a.jsx)("span",{children:"Ciclo Inicia\xe7\xe3o:"}),Object(a.jsxs)("div",{className:"inputDates",children:[Object(a.jsx)(ba,{ref:c,name:"start_date",label:"In\xedcio:",defaultDate:Ce}),Object(a.jsx)(ba,{ref:i,name:"end_date",label:"Fim:",defaultDate:De}),Object(a.jsxs)("button",{className:"dateFilterRange",type:"button",onClick:Be,title:"Filtrar",children:[Object(a.jsx)(bn.o,{}),"Filtrar"]})]}),be&&Object(a.jsx)("span",{className:"invalidDate",children:be})]}),Object(a.jsxs)("div",{className:"typesFilters",children:[Object(a.jsx)(Ke.a,{onChange:He,isMulti:!0,options:R,placeholder:"Tipo de Solicita\xe7\xe3o",defaultValue:(null===(e=o.state)||void 0===e?void 0:e.requestTypeFilter)?o.state.requestTypeFilter:void 0,styles:Ni}),Object(a.jsx)(Ke.a,{onChange:$e,isMulti:!0,options:_,placeholder:"Status Ocorr\xeancia",defaultValue:(null===(n=o.state)||void 0===n?void 0:n.situationFilter)?o.state.situationFilter:void 0,styles:Ni})]})]}),K?Object(a.jsx)(Wt,{}):Object(a.jsxs)($t,{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Ocorr\xeancia"}),Object(a.jsx)("th",{children:"Data Sol."}),Object(a.jsx)("th",{children:"Tipo"}),Object(a.jsx)("th",{children:"Cliente"}),Object(a.jsx)("th",{children:"Contrato"}),Object(a.jsx)("th",{children:"Valor"}),Object(a.jsx)("th",{className:"centered situation",children:"Situa\xe7\xe3o"}),Object(a.jsx)("th",{})]})}),Object(a.jsx)("tbody",{children:T&&T.map((function(e){var n,t;return Object(a.jsxs)("tr",{onClick:function(){return W(e)},children:[Object(a.jsx)("td",{children:e.numero_ocorrencia}),Object(a.jsx)("td",{children:e.data_ocorrencia_formatted}),Object(a.jsx)("td",{children:e.tipo_solicitacao}),Object(a.jsx)("td",{children:e.nome_cliente}),Object(a.jsx)("td",{children:"".concat(e.numeroprojeto,"-").concat(e.numerocontrato)}),Object(a.jsx)("td",{children:e.valor_venda_formatted}),Object(a.jsx)("td",{children:Object(a.jsx)(aa,{theme:_i[e.situacao_id]||"default",children:e.situacao})}),Object(a.jsx)("td",{className:"centered",children:Object(a.jsx)(Qc,{negotiationProps:{id:e.id,situation_id:e.situacao_id},situacaoOptions:b,limit:fe,offset:ge,firstPageRangeDisplayed:null===(n=l.current)||void 0===n?void 0:n.firstPageRangeDisplayed,currentPage:null===(t=l.current)||void 0===t?void 0:t.currentPage,situationFilter:Te,requestTypeFilter:qe,userRespFilterSelected:{}})})]},e.id)}))})]}),Y>0&&Object(a.jsx)(At,{ref:l,count:Y,limit:fe,pageRangeDisplayed:5,onChange:Le}),se&&Object(a.jsx)(Dt,{})]})]})]})};function Di(){var e=Object(l.a)(["\n  flex: 1;\n  padding: 24px;\n  width: 100%;\n  /* max-width: 400px; */\n  background: #f2f5f8;\n\n  header {\n    display: flex;\n    height: 45px;\n\n    div.negotiationInfo {\n      display: flex;\n      svg {\n        cursor: pointer;\n        margin-left: 10px;\n        color: #be6464;\n      }\n    }\n  }\n\n  hr {\n    border: 1px solid #d2cfcf;\n    margin: 0 -24px 10px -24px;\n  }\n"]);return Di=function(){return e},e}function Ri(){var e=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  padding: 8px 0;\n\n  strong {\n    margin-right: 5px;\n    color: #3c3c3c;\n  }\n"]);return Ri=function(){return e},e}function Fi(){var e=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  padding: 8px 0;\n\n  strong {\n    margin-right: 5px;\n    color: #3c3c3c;\n  }\n\n  button {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 16px;\n    color: #3c3c3c;\n    padding: 12px 20px;\n    transition: background 0.2s ease 0s;\n    cursor: pointer;\n    background: transparent;\n    border: none;\n    border-radius: 20px;\n\n    svg.drop {\n      width: 16;\n      height: 16;\n      margin-right: 10px;\n      color: #006100;\n    }\n\n    svg.drop.rev {\n      color: #0d6efd;\n    }\n\n    svg.drop.cancel {\n      color: #9c0006;\n    }\n\n    &:hover {\n      background: #e5e5e5;\n    }\n  }\n"]);return Fi=function(){return e},e}function Pi(){var e=Object(l.a)(["\n        min-height: 90px;\n      "]);return Pi=function(){return e},e}function Ei(){var e=Object(l.a)(["\n  flex: 1;\n  padding: 24px;\n  background: #fff;\n\n  header {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n\n    ","\n\n    div.linkBackPage {\n      margin-bottom: 5px;\n\n      a {\n        display: flex;\n        align-items: center;\n        color: #003379;\n\n        text-decoration: none;\n        font-weight: bold;\n        transition: color 0.2s;\n\n        svg {\n          margin-right: 5px;\n        }\n\n        span {\n          margin-top: 2px;\n        }\n\n        &:hover {\n          color: ",";\n        }\n      }\n    }\n\n    div.tagSituacao {\n      position: absolute;\n      padding: 15px;\n      right: 0;\n    }\n\n    div.negotiationDetailsAdmin {\n      margin-top: 25px;\n    }\n  }\n"]);return Ei=function(){return e},e}function Ti(){var e=Object(l.a)(["\n  display: flex;\n  flex: 1;\n  flex-wrap: wrap;\n"]);return Ti=function(){return e},e}function zi(){var e=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  border: 1px solid #f0f0f0;\n  box-shadow: 4px 0px 4px rgba(0, 0, 0, 0.25);\n  border-radius: 10px;\n  min-height: 590px;\n"]);return zi=function(){return e},e}function Mi(){var e=Object(l.a)(["\n  height: 100%;\n  width: 100%;\n  max-width: 1120px;\n  padding: 20px;\n  color: #3c3c3c;\n"]);return Mi=function(){return e},e}var Ii=d.c.div(Mi()),qi=d.c.div(zi()),Ai=d.c.div(Ti()),Vi=d.c.section(Ei(),(function(e){return 1===e.situacao_id&&Object(d.b)(Pi())}),Object(we.a)(.2,"#003379")),Li=d.c.div(Fi()),Yi=d.c.div(Ri()),Ui=d.c.section(Di()),Bi=t(529);function $i(){var e=Object(l.a)(["\n  div.row {\n    margin-bottom: 20px;\n\n    strong {\n      display: inline-block;\n      margin-bottom: 5px;\n    }\n\n    div.selectEdit {\n      padding: 0;\n    }\n\n    div[data-testid='input-container'] {\n      padding: 10px;\n    }\n  }\n"]);return $i=function(){return e},e}function Hi(){var e=Object(l.a)(["\n  div {\n    margin-bottom: 10px;\n  }\n\n  div p {\n    line-height: 30px;\n  }\n"]);return Hi=function(){return e},e}function Ji(){var e=Object(l.a)(["\n  ::-webkit-scrollbar {\n    width: 10px;\n  }\n\n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    background: #f2f5f8;\n    border-radius: 10px;\n  }\n\n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    background: #a3a3a3;\n  }\n"]);return Ji=function(){return e},e}function Wi(){var e=Object(l.a)(["\n  position: relative;\n\n  div.editControls {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-end;\n\n    button {\n      background: transparent;\n      border: 0;\n      color: #a3a3a3;\n      padding: 10px;\n      transition: color 0.2s;\n\n      &:hover {\n        color: #003379;\n      }\n    }\n\n    button.saveEdit {\n      color: #39b100;\n      &:hover {\n        color: ",";\n      }\n    }\n\n    span.separator {\n      align-self: stretch;\n      background-color: hsl(0, 0%, 80%);\n      margin-bottom: 8px;\n      margin-top: 8px;\n      margin-left: 5px;\n      margin-right: 5px;\n      width: 1px;\n      box-sizing: border-box;\n    }\n\n    button.cancelEdit {\n      color: #e74c3c;\n      &:hover {\n        color: ",";\n      }\n    }\n  }\n"]);return Wi=function(){return e},e}var Gi=d.c.div(Wi(),Object(we.a)(.2,"#39b100"),Object(we.a)(.2,"#e74c3c")),Xi=d.c.div(Ji()),Ki=d.c.div(Hi()),Qi=Object(d.c)(ae.a)($i()),Zi=function(e){var n=e.negotiation,t=e.refreshPage,c=Object(r.useRef)(null),i=Object(r.useState)(!1),o=Object(f.a)(i,2),s=o[0],l=o[1],d=Object(r.useState)(!1),u=Object(f.a)(d,2),b=u[0],j=u[1],O=L().addToast,h=X().negotiationUpdate,m=Object(r.useState)([]),g=Object(f.a)(m,2),y=g[0],w=g[1],k=Object(r.useState)(),C=Object(f.a)(k,2),_=C[0],N=C[1],S=Object(r.useState)([]),D=Object(f.a)(S,2),R=D[0],F=D[1],P=Object(r.useState)(),E=Object(f.a)(P,2),T=E[0],z=E[1],M=Object(r.useState)([]),I=Object(f.a)(M,2),q=I[0],A=I[1],V=Object(r.useState)(),Y=Object(f.a)(V,2),U=Y[0],B=Y[1];Object(r.useEffect)((function(){Promise.all([v.get("/domain/reasons"),v.get("/domain/request-type"),v.get("/domain/request-source")]).then((function(e){var n=Object(f.a)(e,3),t=n[0],a=n[1],r=n[2],c=t.data.data;w(c.map((function(e){return{value:e.id,label:e.nome}})));var i=a.data.data;F(i.map((function(e){return{value:e.id,label:e.nome}})));var o=r.data.data;A(o.map((function(e){return{value:e.id,label:e.nome}})))})).catch((function(e){console.log(e.message)}))}),[]);var $=Object(r.useCallback)((function(){l(!0);var e=y.find((function(e){return e.value===(null===n||void 0===n?void 0:n.motivo_id)})),t=R.find((function(e){return e.value===(null===n||void 0===n?void 0:n.tipo_solicitacao_id)})),a=q.find((function(e){return e.value===(null===n||void 0===n?void 0:n.origem_id)}));N(e),z(t),B(a)}),[y,R,q,n]),W=Object(r.useCallback)((function(){var e;null===(e=c.current)||void 0===e||e.submitForm()}),[]),G=Object(r.useMemo)((function(){return{data_finalizacao:n.data_finalizacao?Object(H.a)(Object(pt.a)(n.data_finalizacao),"dd/MM/yyyy"):void 0,valor_primeira_parcela:Pn(n.valor_primeira_parcela),reembolso:Pn(n.reembolso),taxas_extras:Pn(n.taxas_extras),multa:Pn(n.multa)}}),[n]),K=Object(r.useCallback)((function(e){return Object(Bi.a)(Object(J.a)(e,"dd/MM/yyyy",new Date),new Date)}),[]),Q=Object(r.useCallback)((function(){j(!b),console.log("state modal ".concat(b))}),[b]),Z=Object(r.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(a){var r,i,o,s,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null===(r=c.current)||void 0===r||r.setErrors({}),i=re.c().shape({numero_pc:re.e().when("reembolso",{is:function(e){return e&&Number(e)>0},then:re.e().required("N\xfamero do PC \xe9 obrigat\xf3rio quando h\xe1 reembolso"),otherwise:re.e()}),data_finalizacao:re.e().when("$dataFinalizacaoExist",{is:!0,then:re.e().required("Data de finaliza\xe7\xe3o \xe9 obrigat\xf3ria").nullable().matches(/^(0[1-9]|[12][0-9]|3[01])[- /.](0[1-9]|1[012])[- /.](19|20)\d\d$/,"Data inv\xe1lida. Use dd/mm/aaaa"),otherwise:re.e()})}),!K(a.data_finalizacao)){e.next=6;break}return null===(o=c.current)||void 0===o||o.setErrors({data_finalizacao:"A data de finaliza\xe7\xe3o n\xe3o pode ser maior que hoje"}),e.abrupt("return");case 6:return e.next=8,i.validate(a,{abortEarly:!1,context:{dataFinalizacaoExist:!!n.data_finalizacao}});case 8:return j(!0),e.next=11,h(a,n.id);case 11:j(!1),l(!1),t(),O({type:"success",title:"Dados da negocia\xe7\xe3o atualizados"}),window.scrollTo(0,0),e.next=26;break;case 18:if(e.prev=18,e.t0=e.catch(0),!(e.t0 instanceof re.a)){e.next=24;break}return d=ce(e.t0),null===(s=c.current)||void 0===s||s.setErrors(d),e.abrupt("return");case 24:j(!1),O({type:"error",title:"N\xe3o Permitido",description:e.t0.response.data.message?e.t0.response.data.message:"Erro na solicita\xe7\xe3o"});case 26:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(n){return e.apply(this,arguments)}}(),[O,h,K,n.id,n.data_finalizacao,j,t]);return Object(a.jsxs)(Gi,{children:[Object(a.jsx)(Ma,{isOpen:b,setIsOpen:Q}),Object(a.jsx)("div",{className:"editControls",children:s?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{className:"saveEdit",type:"button",onClick:W,title:"Salvar Altera\xe7\xf5es",children:Object(a.jsx)(bn.h,{size:28})}),Object(a.jsx)("span",{className:"separator"}),Object(a.jsx)("button",{className:"cancelEdit",type:"button",onClick:function(){return l(!1)},title:"Desistir",children:Object(a.jsx)(bn.w,{size:28})})]}):Object(a.jsx)("button",{type:"button",title:"Editar Negocia\xe7\xe3o",onClick:$,children:Object(a.jsx)(bn.r,{size:25})})}),Object(a.jsx)(Xi,{children:s?Object(a.jsxs)(Qi,{ref:c,onSubmit:Z,children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("strong",{children:"Motivo"}),Object(a.jsx)(_a,{name:"motivo_id",options:y,menuPlacement:"auto",defaultValue:_,placeholder:"Motivo da Solicita\xe7\xe3o de Cancelamento",className:"selectEdit"})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("strong",{children:"Tipo de Solicita\xe7\xe3o"}),Object(a.jsx)(_a,{name:"tipo_solicitacao_id",options:R,menuPlacement:"auto",defaultValue:T,placeholder:"Tipo de Solicita\xe7\xe3o",className:"selectEdit"})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("strong",{children:"Origem"}),Object(a.jsx)(_a,{name:"origem_id",options:q,menuPlacement:"auto",defaultValue:U,placeholder:"Origem",className:"selectEdit"})]}),1!==Number(n.situacao_id)&&Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("strong",{children:"Data Finaliza\xe7\xe3o"}),Object(a.jsx)("input",{name:"data_exists",type:"hidden"}),Object(a.jsx)(ge,{name:"data_finalizacao",placeholder:"Data Finaliza\xe7\xe3o",mask:"date",defaultValue:G.data_finalizacao})]}),(6===Number(n.situacao_id)||7===Number(n.situacao_id))&&Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("strong",{children:"Valor 1\xaa Parcela"}),Object(a.jsx)(ge,{name:"valor_primeira_parcela",placeholder:"Valor 1\xaa Parcela",mask:"currency",defaultValue:G.valor_primeira_parcela})]}),(7===Number(n.situacao_id)||2===Number(n.situacao_id)||16===Number(n.situacao_id))&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("strong",{children:"Reembolso"}),Object(a.jsx)(ge,{name:"reembolso",placeholder:"Reembolso",mask:"currency",defaultValue:G.reembolso})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("strong",{children:"N\xfamero da PC"}),Object(a.jsx)(ge,{name:"numero_pc",placeholder:"N\xfamero da PC",mask:"number",defaultValue:n.numero_pc})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("strong",{children:"Taxas Extras"}),Object(a.jsx)(ge,{name:"taxas_extras",placeholder:"Taxas Extras",mask:"currency",defaultValue:G.taxas_extras})]})]}),(2===Number(n.situacao_id)||16===Number(n.situacao_id))&&Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("strong",{children:"Multa"}),Object(a.jsx)(ge,{name:"multa",placeholder:"Multa",mask:"currency",defaultValue:G.multa})]})]}):Object(a.jsxs)(Ki,{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("strong",{children:"Motivo"}),Object(a.jsx)("p",{children:n.motivo})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("strong",{children:"Tipo de Solicita\xe7\xe3o"}),Object(a.jsx)("p",{children:n.tipo_solicitacao})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("strong",{children:"Origem"}),Object(a.jsx)("p",{children:n.origem})]}),1!==Number(n.situacao_id)&&Object(a.jsxs)("div",{children:[Object(a.jsx)("strong",{children:"Data Finaliza\xe7\xe3o"}),Object(a.jsx)("p",{children:G.data_finalizacao})]}),(6===Number(n.situacao_id)||7===Number(n.situacao_id))&&Object(a.jsxs)("div",{children:[Object(a.jsx)("strong",{children:"Primeira Parcela"}),Object(a.jsx)("p",{children:G.valor_primeira_parcela})]}),(7===Number(n.situacao_id)||2===Number(n.situacao_id)||16===Number(n.situacao_id))&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("strong",{children:"Reembolso"}),Object(a.jsx)("p",{children:G.reembolso})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("strong",{children:"N\xfamero da PC"}),Object(a.jsx)("p",{children:n.numero_pc})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("strong",{children:"Taxas Extras"}),Object(a.jsx)("p",{children:G.taxas_extras})]})]}),(2===Number(n.situacao_id)||16===Number(n.situacao_id))&&Object(a.jsxs)("div",{children:[Object(a.jsx)("strong",{children:"Multa"}),Object(a.jsx)("p",{children:G.multa})]})]})})]})},eo={1:"warning",6:"success",7:"info"},no={C:"Cancelada",F:"Finalizada",P:"Pendente"},to={container:function(e){return Object(Z.a)(Object(Z.a)({},e),{},{flex:1})}},ao=function(){var e,n,t,c,i,o,l,d,u,b,j,p,x,O,h,m=X(),g=m.toggleModalRetentionContract,y=m.toggleModalDowngradeContract,w=m.toggleModalCancelContract,k=m.toggleModalOutrosSelected,C=Object(Q.g)(),_=Object(Q.h)(),N=Object(r.useState)(!0),S=Object(f.a)(N,2),D=S[0],R=S[1],F=Object(r.useState)(!1),P=Object(f.a)(F,2),E=P[0],T=P[1],z=Object(r.useState)(0),M=Object(f.a)(z,2),I=M[0],q=M[1],A=Object(r.useState)(""),V=Object(f.a)(A,2),L=V[0],Y=V[1],U=Object(r.useState)(!1),B=Object(f.a)(U,2),$=B[0],J=B[1],W=Object(r.useState)(),G=Object(f.a)(W,2),K=G[0],ee=G[1],ne=Object(r.useState)([]),te=Object(f.a)(ne,2),ae=te[0],re=te[1],ce=Object(r.useState)([]),ie=Object(f.a)(ce,2),oe=ie[0],se=ie[1],le=Object(r.useState)([]),de=Object(f.a)(le,2),ue=de[0],be=de[1];Object(r.useEffect)((function(){var e,n;(null===(e=_.state)||void 0===e?void 0:e.negotiationId)||C.push("/"),v.get("/negotiations/".concat(null===(n=_.state)||void 0===n?void 0:n.negotiationId)).then((function(e){var n=e.data.data,t=Object(Z.a)(Object(Z.a)({},n),{},{valor_venda_formatted:Pn(n.valor_venda),data_ocorrencia_formatted:Object(H.a)(Object(pt.a)(n.data_ocorrencia),"dd-MM-yyyy HH:mm:ss")});ee(t),R(!1)})).catch((function(e){R(!1),T(!0),e.response&&(q(e.response.status),Y(e.response.data.message))}))}),[C,null===(e=_.state)||void 0===e?void 0:e.negotiationId,$]),Object(r.useEffect)((function(){Promise.all([v.get("/domain/situation"),v.get("/domain/contact-type"),v.get("/domain/product")]).then((function(e){var n=Object(f.a)(e,3),t=n[0],a=n[1],r=n[2],c=["1","2","6","7"],i=t.data.data.filter((function(e){return-1===c.indexOf(e.id.toString())}));re(i.map((function(e){return{value:e.id,label:e.nome}})));var o=a.data.data;se(o.map((function(e){return{value:e.id,label:e.nome}})));var s=r.data.data;be(s.map((function(e){return{value:e.id,label:"".concat(e.numeroprojeto," - ").concat(e.nomeprojeto)}})))})).catch((function(e){console.log(e.message)}))}),[]);var je=Object(r.useCallback)((function(){J(!$)}),[$]);return Object(a.jsxs)(cn,{children:[Object(a.jsx)(On,{}),K&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(bi,{negotiation:K,tipoContatoOptions:oe,refreshPage:je}),Object(a.jsx)(Oi,{negotiation:K,tipoContatoOptions:oe,produtoOptions:ue,refreshPage:je}),Object(a.jsx)(yi,{negotiation:K,tipoContatoOptions:oe,refreshPage:je}),Object(a.jsx)(Ci,{negotiation:K,tipoContatoOptions:oe,situacaoOptions:ae,refreshPage:je})]}),Object(a.jsxs)(sn,{children:[Object(a.jsx)(Dn,{}),Object(a.jsxs)(Ii,{children:[Object(a.jsx)(on,{children:Object(a.jsxs)(Cr,{children:[Object(a.jsx)(_r,{link:"/negotiations",label:"Negocia\xe7\xf5es"}),Object(a.jsx)(_r,{label:"Detalhes"})]})}),Object(a.jsxs)(qi,{children:[E&&Object(a.jsx)(Dt,{errorMessage:L,errorCode:I}),D&&Object(a.jsx)(Wt,{}),K&&Object(a.jsxs)(Ai,{children:[Object(a.jsxs)(Vi,{situacao_id:K.situacao_id,children:[Object(a.jsxs)("header",{children:[Object(a.jsx)("div",{className:"linkBackPage",children:Object(a.jsxs)(s.b,{to:{pathname:"/negotiations",state:{limit:(null===(n=_.state)||void 0===n?void 0:n.limit)?null===(t=_.state)||void 0===t?void 0:t.limit:10,offset:(null===(c=_.state)||void 0===c?void 0:c.offset)?null===(i=_.state)||void 0===i?void 0:i.offset:0,firstPageRangeDisplayed:(null===(o=_.state)||void 0===o?void 0:o.firstPageRangeDisplayed)?null===(l=_.state)||void 0===l?void 0:l.firstPageRangeDisplayed:0,currentPage:(null===(d=_.state)||void 0===d?void 0:d.currentPage)?null===(u=_.state)||void 0===u?void 0:u.currentPage:1,situationFilter:(null===(b=_.state)||void 0===b?void 0:b.situationFilter)?null===(j=_.state)||void 0===j?void 0:j.situationFilter:[],requestTypeFilter:(null===(p=_.state)||void 0===p?void 0:p.requestTypeFilter)?null===(x=_.state)||void 0===x?void 0:x.requestTypeFilter:[],userRespFilterSelected:(null===(O=_.state)||void 0===O?void 0:O.userRespFilterSelected)?null===(h=_.state)||void 0===h?void 0:h.userRespFilterSelected:void 0}},children:[Object(a.jsx)(Dr.a,{size:25}),Object(a.jsx)("span",{children:"Voltar"})]})}),Object(a.jsx)(aa,{className:"tagSituacao",theme:eo[K.situacao_id]||"default",children:K.situacao}),1===Number(K.situacao_id)&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Li,{children:[Object(a.jsx)("strong",{children:"Finalizar como:"}),Object(a.jsxs)("button",{type:"button",onClick:g,children:[Object(a.jsx)(bn.j,{className:"drop"}),"Reten\xe7\xe3o"]}),Object(a.jsxs)("button",{type:"button",onClick:y,children:[Object(a.jsx)(bn.z,{className:"drop rev"}),"Revers\xe3o"]}),Object(a.jsxs)("button",{type:"button",onClick:w,children:[Object(a.jsx)(bn.x,{className:"drop cancel"}),"Cancelamento"]})]}),Object(a.jsxs)(Yi,{children:[Object(a.jsx)("strong",{children:"Finalizar Outros:"}),Object(a.jsx)(Ke.a,{options:ae,styles:to,placeholder:"Situa\xe7\xe3o",onChange:k,value:null})]})]})]}),Object(a.jsx)(Zi,{negotiation:K,refreshPage:je})]}),Object(a.jsxs)(Ui,{children:[Object(a.jsxs)("header",{children:["Dados da Ocorr\xeancia",Number(K.transferida)?Object(a.jsxs)("div",{className:"negotiationInfo",children:[Object(a.jsx)("span",{"data-tip":!0,"data-for":"negotiationInfo",children:Object(a.jsx)(bn.q,{})}),Object(a.jsx)(xt.a,{id:"negotiationInfo",type:"error",effect:"solid",delayShow:1e3,children:Object(a.jsx)("span",{children:"Negocia\xe7\xe3o Transferida"})})]}):""]}),Object(a.jsx)("hr",{}),Object(a.jsxs)(ln,{children:[Object(a.jsx)(dn,{children:Object(a.jsx)("h3",{children:"Contrato"})}),Object(a.jsxs)(un,{children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Cliente:"}),Object(a.jsx)("div",{children:K.nome_cliente})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Contrato:"}),Object(a.jsx)("div",{children:"".concat(K.numeroprojeto,"-").concat(K.numerocontrato)})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Valor de Venda:"}),Object(a.jsx)("div",{children:K.valor_venda_formatted})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Produto:"}),Object(a.jsx)("div",{children:K.produto})]})]})]}),Object(a.jsxs)(ln,{children:[Object(a.jsx)(dn,{children:Object(a.jsx)("h3",{children:"Ocorr\xeancia"})}),Object(a.jsxs)(un,{children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"N\xfamero:"}),Object(a.jsx)("div",{children:K.numero_ocorrencia})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Data:"}),Object(a.jsx)("div",{children:K.data_ocorrencia_formatted})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Status Timesharing:"}),Object(a.jsx)("div",{children:no[K.status_ts]})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Motivo:"}),Object(a.jsx)("div",{children:K.motivo})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Respons\xe1vel TS:"}),Object(a.jsx)("div",{children:K.usuario_resp_ts})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Usu\xe1rio Cadastro:"}),Object(a.jsx)("div",{children:K.nomeusuario_cadastro})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("span",{children:"Departamento:"}),Object(a.jsx)("div",{children:K.departamento})]})]})]})]})]})]})]})]})]})},ro=["ROLE_ADMIN","ROLE_GERENTE","ROLE_COORDENADOR"],co=function(){var e=$().user,n=ne({roles:ro});return Object(a.jsxs)(Q.d,{children:[Object(a.jsx)(te,{path:"/",exact:!0,component:qe}),Number(null===e||void 0===e?void 0:e.reset_password)&&Object(a.jsx)(te,{render:function(){return Object(a.jsx)(Q.a,{to:{pathname:"/"}})},exact:!0,component:Ge,isPrivate:!0}),Object(a.jsx)(te,{path:"/dashboard",exact:!0,component:bt,isPrivate:!0}),Object(a.jsx)(te,{path:"/occurrences/details",exact:!0,component:Kc,isPrivate:!0}),Object(a.jsx)(te,{path:"/occurrences",exact:!0,component:hc,isPrivate:!0}),Object(a.jsx)(te,{path:"/negotiations/details",exact:!0,component:ao,isPrivate:!0}),Object(a.jsx)(te,{path:"/negotiations",exact:!0,component:n?Va:Si,isPrivate:!0}),Object(a.jsx)(te,{roles:["ROLE_ADMIN"],path:"/settings",exact:!0,component:Ka,isPrivate:!0}),Object(a.jsx)(te,{roles:["ROLE_ADMIN"],path:"/settings/users/edit",exact:!0,component:Ur,isPrivate:!0}),Object(a.jsx)(te,{path:"/settings/users/new",exact:!0,component:Ur,isPrivate:!0}),Object(a.jsx)(te,{roles:["ROLE_ADMIN"],path:"/settings/users",exact:!0,component:Sr,isPrivate:!0}),Object(a.jsx)(te,{roles:["ROLE_ADMIN"],path:"/settings/roles/edit",exact:!0,component:ac,isPrivate:!0}),Object(a.jsx)(te,{roles:["ROLE_ADMIN"],path:"/settings/roles",exact:!0,component:Wr,isPrivate:!0}),Object(a.jsx)(te,{render:function(){return Object(a.jsx)(Q.a,{to:"/"})},exact:!0,component:qe})]})},io=function(){return Object(a.jsxs)(s.a,{children:[Object(a.jsx)(K,{children:Object(a.jsx)(co,{})}),Object(a.jsx)(b,{})]})};o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(io,{})}),document.getElementById("root"))}},[[525,1,2]]]);
//# sourceMappingURL=main.26f11ac5.chunk.js.map